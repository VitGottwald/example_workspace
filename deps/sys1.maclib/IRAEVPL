*                                                                       00001000
* %DCL IRAEVPL_INCLUDED CHAR EXT;                                       00002000
* %DEACTIVATE IRAEVPL_INCLUDED;                                         00003000
* %IF IRAEVPL_INCLUDED = '' %THEN                                       00004000
* %DO;                                                                  00005000
*%/* Start of PL/X PreProlog Code */;                                   00006000
*                                                                       00007000
*%/* End of PL/X PreProlog Code */;                                     00008000
*/* Macro made bi-lingual on 15268. CBGEN compile date 12258         */ 00009000
*% /*                                                                   00010000
         MACRO                                                          00011000
         IRAEVPL &DSECT=YES,&LIST=YES,&TITLE=YES,                      *00012000
               &IRAENCSTATE_PARMLIST=YES,&IRAENQHR_PARMLIST=COND,      *00013000
               &IRAENCASSOC_PARMLIST=COND,&IRAQRYCN_PARMLIST=COND       00014000
         GBLC  &IRAEVPL_INCLUDED                                        00015000
         GBLC  &ZCBPRINT                                                00016000
&IRAEVPL_INCLUDED SETC 'YES'                                            00017000
         AIF   ('&LIST' EQ 'NONE').P0                                   00018000
         AIF   ('&TITLE' EQ 'NO').P5                                    00019000
 TITLE   'IRAEVPL  - Sysevent Parameter List Mappings              '    00020000
.P5      ANOP                                                           00021000
**/ IRAEVPL_1:;                                                         00022000
*/* START OF SPECIFICATIONS ******************************************* 00023000
**01* PROPRIETARY STATEMENT=                                            00024000
**          LICENSED MATERIALS - PROPERTY OF IBM                        00025000
**          5650-ZOS  COPYRIGHT IBM CORP. 1994, 2013                    00026000
**                                                                      00027000
**  Status= HBB7790                                                     00028000
**                                                                      00029000
***** END_OF_PROPRIETARY_STATEMENT ************************************ 00030000
**                                                                      00031000
**01* DESCRIPTIVE NAME:  Sysevent Parameter List Mappings               00032000
**02*  ACRONYM:  n/a                                                    00033000
**                                                                      00034000
**01* MACRO NAME:  IRAEVPL                                              00035000
**                                                                      00036000
**01* EXTERNAL CLASSIFICATION: PSPI                                     00037000
**01* END OF EXTERNAL CLASSIFICATION:                                   00038000
**                                                                      00039000
**01* DSECT NAME:                                                       00040000
**     IRAENCSTATE_PARMLIST                                             00041000
**     IRAENQHR_PARMLIST                                                00042000
**     IRAENCASSOC_PARMLIST                                             00043000
**     IRAQRYCN_PARMLIST                                                00044000
**                                                                      00045000
**01* COMPONENT:  SRM (SC1CX)                                           00046000
**                                                                      00047000
**01* EYE-CATCHER:  None                                                00048000
**                                                                      00049000
**01* STORAGE ATTRIBUTES:                                               00050000
**02*  SUBPOOL:  any fixed subpool                                      00051000
**02*  KEY:      any                                                    00052000
**02*  RESIDENCY:  Above 16M                                            00053000
**                                                                      00054000
**01* SIZE:                                                             00055000
**            IRAENCSTATE_PARMLIST -- X'0004' bytes                     00056000
**            IRAENQHR_PARMLIST    -- X'0058' bytes                     00057000
**            IRAENCASSOC_PARMLIST -- X'0018' bytes                     00058000
**            IRAQRYCN_PARMLIST    -- X'00D0' bytes                     00059000
**01* CREATED BY:                                                       00060000
**                  SYSEVENT ENCSTATE invoker                           00061000
**                                                                      00062000
**01* POINTED TO BY:                                                    00063000
**                                                                      00064000
**01* SERIALIZATION:                                                    00065000
**     User-defined                                                     00066000
**                                                                      00067000
**01* FUNCTION:                                                         00068000
**02* Maps external sysevent parameter lists                            00069000
**                                                                      00070000
**                                                                      00071000
**01* METHOD OF ACCESS:                                                 00072000
**02*  ASM:                                                             00073000
**      IRAEVPL                                                         00074000
**           DSECT=YES!NO  -- Request DSECT definition                  00075000
**           IRAENCSTATE_PARMLIST=YES!NO!COND -- Request mapping        00076000
**                            USING on IRAENCSTATE_PARMLIST             00077000
**           IRAENQHR_PARMLIST=YES!NO!COND -- Request mapping           00078000
**                            USING on IRAENQHR_PARMLIST                00079000
**           IRAENCASSOC_PARMLIST=YES!NO!COND -- Request mapping        00080000
**                            USING on IRAENCASSOC_PARMLIST             00081000
**           IRAQRYCN_PARMLIST=YES!NO!COND -- Request mapping           00082000
**                            USING on IRAQRYCN_PARMLIST                00083000
**     Default: DSECT=YES,IRAENCSTATE_PARMLIST=YES                      00084000
**              DSECT=YES,IRAENQHR_PARMLIST=COND                        00085000
**              DSECT=YES,IRAENCASSOC_PARMLIST=COND                     00086000
**              DSECT=YES,IRAQRYCN_PARMLIST=COND                        00087000
**     Notes: name=YES  => expand                                       00088000
**            name=NO   => do not expand                                00089000
**            name=COND => expand only if DSECT=YES                     00090000
**                                                                      00091000
**02*  PL/AS:                                                           00092000
**      %INCLUDE SYSLIB(IRAEVPL)                                        00093000
**                                                                      00094000
**                                                                      00095000
**01*  USAGE NOTES:                                                     00096000
**      PL/X: %iraevpl_base = 'basing string', default is 'based'       00097000
**            %iraencstate = 'Y' to get sysevent ENCSTATE parameters    00098000
**            %iraenqhr    = 'Y' to get sysevent ENQHOLD  parameters    00099000
**            %iraenqhr    = 'Y' to get sysevent ENQRLSE  parameters    00100000
**            %iraencassoc = 'Y' to get sysevent ENCASSOC parameters    00101000
**            %iraqrycn    = 'Y' to get sysevent QRYCONT  parameters    00102000
**                                                                      00103000
**01* DELETED BY:  None                                                 00104000
**                                                                      00105000
**01* FREQUENCY:  One per sysevent request                              00106000
**                                                                      00107000
**01* DEPENDENCIES:  None                                               00108000
**                                                                      00109000
**01* DISTRIBUTION LIBRARY:  AMACLIB                                    00110000
**                                                                      00111000
**01* CHANGE ACTIVITY:                                                  00112000
**   $L0=ENCLV     HBB5520 941209 PD88BB: Enclaves support              00113000
**                                                                      00114000
**   $P1=PN72145   HBB5520 941209 PD88BB: Add idle indicator            00115000
**                                                                      00116000
**   $WLMPESM      HBB6603 951114 PDBB:   John Arwe                     00117000
**                                        - Convert to Case source      00118000
**                                        - Add Enqhold/EnqRlse info    00119000
**                                        - Remove plx macro variable   00120000
**                                          for basing expression       00121000
**                                                                      00122000
**   $WLMPENC      HBB6603 960115 B9HABB: John Arwe                     00123000
**                                        - More Enqhold/EnqRlse info   00124000
**                                                                      00125000
**   $WLMCEMG      HBB7706 010431 3241JK: Juergen Kuhn                  00126000
**                                        - Append subsystem info to    00127000
**                                          Enqhold/EnqRlse parameter   00128000
**                                          list                        00129000
**                                                                      00130000
**   $PYM0352      HBB7706 010718 3241BH: Bill Heisser                  00131000
**                                        - correct Proprietary Stmt    00132000
**                                                                      00133000
**   $OW53048      HBB7706 020122 3241JK: Juergen Kuhn                  00134000
**                                        - cbgen to get asm macro      00135000
**                                                                      00136000
**   $PYN0463      HBB7708 020806 3241JK: Juergen Kuhn                  00137000
**                                        - Correct rc constant         00138000
**                                                                      00139000
**   $WLMCLCO      HBB7720 040519 3241ST: Ralf Streit                   00140000
**                                        - Introduce STOKEN            00141000
**                                        - Introduce short time /      00142000
**                                          high frequency enqueue      00143000
**                                          promotion                   00144000
**                                                                      00145000
**   $ME13891      HBB7760 080630 3241RS: Ralf Streit                   00146000
**                                        Use enclave token to          00147000
**                                        determine context queue for   00148000
**                                        EnqRlse                       00149000
**                                        - RC=14 no longer returned    00150000
**                                          for EnqRlse                 00151000
**                                                                      00152000
**   $ME17332      HBB7770 090930 3241RS: Ralf Streit                   00153000
**                                        Provide external parmlist     00154000
**                                        for SYSEVENT ENCASSOC         00155000
**                                                                      00156000
**   $LDYCMT       HBB7790 120405 3241RS: Ralf Streit                   00157000
**                                        Query contention              00158000
**                                                                      00159000
**                                                                      00160000
** END OF SPECIFICATIONS *********************************************/ 00161000
*% /*                                                                   00162000
.P0      ANOP                                                           00163000
         AIF   ('&ZCBPRINT' EQ 'NO').P1                                 00164000
         AIF   ('&LIST' EQ 'YES').P2                                    00165000
.P1      ANOP                                                           00166000
         PUSH  PRINT                                                    00167000
         PRINT OFF                                                      00168000
.P2      ANOP                                                           00169000
         AIF   ('&IRAENCSTATE_PARMLIST' EQ 'NO').L0002                  00170000
         AIF   ('&DSECT' EQ 'YES').L0003                                00171000
         AIF   ('&IRAENCSTATE_PARMLIST' NE 'YES').L0002                 00172000
.L0003   ANOP                                                           00173000
*                                                                       00174000
*    *****************************************************************  00175000
*    *                                                               *  00176000
*    * IRAEVPL.100: include parmlist only if requested IRAEVPL.107:  *  00177000
*    * Sysevent EncState Parmlist                                    *  00178000
*    *                                                               *  00179000
*    *****************************************************************  00180000
*                                                                       00181000
*                                                                       00182000
         AIF   ('&DSECT' EQ 'YES').L0004                                00183000
IRAENCSTATE_PARMLIST DS 0F                                              00184000
         AGO   .L0005                                                   00185000
.L0004   ANOP                                                           00186000
IRAENCSTATE_PARMLIST DSECT                                              00187000
.L0005   ANOP                                                           00188000
IRAENCSTATE_FUNCTIONCODE DS F IRAEVPL.17: See constants                 00189000
*                                                                       00190000
*    *****************************************************************  00191000
*    *                                                               *  00192000
*    * IRAEVPL.26: Enclave is entering the idle state                *  00193000
*    *                                                               *  00194000
*    *****************************************************************  00195000
*                                                                       00196000
*                                                                       00197000
IRAENCSTATE_IDLE EQU 1                                                  00198000
*                                                                       00199000
*    *****************************************************************  00200000
*    *                                                               *  00201000
*    * IRAEVPL.35: Enclave is leaving the idle state. Note that newly*  00202000
*    * created enclaves are considered non-idle by SRM.                 00203000
*    *                                                               *  00204000
*    *****************************************************************  00205000
*                                                                       00206000
*                                                                       00207000
IRAENCSTATE_NONIDLE EQU 2                                               00208000
IRAENCSTATE_PARMLIST_LEN EQU *-IRAENCSTATE_PARMLIST                     00209000
.L0002   ANOP                                                           00210000
         AIF   ('&IRAENQHR_PARMLIST' EQ 'NO').L0006                     00211000
         AIF   ('&DSECT' EQ 'YES').L0007                                00212000
         AIF   ('&IRAENQHR_PARMLIST' NE 'YES').L0006                    00213000
.L0007   ANOP                                                           00214000
*                                                                       00215000
*    *****************************************************************  00216000
*    *                                                               *  00217000
*    * IRAEVPL.127: include parmlist only if requested IRAEVPL.287:  *  00218000
*    * include parmlist only if requested IRAEVPL.291: Sysevent      *  00219000
*    * EnqHold/EnqRlse Parmlist pointed at by register 1             *  00220000
*    *                                                               *  00221000
*    *****************************************************************  00222000
*                                                                       00223000
*                                                                       00224000
         AIF   ('&DSECT' EQ 'YES').L0008                                00225000
IRAENQHR_PARMLIST DS 0F                                                 00226000
         AGO   .L0009                                                   00227000
.L0008   ANOP                                                           00228000
IRAENQHR_PARMLIST DSECT                                                 00229000
.L0009   ANOP                                                           00230000
IRAENQHR_WORKUNITINFORMATION DS CL88 IRAEVPL.544: information required *00231000
                         when the sysevent macro invocation specifies  *00232000
                         TYPE=IraEnq- HR_WorkUnitInfo                   00233000
         ORG   IRAENQHR_WORKUNITINFORMATION                             00234000
IRAENQHR_ETOKEN DS CL8   IRAEVPL.547: Enclave token or 0 if the work   *00235000
                         unit is not known to be associated with an    *00236000
                         enclave                                        00237000
IRAENQHR_TCBPTR DS A     IRAEVPL.553: Address of resource holder's TCB *00238000
                         or 0 if the holder is an SRB. The parameter   *00239000
                         is ignored for ENQRLSE                         00240000
IRAENQHR_TOKEN DS CL8    IRAEVPL.559: Enqueue hold token pointing to   *00241000
                         the associated enqueue hold element. This is  *00242000
                         an output parameter for Hold requests and a   *00243000
                         mandatory input parameter for Rlse requests.  *00244000
                         Not valid for short time promotion             00245000
IRAENQHR_SUBSYS DS CL4   IRAEVPL.565: Generic subsystem type            00246000
IRAENQHR_SUBSYSNAME DS CL8 IRAEVPL.571: Subsystem instance              00247000
IRAENQHR_SUBSYSREQUEST DS CL32 IRAEVPL.577: Additional information to  *00248000
                         distinguish between different invocations by  *00249000
                         the same subsystem                             00250000
IRAENQHR_FUNCTION DS F   IRAEVPL.583: Function code: 0 = standard      *00251000
                         promotion, 1 = short time promotion. The      *00252000
                         parameter is ignored for ENQRLSE               00253000
IRAENQHR_FLAGS DS BL4    IRAEVPL.589: flags                             00254000
*  Bit definitions:                                                     00255000
IRAENQHR_FLAGS_RHTERM EQU X'80' IRAEVPL.595: This flag signals to SRM  *00256000
                         that the parameters IraEnqHR_ASID,            *00257000
                         IraEnqHR_STOKEN, and IraEnqHR_Etoken are      *00258000
                         serialized against resource holder's          *00259000
                         termination. 0 = serialized, 1 = not          *00260000
                         serialized                                     00261000
IRAENQHR_ASID DS H       IRAEVPL.601: Address space ID or 0 if         *00262000
                         resource holder is identified by STOKEN or    *00263000
                         enclave token                                  00264000
         DS    H         IRAEVPL.607: For future use                    00265000
IRAENQHR_STOKEN DS CL8   IRAEVPL.613: Address space token or 0 if      *00266000
                         resource holder is identified by ASID or      *00267000
                         enclave token                                  00268000
         DS    CL4       IRAEVPL.619: reserved                          00269000
*                                                                       00270000
*    *****************************************************************  00271000
*    *                                                               *  00272000
*    * IRAEVPL.628: Return code 8 will be passed to the caller of    *  00273000
*    * EnqHold/Rlse requests of type 2 or later if an invalid enclave*  00274000
*    * token was specifed.                                              00275000
*    *                                                               *  00276000
*    *****************************************************************  00277000
*                                                                       00278000
*                                                                       00279000
IRAENQHR_RETURN_CODE_08 EQU 8                                           00280000
*                                                                       00281000
*    *****************************************************************  00282000
*    *                                                               *  00283000
*    * IRAEVPL.637: Return code 10 will be passed to the caller of   *  00284000
*    * EnqHold/Rlse requests of type 3 or later if an invalid ASID   *  00285000
*    * was specifed.                                                    00286000
*    *                                                               *  00287000
*    *****************************************************************  00288000
*                                                                       00289000
*                                                                       00290000
IRAENQHR_RETURN_CODE_10 EQU 10                                          00291000
*                                                                       00292000
*    *****************************************************************  00293000
*    *                                                               *  00294000
*    * IRAEVPL.646: Return code 12 will be passed to the caller of   *  00295000
*    * EnqHold/Rlse requests of type 3 or later if an invalid STOKEN *  00296000
*    * was specifed.                                                    00297000
*    *                                                               *  00298000
*    *****************************************************************  00299000
*                                                                       00300000
*                                                                       00301000
IRAENQHR_RETURN_CODE_12 EQU 12                                          00302000
*                                                                       00303000
*    *****************************************************************  00304000
*    *                                                               *  00305000
*    * IRAEVPL.655: Return code 14 will be passed to the caller of   *  00306000
*    * EnqHold requests of type 3 or later if an invalid TCB address *  00307000
*    * was specifed.                                                    00308000
*    *                                                               *  00309000
*    *****************************************************************  00310000
*                                                                       00311000
*                                                                       00312000
IRAENQHR_RETURN_CODE_14 EQU 14                                          00313000
*                                                                       00314000
*    *****************************************************************  00315000
*    *                                                               *  00316000
*    * IRAEVPL.664: Return code 16 will be passed to the caller of   *  00317000
*    * EnqHold/Rlse requests of type 3 or later if an invalid        *  00318000
*    * combination of ASID, STOKEN, or enclave token was specified   *  00319000
*    *                                                                  00320000
*    *                                                               *  00321000
*    *****************************************************************  00322000
*                                                                       00323000
*                                                                       00324000
IRAENQHR_RETURN_CODE_16 EQU 16                                          00325000
*                                                                       00326000
*    *****************************************************************  00327000
*    *                                                               *  00328000
*    * IRAEVPL.673: Equivalent to MVS 5.2.2 and earlier form of      *  00329000
*    * sysevents where only the asid or enclave token of the holder  *  00330000
*    * was available.                                                   00331000
*    *                                                               *  00332000
*    *****************************************************************  00333000
*                                                                       00334000
*                                                                       00335000
IRAENQHR_NOWORKUNITINFO EQU 0                                           00336000
*                                                                       00337000
*    *****************************************************************  00338000
*    *                                                               *  00339000
*    * IRAEVPL.682: Enqhold/Enqrlse against address space or enclave,*  00340000
*    * and the TCB and ASCB of the holder are supplied.                 00341000
*    *                                                               *  00342000
*    *****************************************************************  00343000
*                                                                       00344000
*                                                                       00345000
IRAENQHR_WORKUNITINFO EQU 1                                             00346000
*                                                                       00347000
*    *****************************************************************  00348000
*    *                                                               *  00349000
*    * IRAEVPL.691: Enqhold/Enqrlse against address space or enclave *  00350000
*    * with subsystem information                                       00351000
*    *                                                               *  00352000
*    *****************************************************************  00353000
*                                                                       00354000
*                                                                       00355000
IRAENQHR_SUBSYSTEMINFO EQU 2                                            00356000
*                                                                       00357000
*    *****************************************************************  00358000
*    *                                                               *  00359000
*    * IRAEVPL.700: Enqhold/Enqrlse against address space or enclave *  00360000
*    * with subsystem information. Support of short time / high      *  00361000
*    * frequency enqueue promotion. Support of STOKEN                   00362000
*    *                                                               *  00363000
*    *****************************************************************  00364000
*                                                                       00365000
*                                                                       00366000
IRAENQHR_SHORT_TIME EQU 3                                               00367000
*                                                                       00368000
*    *****************************************************************  00369000
*    *                                                               *  00370000
*    * IRAEVPL.709: Maximum request type for Enqhold/Enqrlse         *  00371000
*    * Sysevents                                                        00372000
*    *                                                               *  00373000
*    *****************************************************************  00374000
*                                                                       00375000
*                                                                       00376000
IRAENQHR_MAXREQUESTTYPE EQU 3                                           00377000
*                                                                       00378000
*    *****************************************************************  00379000
*    *                                                               *  00380000
*    * IRAEVPL.718: Function code for standard enqueue promotion     *  00381000
*    *                                                                  00382000
*    *                                                               *  00383000
*    *****************************************************************  00384000
*                                                                       00385000
*                                                                       00386000
IRAENQHR_FUNCTION_STANDARD EQU 0                                        00387000
*                                                                       00388000
*    *****************************************************************  00389000
*    *                                                               *  00390000
*    * IRAEVPL.727: Function code for short time / high frequency    *  00391000
*    * enqueue promotion                                                00392000
*    *                                                               *  00393000
*    *****************************************************************  00394000
*                                                                       00395000
*                                                                       00396000
IRAENQHR_FUNCTION_STP EQU 1                                             00397000
IRAENQHR_PARMLIST_LEN EQU *-IRAENQHR_PARMLIST                           00398000
.L0006   ANOP                                                           00399000
         AIF   ('&IRAENCASSOC_PARMLIST' EQ 'NO').L000A                  00400000
         AIF   ('&DSECT' EQ 'YES').L000B                                00401000
         AIF   ('&IRAENCASSOC_PARMLIST' NE 'YES').L000A                 00402000
.L000B   ANOP                                                           00403000
*                                                                       00404000
*    *****************************************************************  00405000
*    *                                                               *  00406000
*    * IRAEVPL.306: include parmlist only if requested IRAEVPL.455:  *  00407000
*    * include parmlist only if requested                               00408000
*    * IRAEVPL.237: Sysevent EncAssoc Parmlist pointed at by register*  00409000
*    * 1                                                                00410000
*    *                                                               *  00411000
*    *****************************************************************  00412000
*                                                                       00413000
*                                                                       00414000
         AIF   ('&DSECT' EQ 'YES').L000C                                00415000
IRAENCASSOC_PARMLIST DS 0X                                              00416000
         AGO   .L000D                                                   00417000
.L000C   ANOP                                                           00418000
IRAENCASSOC_PARMLIST DSECT                                              00419000
.L000D   ANOP                                                           00420000
IRAENCASSOC_FUNCTION_CODE DS X IRAEVPL.470: Function code for this     *00421000
                         request. See EncAssoc function code constants  00422000
IRAENCASSOC_RSV1 DS X    IRAEVPL.444: Reserved field. Must be set to   *00423000
                         zero                                           00424000
         DS    CL22      IRAEVPL.438: For future use                    00425000
*                                                                       00426000
*    *****************************************************************  00427000
*    *                                                               *  00428000
*    * IRAEVPL.217: Return code 4 will be passed to the caller of    *  00429000
*    * EncAssoc if the specified function code is invalid               00430000
*    *                                                               *  00431000
*    *****************************************************************  00432000
*                                                                       00433000
*                                                                       00434000
IRAENCASSOC_RETURN_CODE_04 EQU 4                                        00435000
*                                                                       00436000
*    *****************************************************************  00437000
*    *                                                               *  00438000
*    * IRAEVPL.459: Return code 10 will be passed to the caller of   *  00439000
*    * EncAssoc if the specified enclave token is invalid               00440000
*    *                                                               *  00441000
*    *****************************************************************  00442000
*                                                                       00443000
*                                                                       00444000
IRAENCASSOC_RETURN_CODE_10 EQU 16                                       00445000
*                                                                       00446000
*    *****************************************************************  00447000
*    *                                                               *  00448000
*    * IRAEVPL.392: Function code for SYSEVENT EncAssoc: Associate an*  00449000
*    * enclave with an address space                                    00450000
*    *                                                               *  00451000
*    *****************************************************************  00452000
*                                                                       00453000
*                                                                       00454000
IRAENCASSOC_FUNCTION_ASSOC EQU 1                                        00455000
*                                                                       00456000
*    *****************************************************************  00457000
*    *                                                               *  00458000
*    * IRAEVPL.468: Function code for SYSEVENT EncAssoc: Disassociate*  00459000
*    * an enclave with an address space                                 00460000
*    *                                                               *  00461000
*    *****************************************************************  00462000
*                                                                       00463000
*                                                                       00464000
IRAENCASSOC_FUNCTION_DISASSOC EQU 2                                     00465000
IRAENCASSOC_PARMLIST_LEN EQU *-IRAENCASSOC_PARMLIST                     00466000
.L000A   ANOP                                                           00467000
         AIF   ('&IRAQRYCN_PARMLIST' EQ 'NO').L000E                     00468000
         AIF   ('&DSECT' EQ 'YES').L000F                                00469000
         AIF   ('&IRAQRYCN_PARMLIST' NE 'YES').L000E                    00470000
.L000F   ANOP                                                           00471000
*                                                                       00472000
*    *****************************************************************  00473000
*    *                                                               *  00474000
*    * IRAEVPL.492: include parmlist only if requested                  00475000
*    * IRAEVPL.831: include parmlist only if requested                  00476000
*    * IRAEVPL.833: Sysevent QryCont Parmlist pointed at by register *  00477000
*    * 1                                                                00478000
*    *                                                               *  00479000
*    *****************************************************************  00480000
*                                                                       00481000
*                                                                       00482000
         AIF   ('&DSECT' EQ 'YES').L0010                                00483000
IRAQRYCN_PARMLIST DS 0F                                                 00484000
         AGO   .L0011                                                   00485000
.L0010   ANOP                                                           00486000
IRAQRYCN_PARMLIST DSECT                                                 00487000
.L0011   ANOP                                                           00488000
IRAQRYCN_QUERY_CONTENTION DS CL208 IRAEVPL.865: Query contention       *00489000
                         information                                    00490000
         ORG   IRAQRYCN_QUERY_CONTENTION                                00491000
IRAQRYCN_EYE_CATCHER DS CL8 IRAEVPL.964: Input: Eye catcher of query   *00492000
                         contention parameter list                      00493000
IRAQRYCN_LEN DS H        IRAEVPL.976: Input: Length of query           *00494000
                         contention parameter list                      00495000
IRAQRYCN_VERSION DS X    IRAEVPL.970: Input: Version of query          *00496000
                         contention parameter list                      00497000
         DS    X         IRAEVPL.916: For future use                    00498000
IRAQRYCN_ASID DS H       IRAEVPL.758: Input: Address space ID or 0 if  *00499000
                         resource holder is identified by STOKEN or    *00500000
                         enclave token                                  00501000
IRAQRYCN_NUM_OF_CI_ENTRIES DS H IRAEVPL.387: Output: Number of entries *00502000
                         returned in the Contention Information array  *00503000
                         IRAQryCn_Co- ntention_In- formation            00504000
IRAQRYCN_STOKEN DS CL8   IRAEVPL.922: Input: Address space token or 0  *00505000
                         if resource holder is identified by ASID or   *00506000
                         enclave token                                  00507000
IRAQRYCN_ETOKEN DS CL8   IRAEVPL.386: Input: Enclave token or 0 if the *00508000
                         work unit is not associated with an enclave    00509000
IRAQRYCN_REQTYPE DS F    IRAEVPL.1007: Input: Request type of query.   *00510000
                         Return contention information for: 1=Standard *00511000
                         EnqHolds and Short time EnqHolds, 2=Chronic   *00512000
                         resource contentions, 0=All                    00513000
         DS    F         IRAEVPL.1001: Reserved                         00514000
IRAQRYCN_CONTENTION_INFORMATION DS CL32 IRAEVPL.424: Output:           *00515000
                         Contention information returned by SRM         00516000
         ORG   IRAQRYCN_CONTENTION_INFORMATION                          00517000
IRAQRYCN_CI_RECORD DS CL32 IRAEVPL.871: Contention information data    *00518000
                         record                                         00519000
         ORG   IRAQRYCN_CI_RECORD                                       00520000
IRAQRYCN_SUBSYS DS CL4   IRAEVPL.429: Generic subsystem type            00521000
IRAQRYCN_SUBSYSNAME DS CL8 IRAEVPL.934: Subsystem instance              00522000
IRAQRYCN_CST DS BL8      IRAEVPL.940: Contention start time in STCK    *00523000
                         format                                         00524000
IRAQRYCN_CONTENTION_ID DS F IRAEVPL.264: ID of SRM service the         *00525000
                         resource contention was assigned to           *00526000
                         1=Standard EnqHold 2=Short time EnqHold       *00527000
                         3=Chronic resource contention                  00528000
IRAQRYCN_COUNT DS F      IRAEVPL.877: Number of contentions signaled   *00529000
                         to SRM for this Subsystem type, Subsystem     *00530000
                         instance, and contention ID combination        00531000
         DS    CL4       IRAEVPL.431: reserved                          00532000
         ORG   IRAQRYCN_CONTENTION_INFORMATION+160                      00533000
         DS    CL8       IRAEVPL.776: reserved                          00534000
*                                                                       00535000
*    *****************************************************************  00536000
*    *                                                               *  00537000
*    * IRAEVPL.785: Return code 4 will be passed to the caller of    *  00538000
*    * SYSEVENT QRYCONT if there are no contentions.                    00539000
*    *                                                               *  00540000
*    *****************************************************************  00541000
*                                                                       00542000
*                                                                       00543000
IRAQRYCN_RETURN_CODE_04 EQU 4                                           00544000
*                                                                       00545000
*    *****************************************************************  00546000
*    *                                                               *  00547000
*    * IRAEVPL.502: Return code 8 will be passed to the caller of    *  00548000
*    * SYSEVENT QRYCONT if an invalid enclave token was specifed.    *  00549000
*    *                                                                  00550000
*    *                                                               *  00551000
*    *****************************************************************  00552000
*                                                                       00553000
*                                                                       00554000
IRAQRYCN_RETURN_CODE_08 EQU 8                                           00555000
*                                                                       00556000
*    *****************************************************************  00557000
*    *                                                               *  00558000
*    * IRAEVPL.794: Return code 10 will be passed to the caller of   *  00559000
*    * SYSEVENT QRYCONT if the specified ASID did not map to a valid,*  00560000
*    * active address space.                                            00561000
*    *                                                               *  00562000
*    *****************************************************************  00563000
*                                                                       00564000
*                                                                       00565000
IRAQRYCN_RETURN_CODE_10 EQU 10                                          00566000
*                                                                       00567000
*    *****************************************************************  00568000
*    *                                                               *  00569000
*    * IRAEVPL.803: Return code 12 will be passed to the caller of   *  00570000
*    * SYSEVENT QRYCONT if the specified STOKEN did not map to a     *  00571000
*    * valid, active address space.                                     00572000
*    *                                                               *  00573000
*    *****************************************************************  00574000
*                                                                       00575000
*                                                                       00576000
IRAQRYCN_RETURN_CODE_12 EQU 12                                          00577000
*                                                                       00578000
*    *****************************************************************  00579000
*    *                                                               *  00580000
*    * IRAEVPL.812: Return code 14 will be passed to the caller of   *  00581000
*    * SYSEVENT QRYCONT if an invalid combination of ASID, STOKEN, or*  00582000
*    * enclave token was specified in the parameter list.               00583000
*    *                                                               *  00584000
*    *****************************************************************  00585000
*                                                                       00586000
*                                                                       00587000
IRAQRYCN_RETURN_CODE_14 EQU 14                                          00588000
*                                                                       00589000
*    *****************************************************************  00590000
*    *                                                               *  00591000
*    * IRAEVPL.821: Return code 16 will be passed to the caller of   *  00592000
*    * SYSEVENT QRYCONT if there is additional resource contention   *  00593000
*    * information available                                            00594000
*    *                                                               *  00595000
*    *****************************************************************  00596000
*                                                                       00597000
*                                                                       00598000
IRAQRYCN_RETURN_CODE_16 EQU 16                                          00599000
*                                                                       00600000
*    *****************************************************************  00601000
*    *                                                               *  00602000
*    * IRAEVPL.957: Return code 18 will be passed to the caller of   *  00603000
*    * SYSEVENT QRYCONT if an invalid version, length, or eye catcher*  00604000
*    * was specified in the parameter list                              00605000
*    *                                                               *  00606000
*    *****************************************************************  00607000
*                                                                       00608000
*                                                                       00609000
IRAQRYCN_RETURN_CODE_18 EQU 18                                          00610000
*                                                                       00611000
*    *****************************************************************  00612000
*    *                                                               *  00613000
*    * IRAEVPL.992: Return code 20 will be passed to the caller of   *  00614000
*    * SYSEVENT QRYCONT if an invalid request type was specified in  *  00615000
*    * the parameter list                                               00616000
*    *                                                               *  00617000
*    *****************************************************************  00618000
*                                                                       00619000
*                                                                       00620000
IRAQRYCN_RETURN_CODE_20 EQU 20                                          00621000
*                                                                       00622000
*    *****************************************************************  00623000
*    *                                                               *  00624000
*    * IRAEVPL.848: Contention caused by SYSEVENT ENQHOLD Standard   *  00625000
*    *                                                                  00626000
*    *                                                               *  00627000
*    *****************************************************************  00628000
*                                                                       00629000
*                                                                       00630000
IRAQRYCN_CONTENTION_ID_STD_ENQHOLD EQU 1                                00631000
*                                                                       00632000
*    *****************************************************************  00633000
*    *                                                               *  00634000
*    * IRAEVPL.883: Contention caused by SYSEVENT ENQHOLD Short time *  00635000
*    * promotion                                                        00636000
*    *                                                               *  00637000
*    *****************************************************************  00638000
*                                                                       00639000
*                                                                       00640000
IRAQRYCN_CONTENTION_ID_STP_ENQHOLD EQU 2                                00641000
*                                                                       00642000
*    *****************************************************************  00643000
*    *                                                               *  00644000
*    * IRAEVPL.892: Contention caused by Chronic resource contention *  00645000
*    * service IWMCNTN                                                  00646000
*    *                                                               *  00647000
*    *****************************************************************  00648000
*                                                                       00649000
*                                                                       00650000
IRAQRYCN_CONTENTION_ID_CNTN EQU 3                                       00651000
*                                                                       00652000
*    *****************************************************************  00653000
*    *                                                               *  00654000
*    * IRAEVPL.946: Eyecatcher of query contention parmlist             00655000
*    *                                                               *  00656000
*    *****************************************************************  00657000
*                                                                       00658000
*                                                                       00659000
IRAQRYCN_EYE_CATCHER_VALUE_0TO3 EQU C'IRAQ' This is the first 4-byte   *00660000
                         segment of an 8-byte constant.                 00661000
IRAQRYCN_EYE_CATCHER_VALUE_4TO7 EQU C'RYCN' This is the second 4-byte  *00662000
                         segment of an 8-byte constant.                 00663000
*                                                                       00664000
*    *****************************************************************  00665000
*    *                                                               *  00666000
*    * IRAEVPL.499: Parmlist length value                               00667000
*    *                                                               *  00668000
*    *****************************************************************  00669000
*                                                                       00670000
*                                                                       00671000
IRAQRYCN_LENGTH_VALUE EQU 208                                           00672000
*                                                                       00673000
*    *****************************************************************  00674000
*    *                                                               *  00675000
*    * IRAEVPL.982: Parmlist version 01                                 00676000
*    *                                                               *  00677000
*    *****************************************************************  00678000
*                                                                       00679000
*                                                                       00680000
IRAQRYCN_VERSION_01 EQU 1                                               00681000
*                                                                       00682000
*    *****************************************************************  00683000
*    *                                                               *  00684000
*    * IRAEVPL.1022: Request type 'All' returns contention           *  00685000
*    * information for Standard EnqHolds, Short time EnqHolds, and   *  00686000
*    * Chronic resource contentions                                     00687000
*    *                                                               *  00688000
*    *****************************************************************  00689000
*                                                                       00690000
*                                                                       00691000
IRAQRYCN_REQTYPE_ALL EQU 0                                              00692000
*                                                                       00693000
*    *****************************************************************  00694000
*    *                                                               *  00695000
*    * IRAEVPL.1013: Request type 'EnqHold' returns contention       *  00696000
*    * information for Standard EnqHolds and Short time EnqHolds     *  00697000
*    *                                                                  00698000
*    *                                                               *  00699000
*    *****************************************************************  00700000
*                                                                       00701000
*                                                                       00702000
IRAQRYCN_REQTYPE_ENQHOLD EQU 1                                          00703000
*                                                                       00704000
*    *****************************************************************  00705000
*    *                                                               *  00706000
*    * IRAEVPL.1031: Request type 'CNTN' returns contention          *  00707000
*    * information for Chronic resource contentions                     00708000
*    *                                                               *  00709000
*    *****************************************************************  00710000
*                                                                       00711000
*                                                                       00712000
IRAQRYCN_REQTYPE_CNTN EQU 2                                             00713000
IRAQRYCN_PARMLIST_LEN EQU *-IRAQRYCN_PARMLIST                           00714000
.L000E   ANOP                                                           00715000
         AIF   ('&ZCBPRINT' EQ 'NO').P3                                 00716000
         AIF   ('&LIST' EQ 'YES').P4                                    00717000
.P3      ANOP                                                           00718000
         POP   PRINT                                                    00719000
.P4      ANOP                                                           00720000
.P_EXIT  ANOP                                                           00721000
         MEND                                                           00722000
**/ IRAEVPL_2:;                                                         00723000
* %IRAEVPL_INCLUDED = 'YES';                                            00724000
* %DCL ZCBPRINT CHAR EXT;                                               00725000
* %DEACTIVATE ZCBPRINT;                                                 00726000
* %DCL IRAEVPL_LIST CHAR EXT;                                           00727000
* %DEACTIVATE IRAEVPL_LIST;                                             00728000
* %IF IRAEVPL_LIST ^= 'NO' &                                            00729000
*    ZCBPRINT ^= 'NO' %THEN                                             00730000
*   %GOTO IRAEVPL_3;                                                    00731000
*   @LIST PUSH NOECHO;                                                  00732000
*   @LIST NOASSEMBLE NOECHO;                                            00733000
*   @LIST OFF C NOECHO;                                                 00734000
* %IRAEVPL_3:;                                                          00735000
*/* Start of PL/X Source                                             */ 00736000
*                                                                       00737000
*   /*****************************************************************/ 00738000
*   /*                                                               */ 00739000
*   /* IRAEVPL.100: include parmlist only if requested               */ 00740000
*   /*                                                               */ 00741000
*   /*****************************************************************/ 00742000
*                                                                       00743000
*   %IF iraencstate = 'Y' %THEN                                         00744000
*     %DO;                                                              00745000
*                                                                       00746000
*       /*************************************************************/ 00747000
*       /*                                                           */ 00748000
*       /* IRAEVPL.107: Sysevent EncState Parmlist                   */ 00749000
*       /*                                                           */ 00750000
*       /*************************************************************/ 00751000
*                                                                       00752000
*       DECLARE                                                         00753000
*         1    IraEncState_Parmlist BASED(*) BDY(WORD),                 00754000
*          2    IraEncState_FunctionCode FIXED(32); /* IRAEVPL.17:      00755000
*                                      See constants             @P1A*/ 00756000
*                                                                       00757000
*       /*************************************************************/ 00758000
*       /*                                                           */ 00759000
*       /* IRAEVPL.26: Enclave is entering the idle state            */ 00760000
*       /*                                                           */ 00761000
*       /*************************************************************/ 00762000
*                                                                       00763000
*       DECLARE                                                         00764000
*         IraEncState_Idle FIXED(32) CONSTANT(1);                       00765000
*                                                                       00766000
*       /*************************************************************/ 00767000
*       /*                                                           */ 00768000
*       /* IRAEVPL.35: Enclave is leaving the idle state. Note that  */ 00769000
*       /* newly created enclaves are considered non-idle by SRM.    */ 00770000
*       /*                                                       @P1A*/ 00771000
*       /*                                                           */ 00772000
*       /*************************************************************/ 00773000
*                                                                       00774000
*       DECLARE                                                         00775000
*         IraEncState_NonIdle FIXED(32) CONSTANT(2);                    00776000
*                                                                       00777000
*       /*************************************************************/ 00778000
*       /*                                                           */ 00779000
*       /* IRAEVPL.127: include parmlist only if requested           */ 00780000
*       /*                                                           */ 00781000
*       /*************************************************************/ 00782000
*                                                                       00783000
*     %END;                         /* include encstate parmlist map */ 00784000
*                                                                       00785000
*   /*****************************************************************/ 00786000
*   /*                                                               */ 00787000
*   /* IRAEVPL.287: include parmlist only if requested               */ 00788000
*   /*                                                               */ 00789000
*   /*****************************************************************/ 00790000
*                                                                       00791000
*   %IF iraEnqHR = 'Y' %THEN                                            00792000
*     %DO;                                                              00793000
*                                                                       00794000
*       /*************************************************************/ 00795000
*       /*                                                           */ 00796000
*       /* IRAEVPL.291: Sysevent EnqHold/EnqRlse Parmlist pointed at */ 00797000
*       /* by register 1                                             */ 00798000
*       /*                                                           */ 00799000
*       /*************************************************************/ 00800000
*                                                                       00801000
*       DECLARE                                                         00802000
*         1    IraEnqHR_Parmlist BASED(*) BDY(WORD),                    00803000
*          2    IraEnqHR_WorkUnitInformation, /* IRAEVPL.544:           00804000
*                                      information required when the    00805000
*                                      sysevent macro invocation        00806000
*                                      specifies TYPE=IraEnq-           00807000
*                                      HR_WorkUnitInfo               */ 00808000
*           3    IraEnqHR_Etoken CHAR(8), /* IRAEVPL.547: Enclave       00809000
*                                      token or 0 if the work unit is   00810000
*                                      not known to be associated       00811000
*                                      with an enclave       @WLMPENC*/ 00812000
*           3    IraEnqHR_TcbPtr POINTER(31), /* IRAEVPL.553: Address   00813000
*                                      of resource holder's TCB or 0    00814000
*                                      if the holder is an SRB. The     00815000
*                                      parameter is ignored for         00816000
*                                      ENQRLSE               @WLMCLCO*/ 00817000
*           3    IRAENQHR_TOKEN CHAR(8), /* IRAEVPL.559: Enqueue hold   00818000
*                                      token pointing to the            00819000
*                                      associated enqueue hold          00820000
*                                      element. This is an output       00821000
*                                      parameter for Hold requests      00822000
*                                      and a mandatory input            00823000
*                                      parameter for Rlse requests.     00824000
*                                      Not valid for short time         00825000
*                                      promotion             @WLMCLCO*/ 00826000
*           3    IRAENQHR_SUBSYS CHAR(4), /* IRAEVPL.565: Generic       00827000
*                                      subsystem type        @WLMCEMG*/ 00828000
*           3    IRAENQHR_SUBSYSNAME CHAR(8), /* IRAEVPL.571:           00829000
*                                      Subsystem instance    @WLMCEMG*/ 00830000
*           3    IRAENQHR_SUBSYSREQUEST CHAR(32), /* IRAEVPL.577:       00831000
*                                      Additional information to        00832000
*                                      distinguish between different    00833000
*                                      invocations by the same          00834000
*                                      subsystem             @WLMCEMG*/ 00835000
*           3    IRAENQHR_FUNCTION FIXED(32), /* IRAEVPL.583:           00836000
*                                      Function code: 0 = standard      00837000
*                                      promotion, 1 = short time        00838000
*                                      promotion. The parameter is      00839000
*                                      ignored for ENQRLSE   @WLMCLCO*/ 00840000
*           3    IRAEnqHR_FLAGS BIT(32) BDY(BYTE), /* IRAEVPL.589:      00841000
*                                      flags                 @WLMCLCO*/ 00842000
*            4    IraEnqHR_FLAGS_RhTerm BIT(1), /* IRAEVPL.595: This    00843000
*                                      flag signals to SRM that the     00844000
*                                      parameters IraEnqHR_ASID,        00845000
*                                      IraEnqHR_STOKEN, and             00846000
*                                      IraEnqHR_Etoken are serialized   00847000
*                                      against resource holder's        00848000
*                                      termination. 0 = serialized, 1   00849000
*                                      = not serialized      @WLMCLCO*/ 00850000
*           3    IRAEnqHR_ASID FIXED(16), /* IRAEVPL.601: Address       00851000
*                                      space ID or 0 if resource        00852000
*                                      holder is identified by STOKEN   00853000
*                                      or enclave token      @WLMCLCO*/ 00854000
*           3    *        FIXED(16), /* IRAEVPL.607: For future use     00855000
*                                                            @WLMCLCO*/ 00856000
*           3    IRAEnqHR_STOKEN CHAR(8), /* IRAEVPL.613: Address       00857000
*                                      space token or 0 if resource     00858000
*                                      holder is identified by ASID     00859000
*                                      or enclave token      @WLMCLCO*/ 00860000
*           3    *        CHAR(4);  /* IRAEVPL.619: reserved         */ 00861000
*                                                                       00862000
*       /*************************************************************/ 00863000
*       /*                                                           */ 00864000
*       /* IRAEVPL.628: Return code 8 will be passed to the caller of*/ 00865000
*       /* EnqHold/Rlse requests of type 2 or later if an invalid    */ 00866000
*       /* enclave token was specifed.                       @PYN0463*/ 00867000
*       /*                                                           */ 00868000
*       /*************************************************************/ 00869000
*                                                                       00870000
*       DECLARE                                                         00871000
*         IRAENQHR_RETURN_CODE_08 FIXED(8) CONSTANT(8);                 00872000
*                                                                       00873000
*       /*************************************************************/ 00874000
*       /*                                                           */ 00875000
*       /* IRAEVPL.637: Return code 10 will be passed to the caller  */ 00876000
*       /* of EnqHold/Rlse requests of type 3 or later if an invalid */ 00877000
*       /* ASID was specifed.                                @WLMCLCO*/ 00878000
*       /*                                                           */ 00879000
*       /*************************************************************/ 00880000
*                                                                       00881000
*       DECLARE                                                         00882000
*         IRAENQHR_RETURN_CODE_10 FIXED(8) CONSTANT(10);                00883000
*                                                                       00884000
*       /*************************************************************/ 00885000
*       /*                                                           */ 00886000
*       /* IRAEVPL.646: Return code 12 will be passed to the caller  */ 00887000
*       /* of EnqHold/Rlse requests of type 3 or later if an invalid */ 00888000
*       /* STOKEN was specifed.                              @WLMCLCO*/ 00889000
*       /*                                                           */ 00890000
*       /*************************************************************/ 00891000
*                                                                       00892000
*       DECLARE                                                         00893000
*         IRAENQHR_RETURN_CODE_12 FIXED(8) CONSTANT(12);                00894000
*                                                                       00895000
*       /*************************************************************/ 00896000
*       /*                                                           */ 00897000
*       /* IRAEVPL.655: Return code 14 will be passed to the caller  */ 00898000
*       /* of EnqHold requests of type 3 or later if an invalid TCB  */ 00899000
*       /* address was specifed.                             @ME13891*/ 00900000
*       /*                                                           */ 00901000
*       /*************************************************************/ 00902000
*                                                                       00903000
*       DECLARE                                                         00904000
*         IRAENQHR_RETURN_CODE_14 FIXED(8) CONSTANT(14);                00905000
*                                                                       00906000
*       /*************************************************************/ 00907000
*       /*                                                           */ 00908000
*       /* IRAEVPL.664: Return code 16 will be passed to the caller  */ 00909000
*       /* of EnqHold/Rlse requests of type 3 or later if an invalid */ 00910000
*       /* combination of ASID, STOKEN, or enclave token was         */ 00911000
*       /* specified                                         @WLMCLCO*/ 00912000
*       /*                                                           */ 00913000
*       /*************************************************************/ 00914000
*                                                                       00915000
*       DECLARE                                                         00916000
*         IRAENQHR_RETURN_CODE_16 FIXED(8) CONSTANT(16);                00917000
*                                                                       00918000
*       /*************************************************************/ 00919000
*       /*                                                           */ 00920000
*       /* IRAEVPL.673: Equivalent to MVS 5.2.2 and earlier form of  */ 00921000
*       /* sysevents where only the asid or enclave token of the     */ 00922000
*       /* holder was available.                             @WLMPENC*/ 00923000
*       /*                                                           */ 00924000
*       /*************************************************************/ 00925000
*                                                                       00926000
*       DECLARE                                                         00927000
*         IraEnqHR_NoWorkUnitInfo FIXED(32) CONSTANT(0);                00928000
*                                                                       00929000
*       /*************************************************************/ 00930000
*       /*                                                           */ 00931000
*       /* IRAEVPL.682: Enqhold/Enqrlse against address space or     */ 00932000
*       /* enclave, and the TCB and ASCB of the holder are supplied. */ 00933000
*       /*                                                   @WLMPENC*/ 00934000
*       /*                                                           */ 00935000
*       /*************************************************************/ 00936000
*                                                                       00937000
*       DECLARE                                                         00938000
*         IraEnqHR_WorkUnitInfo FIXED(32) CONSTANT(1);                  00939000
*                                                                       00940000
*       /*************************************************************/ 00941000
*       /*                                                           */ 00942000
*       /* IRAEVPL.691: Enqhold/Enqrlse against address space or     */ 00943000
*       /* enclave with subsystem information                @WLMCEMG*/ 00944000
*       /*                                                           */ 00945000
*       /*************************************************************/ 00946000
*                                                                       00947000
*       DECLARE                                                         00948000
*         IRAENQHR_SUBSYSTEMINFO FIXED(32) CONSTANT(2);                 00949000
*                                                                       00950000
*       /*************************************************************/ 00951000
*       /*                                                           */ 00952000
*       /* IRAEVPL.700: Enqhold/Enqrlse against address space or     */ 00953000
*       /* enclave with subsystem information. Support of short time */ 00954000
*       /* / high frequency enqueue promotion. Support of STOKEN     */ 00955000
*       /*                                                   @WLMCLCO*/ 00956000
*       /*                                                           */ 00957000
*       /*************************************************************/ 00958000
*                                                                       00959000
*       DECLARE                                                         00960000
*         IRAENQHR_SHORT_TIME FIXED(32) CONSTANT(3);                    00961000
*                                                                       00962000
*       /*************************************************************/ 00963000
*       /*                                                           */ 00964000
*       /* IRAEVPL.709: Maximum request type for Enqhold/Enqrlse     */ 00965000
*       /* Sysevents                                         @WLMCLCO*/ 00966000
*       /*                                                           */ 00967000
*       /*************************************************************/ 00968000
*                                                                       00969000
*       DECLARE                                                         00970000
*         IRAENQHR_MAXREQUESTTYPE FIXED(32) CONSTANT(3);                00971000
*                                                                       00972000
*       /*************************************************************/ 00973000
*       /*                                                           */ 00974000
*       /* IRAEVPL.718: Function code for standard enqueue promotion */ 00975000
*       /*                                                   @WLMCLCO*/ 00976000
*       /*                                                           */ 00977000
*       /*************************************************************/ 00978000
*                                                                       00979000
*       DECLARE                                                         00980000
*         IRAENQHR_FUNCTION_Standard FIXED(32) CONSTANT(0);             00981000
*                                                                       00982000
*       /*************************************************************/ 00983000
*       /*                                                           */ 00984000
*       /* IRAEVPL.727: Function code for short time / high frequency*/ 00985000
*       /* enqueue promotion                                 @WLMCLCO*/ 00986000
*       /*                                                           */ 00987000
*       /*************************************************************/ 00988000
*                                                                       00989000
*       DECLARE                                                         00990000
*         IRAENQHR_FUNCTION_STP FIXED(32) CONSTANT(1);                  00991000
*                                                                       00992000
*       /*************************************************************/ 00993000
*       /*                                                           */ 00994000
*       /* IRAEVPL.306: include parmlist only if requested           */ 00995000
*       /*                                                           */ 00996000
*       /*************************************************************/ 00997000
*                                                                       00998000
*     %END;                         /* include EnqHR parmlist map    */ 00999000
*                                                                       01000000
*   /*****************************************************************/ 01001000
*   /*                                                               */ 01002000
*   /* IRAEVPL.455: include parmlist only if requested       @ME17332*/ 01003000
*   /*                                                               */ 01004000
*   /*****************************************************************/ 01005000
*                                                                       01006000
*   %IF iraEncassoc = 'Y' %THEN                                         01007000
*     %DO;                                                              01008000
*                                                                       01009000
*       /*************************************************************/ 01010000
*       /*                                                           */ 01011000
*       /* IRAEVPL.237: Sysevent EncAssoc Parmlist pointed at by     */ 01012000
*       /* register 1                                        @ME17332*/ 01013000
*       /*                                                           */ 01014000
*       /*************************************************************/ 01015000
*                                                                       01016000
*       DECLARE                                                         01017000
*         1    IraEncAssoc_Parmlist BASED(*) BDY(BYTE),                 01018000
*          2    IRAEncAssoc_Function_Code FIXED(8), /* IRAEVPL.470:     01019000
*                                      Function code for this           01020000
*                                      request. See EncAssoc function   01021000
*                                      code constants        @ME17332*/ 01022000
*          2    IRAEncAssoc_Rsv1 FIXED(8), /* IRAEVPL.444: Reserved     01023000
*                                      field. Must be set to zero       01024000
*                                                            @ME17332*/ 01025000
*          2    *        CHAR(22);  /* IRAEVPL.438: For future use      01026000
*                                                            @ME17332*/ 01027000
*                                                                       01028000
*       /*************************************************************/ 01029000
*       /*                                                           */ 01030000
*       /* IRAEVPL.217: Return code 4 will be passed to the caller of*/ 01031000
*       /* EncAssoc if the specified function code is invalid        */ 01032000
*       /*                                                   @ME17332*/ 01033000
*       /*                                                           */ 01034000
*       /*************************************************************/ 01035000
*                                                                       01036000
*       DECLARE                                                         01037000
*         IRAENCASSOC_RETURN_CODE_04 FIXED(8) CONSTANT('04'X);          01038000
*                                                                       01039000
*       /*************************************************************/ 01040000
*       /*                                                           */ 01041000
*       /* IRAEVPL.459: Return code 10 will be passed to the caller  */ 01042000
*       /* of EncAssoc if the specified enclave token is invalid     */ 01043000
*       /*                                                   @ME17332*/ 01044000
*       /*                                                           */ 01045000
*       /*************************************************************/ 01046000
*                                                                       01047000
*       DECLARE                                                         01048000
*         IRAENCASSOC_RETURN_CODE_10 FIXED(8) CONSTANT('10'X);          01049000
*                                                                       01050000
*       /*************************************************************/ 01051000
*       /*                                                           */ 01052000
*       /* IRAEVPL.392: Function code for SYSEVENT EncAssoc:         */ 01053000
*       /* Associate an enclave with an address space        @ME17332*/ 01054000
*       /*                                                           */ 01055000
*       /*************************************************************/ 01056000
*                                                                       01057000
*       DECLARE                                                         01058000
*         IRAENCASSOC_FUNCTION_Assoc FIXED(8) CONSTANT('01'X);          01059000
*                                                                       01060000
*       /*************************************************************/ 01061000
*       /*                                                           */ 01062000
*       /* IRAEVPL.468: Function code for SYSEVENT EncAssoc:         */ 01063000
*       /* Disassociate an enclave with an address space     @ME17332*/ 01064000
*       /*                                                           */ 01065000
*       /*************************************************************/ 01066000
*                                                                       01067000
*       DECLARE                                                         01068000
*         IRAENCASSOC_FUNCTION_Disassoc FIXED(8) CONSTANT('02'X);       01069000
*                                                                       01070000
*       /*************************************************************/ 01071000
*       /*                                                           */ 01072000
*       /* IRAEVPL.492: include parmlist only if requested   @ME17332*/ 01073000
*       /*                                                           */ 01074000
*       /*************************************************************/ 01075000
*                                                                       01076000
*     %END;                         /* include EncAssoc parmlist map */ 01077000
*                                                                       01078000
*   /*****************************************************************/ 01079000
*   /*                                                               */ 01080000
*   /* IRAEVPL.831: include parmlist only if requested       @LDYCMTA*/ 01081000
*   /*                                                               */ 01082000
*   /*****************************************************************/ 01083000
*                                                                       01084000
*   %IF iraQryCn = 'Y' %THEN                                            01085000
*     %DO;                                                              01086000
*                                                                       01087000
*       /*************************************************************/ 01088000
*       /*                                                           */ 01089000
*       /* IRAEVPL.833: Sysevent QryCont Parmlist pointed at by      */ 01090000
*       /* register 1                                        @LDYCMTA*/ 01091000
*       /*                                                           */ 01092000
*       /*************************************************************/ 01093000
*                                                                       01094000
*       DECLARE                                                         01095000
*         1    IraQryCn_Parmlist BASED(*) BDY(WORD),                    01096000
*          2    IRAQryCn_Query_Contention, /* IRAEVPL.865: Query        01097000
*                                      contention information           01098000
*                                                            @LDYCMTA*/ 01099000
*           3    IRAQryCn_Eye_Catcher CHAR(8), /* IRAEVPL.964: Input:   01100000
*                                      Eye catcher of query             01101000
*                                      contention parameter list        01102000
*                                                            @LDYCMTA*/ 01103000
*           3    IRAQryCn_len FIXED(16), /* IRAEVPL.976: Input:         01104000
*                                      Length of query contention       01105000
*                                      parameter list        @LDYCMTA*/ 01106000
*           3    IRAQryCn_Version FIXED(8), /* IRAEVPL.970: Input:      01107000
*                                      Version of query contention      01108000
*                                      parameter list        @LDYCMTA*/ 01109000
*           3    *        FIXED(8), /* IRAEVPL.916: For future use      01110000
*                                                            @LDYCMTA*/ 01111000
*           3    IRAQryCn_ASID FIXED(16), /* IRAEVPL.758: Input:        01112000
*                                      Address space ID or 0 if         01113000
*                                      resource holder is identified    01114000
*                                      by STOKEN or enclave token       01115000
*                                                            @LDYCMTA*/ 01116000
*           3    IRAQryCn_num_of_CI_entries FIXED(16), /*               01117000
*                                      IRAEVPL.387: Output: Number of   01118000
*                                      entries returned in the          01119000
*                                      Contention Information array     01120000
*                                      IRAQryCn_Co- ntention_In-        01121000
*                                      formation             @LDYCMTA*/ 01122000
*           3    IRAQryCn_STOKEN CHAR(8), /* IRAEVPL.922: Input:        01123000
*                                      Address space token or 0 if      01124000
*                                      resource holder is identified    01125000
*                                      by ASID or enclave token         01126000
*                                                            @LDYCMTA*/ 01127000
*           3    IRAQryCn_ETOKEN CHAR(8), /* IRAEVPL.386: Input:        01128000
*                                      Enclave token or 0 if the work   01129000
*                                      unit is not associated with an   01130000
*                                      enclave               @LDYCMTA*/ 01131000
*           3    IRAQryCn_ReqType FIXED(32), /* IRAEVPL.1007: Input:    01132000
*                                      Request type of query. Return    01133000
*                                      contention information for:      01134000
*                                      1=Standard EnqHolds and Short    01135000
*                                      time EnqHolds, 2=Chronic         01136000
*                                      resource contentions, 0=All      01137000
*                                                            @LDYCMTA*/ 01138000
*           3    *        FIXED(32), /* IRAEVPL.1001: Reserved          01139000
*                                                            @LDYCMTA*/ 01140000
*           3    IRAQryCn_Contention_Information(5), /* IRAEVPL.424:    01141000
*                                      Output: Contention information   01142000
*                                      returned by SRM       @LDYCMTA*/ 01143000
*            4    IRAQryCn_CI_record, /* IRAEVPL.871: Contention        01144000
*                                      information data record          01145000
*                                                            @LDYCMTA*/ 01146000
*             5    IRAQryCn_SubSys CHAR(4), /* IRAEVPL.429: Generic     01147000
*                                      subsystem type        @LDYCMTA*/ 01148000
*             5    IRAQryCn_SubSysname CHAR(8), /* IRAEVPL.934:         01149000
*                                      Subsystem instance    @LDYCMTA*/ 01150000
*             5    IRAQryCn_CST BIT(64), /* IRAEVPL.940: Contention     01151000
*                                      start time in STCK format        01152000
*                                                            @LDYCMTA*/ 01153000
*             5    IRAQryCn_Contention_ID FIXED(32), /* IRAEVPL.264:    01154000
*                                      ID of SRM service the resource   01155000
*                                      contention was assigned to       01156000
*                                      1=Standard EnqHold 2=Short       01157000
*                                      time EnqHold 3=Chronic           01158000
*                                      resource contention   @LDYCMTA*/ 01159000
*             5    IRAQryCn_Count FIXED(32), /* IRAEVPL.877: Number     01160000
*                                      of contentions signaled to SRM   01161000
*                                      for this Subsystem type,         01162000
*                                      Subsystem instance, and          01163000
*                                      contention ID combination        01164000
*                                                            @LDYCMTA*/ 01165000
*             5    *        CHAR(4), /* IRAEVPL.431: reserved           01166000
*                                                            @LDYCMTA*/ 01167000
*           3    *        CHAR(8);  /* IRAEVPL.776: reserved @LDYCMTA*/ 01168000
*                                                                       01169000
*       /*************************************************************/ 01170000
*       /*                                                           */ 01171000
*       /* IRAEVPL.785: Return code 4 will be passed to the caller of*/ 01172000
*       /* SYSEVENT QRYCONT if there are no contentions.     @LDYCMTA*/ 01173000
*       /*                                                           */ 01174000
*       /*************************************************************/ 01175000
*                                                                       01176000
*       DECLARE                                                         01177000
*         IraQryCn_RETURN_CODE_04 FIXED(8) CONSTANT(4);                 01178000
*                                                                       01179000
*       /*************************************************************/ 01180000
*       /*                                                           */ 01181000
*       /* IRAEVPL.502: Return code 8 will be passed to the caller of*/ 01182000
*       /* SYSEVENT QRYCONT if an invalid enclave token was specifed.*/ 01183000
*       /*                                                   @LDYCMTA*/ 01184000
*       /*                                                           */ 01185000
*       /*************************************************************/ 01186000
*                                                                       01187000
*       DECLARE                                                         01188000
*         IraQryCn_RETURN_CODE_08 FIXED(8) CONSTANT(8);                 01189000
*                                                                       01190000
*       /*************************************************************/ 01191000
*       /*                                                           */ 01192000
*       /* IRAEVPL.794: Return code 10 will be passed to the caller  */ 01193000
*       /* of SYSEVENT QRYCONT if the specified ASID did not map to a*/ 01194000
*       /* valid, active address space.                      @LDYCMTA*/ 01195000
*       /*                                                           */ 01196000
*       /*************************************************************/ 01197000
*                                                                       01198000
*       DECLARE                                                         01199000
*         IraQryCn_RETURN_CODE_10 FIXED(8) CONSTANT(10);                01200000
*                                                                       01201000
*       /*************************************************************/ 01202000
*       /*                                                           */ 01203000
*       /* IRAEVPL.803: Return code 12 will be passed to the caller  */ 01204000
*       /* of SYSEVENT QRYCONT if the specified STOKEN did not map to*/ 01205000
*       /* a valid, active address space.                    @LDYCMTA*/ 01206000
*       /*                                                           */ 01207000
*       /*************************************************************/ 01208000
*                                                                       01209000
*       DECLARE                                                         01210000
*         IraQryCn_RETURN_CODE_12 FIXED(8) CONSTANT(12);                01211000
*                                                                       01212000
*       /*************************************************************/ 01213000
*       /*                                                           */ 01214000
*       /* IRAEVPL.812: Return code 14 will be passed to the caller  */ 01215000
*       /* of SYSEVENT QRYCONT if an invalid combination of ASID,    */ 01216000
*       /* STOKEN, or enclave token was specified in the parameter   */ 01217000
*       /* list.                                             @LDYCMTA*/ 01218000
*       /*                                                           */ 01219000
*       /*************************************************************/ 01220000
*                                                                       01221000
*       DECLARE                                                         01222000
*         IraQryCn_RETURN_CODE_14 FIXED(8) CONSTANT(14);                01223000
*                                                                       01224000
*       /*************************************************************/ 01225000
*       /*                                                           */ 01226000
*       /* IRAEVPL.821: Return code 16 will be passed to the caller  */ 01227000
*       /* of SYSEVENT QRYCONT if there is additional resource       */ 01228000
*       /* contention information available                  @LDYCMTA*/ 01229000
*       /*                                                           */ 01230000
*       /*************************************************************/ 01231000
*                                                                       01232000
*       DECLARE                                                         01233000
*         IraQryCn_RETURN_CODE_16 FIXED(8) CONSTANT(16);                01234000
*                                                                       01235000
*       /*************************************************************/ 01236000
*       /*                                                           */ 01237000
*       /* IRAEVPL.957: Return code 18 will be passed to the caller  */ 01238000
*       /* of SYSEVENT QRYCONT if an invalid version, length, or eye */ 01239000
*       /* catcher was specified in the parameter list       @LDYCMTA*/ 01240000
*       /*                                                           */ 01241000
*       /*************************************************************/ 01242000
*                                                                       01243000
*       DECLARE                                                         01244000
*         IraQryCn_RETURN_CODE_18 FIXED(8) CONSTANT(18);                01245000
*                                                                       01246000
*       /*************************************************************/ 01247000
*       /*                                                           */ 01248000
*       /* IRAEVPL.992: Return code 20 will be passed to the caller  */ 01249000
*       /* of SYSEVENT QRYCONT if an invalid request type was        */ 01250000
*       /* specified in the parameter list                   @LDYCMTA*/ 01251000
*       /*                                                           */ 01252000
*       /*************************************************************/ 01253000
*                                                                       01254000
*       DECLARE                                                         01255000
*         IraQryCn_RETURN_CODE_20 FIXED(8) CONSTANT(20);                01256000
*                                                                       01257000
*       /*************************************************************/ 01258000
*       /*                                                           */ 01259000
*       /* IRAEVPL.848: Contention caused by SYSEVENT ENQHOLD        */ 01260000
*       /* Standard                                          @LDYCMTA*/ 01261000
*       /*                                                           */ 01262000
*       /*************************************************************/ 01263000
*                                                                       01264000
*       DECLARE                                                         01265000
*         IRAQryCn_Contention_ID_STD_EnqHold FIXED(32) CONSTANT(1);     01266000
*                                                                       01267000
*       /*************************************************************/ 01268000
*       /*                                                           */ 01269000
*       /* IRAEVPL.883: Contention caused by SYSEVENT ENQHOLD Short  */ 01270000
*       /* time promotion                                    @LDYCMTA*/ 01271000
*       /*                                                           */ 01272000
*       /*************************************************************/ 01273000
*                                                                       01274000
*       DECLARE                                                         01275000
*         IRAQRYCN_Contention_ID_STP_EnqHold FIXED(32) CONSTANT(2);     01276000
*                                                                       01277000
*       /*************************************************************/ 01278000
*       /*                                                           */ 01279000
*       /* IRAEVPL.892: Contention caused by Chronic resource        */ 01280000
*       /* contention service IWMCNTN                        @LDYCMTA*/ 01281000
*       /*                                                           */ 01282000
*       /*************************************************************/ 01283000
*                                                                       01284000
*       DECLARE                                                         01285000
*         IRAQryCn_Contention_ID_CNTN FIXED(32) CONSTANT(3);            01286000
*                                                                       01287000
*       /*************************************************************/ 01288000
*       /*                                                           */ 01289000
*       /* IRAEVPL.946: Eyecatcher of query contention parmlist      */ 01290000
*       /*                                                   @LDYCMTA*/ 01291000
*       /*                                                           */ 01292000
*       /*************************************************************/ 01293000
*                                                                       01294000
*       DECLARE                                                         01295000
*         IRAQryCn_Eye_Catcher_value CHAR(8) CONSTANT('IRAQRYCN');      01296000
*                                                                       01297000
*       /*************************************************************/ 01298000
*       /*                                                           */ 01299000
*       /* IRAEVPL.499: Parmlist length value                @LDYCMTA*/ 01300000
*       /*                                                           */ 01301000
*       /*************************************************************/ 01302000
*                                                                       01303000
*       DECLARE                                                         01304000
*         IRAQryCn_Length_value FIXED(16) CONSTANT(208);                01305000
*                                                                       01306000
*       /*************************************************************/ 01307000
*       /*                                                           */ 01308000
*       /* IRAEVPL.982: Parmlist version 01                  @LDYCMTA*/ 01309000
*       /*                                                           */ 01310000
*       /*************************************************************/ 01311000
*                                                                       01312000
*       DECLARE                                                         01313000
*         IRAQryCn_Version_01 FIXED(8) CONSTANT(1);                     01314000
*                                                                       01315000
*       /*************************************************************/ 01316000
*       /*                                                           */ 01317000
*       /* IRAEVPL.1022: Request type 'All' returns contention       */ 01318000
*       /* information for Standard EnqHolds, Short time EnqHolds,   */ 01319000
*       /* and Chronic resource contentions                  @LDYCMTA*/ 01320000
*       /*                                                           */ 01321000
*       /*************************************************************/ 01322000
*                                                                       01323000
*       DECLARE                                                         01324000
*         IRAQryCn_ReqType_All FIXED(32) CONSTANT(0);                   01325000
*                                                                       01326000
*       /*************************************************************/ 01327000
*       /*                                                           */ 01328000
*       /* IRAEVPL.1013: Request type 'EnqHold' returns contention   */ 01329000
*       /* information for Standard EnqHolds and Short time EnqHolds */ 01330000
*       /*                                                   @LDYCMTA*/ 01331000
*       /*                                                           */ 01332000
*       /*************************************************************/ 01333000
*                                                                       01334000
*       DECLARE                                                         01335000
*         IRAQryCn_ReqType_EnqHold FIXED(32) CONSTANT(1);               01336000
*                                                                       01337000
*       /*************************************************************/ 01338000
*       /*                                                           */ 01339000
*       /* IRAEVPL.1031: Request type 'CNTN' returns contention      */ 01340000
*       /* information for Chronic resource contentions      @LDYCMTA*/ 01341000
*       /*                                                           */ 01342000
*       /*************************************************************/ 01343000
*                                                                       01344000
*       DECLARE                                                         01345000
*         IRAQryCn_ReqType_CNTN FIXED(32) CONSTANT(2);                  01346000
*                                                                       01347000
*       /*************************************************************/ 01348000
*       /*                                                           */ 01349000
*       /* IRAEVPL.857: include parmlist only if requested   @LDYCMTA*/ 01350000
*       /*                                                           */ 01351000
*       /*************************************************************/ 01352000
*                                                                       01353000
*     %END;                         /* include QryCn parmlist map    */ 01354000
*                                                                       01355000
*   /*****************************************************************/ 01356000
*   /*                                                               */ 01357000
*   /* IRAEVPL.319: required to run cbgen on output          @LDYCMTA*/ 01358000
*   /*                                                               */ 01359000
*   /*****************************************************************/ 01360000
*                                                                       01361000
*@LOGIC;                                                                01362000
*#PRAGMA TOOL=CBGEN.                                                    01363000
*#NOMAP.                                                                01364000
*#LINE.%IRAENCSTATE = 'Y';                                              01365000
*#LINE.%IRAENQHR    = 'Y';                                              01366000
*#LINE.%IRAENCASSOC = 'Y';                                              01367000
*#LINE.%IRAQRYCN    = 'Y';                                              01368000
*#MAP.                                                                  01369000
*#LINE.%INCLUDE SYSLIB(IRAEVPL);                                        01370000
*#USEORG.                                                               01371000
*#EPRAGMA.                                                              01372000
*@ENDLOGIC;                                                             01373000
*/* End of PL/X Source                                               */ 01374000
* %IF IRAEVPL_LIST ^= 'NO' &                                            01375000
*    ZCBPRINT ^= 'NO' %THEN                                             01376000
*   %GOTO IRAEVPL_4;                                                    01377000
*   @LIST POP NOECHO;                                                   01378000
* %IRAEVPL_4:;                                                          01379000
* %END;                                                                 01380000
