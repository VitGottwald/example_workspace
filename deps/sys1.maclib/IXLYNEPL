*                                                                       00001000
* %DCL IXLYNEPL_INCLUDED CHAR EXT;                                      00002000
* %DEACTIVATE IXLYNEPL_INCLUDED;                                        00003000
* %IF IXLYNEPL_INCLUDED = '' %THEN                                      00004000
* %DO;                                                                  00005000
*/* Macro made bi-lingual on 22125. CBGEN compile date 21138         */ 00006000
*% /*                                                                   00007000
         MACRO                                                          00008000
         IXLYNEPL &DSECT=YES,&LIST=YES,&TITLE=YES,&NEPL=YES,           *00009000
               &NEPLENT=COND                                            00010000
         GBLC  &IXLYNEPL_INCLUDED                                       00011000
         GBLC  &ZCBPRINT                                                00012000
&IXLYNEPL_INCLUDED SETC 'YES'                                           00013000
         AIF   ('&LIST' EQ 'NONE').P0                                   00014000
         AIF   ('&TITLE' EQ 'NO').P5                                    00015000
 TITLE   'IXLYNEPL  - Notify Exit Parameter List                     '  00016000
.P5      ANOP                                                           00017000
**/ ;                                                                   00018000
*/* START OF SPECIFICATIONS ******************************************* 00019000
*                                                                       00020000
*01* PROPRIETARY STATEMENT =                                            00021000
*                                                                       00022000
*    LICENSED MATERIALS - PROPERTY OF IBM                               00023000
*    5650-ZOS COPYRIGHT IBM CORP. 1993, 2021                            00024000
*                                                                       00025000
*01* STATUS = HBB77D0                                                   00026000
*                                                                       00027000
*01* END OF PROPRIETARY STATEMENT                                       00028000
*                                                                       00029000
*02* ACRONYM:  NEPL                                                     00030000
*                                                                       00031000
*01* DESCRIPTIVE NAME:  Notify Exit Parameter List                      00032000
*                                                                       00033000
*01* MACRO NAME:  IXLYNEPL                                              00034000
*                                                                       00035000
*01* DSECT NAME:                                                        00036000
*     NEPL                                                              00037000
*     NEPLListSection                                                   00038000
*     NEPLLockSection                                                   00039000
*     NEPLLockSection1                                                  00040000
*     NEPLENT                                                           00041000
*                                                                       00042000
*01* COMPONENT:  Cross System Extended Services (SCIXL)                 00043000
*                                                                       00044000
*01* EYE-CATCHER:  NONE                                                 00045000
*                                                                       00046000
*01* STORAGE ATTRIBUTES:                                                00047000
*02*  SUBPOOL:  205                                                     00048000
*02*  KEY:  Key 0                                                       00049000
*02*  RESIDENCY:  Above 16 MB in virtual storage.                       00050000
*                                                                       00051000
*01* SIZE:  Lock V0: 360 bytes + 190*NEPLENT# + length of resource name 00052000
*            NEPL    -- X'002C' bytes                                   00053000
*            NEPLENT -- X'00BE' bytes                                   00054000
*           Lock V1: 556 bytes + 190*NEPLENT# + length of resource name 00055000
*           List: 108 bytes                                             00056000
*01*             NEPL    -- X'002C' bytes                               00057000
*01*             NEPLLISTSECTION --  64 bytes                           00058000
*01*             NEPLLOCKSECTION -- 316 bytes                           00059000
*01*             NEPLLOCKSECTION1 -- 512 bytes                          00060000
*01*             NEPLENT -- X'00BE' bytes                               00061000
*                                                                       00062000
*01* CREATED BY: IXLRQNEI for locking requests                          00063000
*                IXLRQLNX for serialized list requests                  00064000
*                                                                       00065000
*01* POINTED TO BY:                                                     00066000
*     First word in parameter list provided to notify exit.             00067000
*                                                                       00068000
*01* SERIALIZATION:                                                     00069000
*     None required                                                     00070000
*                                                                       00071000
*01* FUNCTION:                                                          00072000
*     Maps parameter list to notify exit for XES connectors             00073000
*                                                                       00074000
*01* EXTERNAL CLASSIFICATION: GUPI                                      00075000
*01* END OF EXTERNAL CLASSIFICATION:                                    00076000
*                                                                       00077000
*01* METHOD OF ACCESS:                                                  00078000
*02*  ASM:                                                              00079000
*     IXLYNEPL USING on NEPL and NEPLENT                                00080000
*02*  PL/AS:                                                            00081000
*     %INCLUDE SYSLIB(IXLYNEPL)                                         00082000
*                                                                       00083000
*01* DELETED BY: IXLRQNEI for locking requests                          00084000
*                IXLRQLNX for serialized list requests                  00085000
*                                                                       00086000
*01* FREQUENCY:  One for resolution of contention.  This can be         00087000
*                for one of two cases:                                  00088000
*                  - contention on a resource name basis when           00089000
*                    the contention exit indicates to notify other      00090000
*                    owners of this resource (IXLLOCK related           00091000
*                    requests).                                         00092000
*                                                                       00093000
*                  - contention for an entry in a serialized list       00094000
*                    structure (IXLLIST requests).                      00095000
*                                                                       00096000
*01* DEPENDENCIES:  Include IXLYCON                                     00097000
*                                                                       00098000
*01* DISTRIBUTION LIBRARY:  AMACLIB                                     00099000
*                                                                       00100000
*01* CHANGE ACTIVITY:                                                   00101000
*     $L0=SYSLKSRQ HBB5510 900112 PD00XB: XES                           00102000
*     $L1=SYSLKSRQ HBB5510 910621 PD00T8: Rework for serialized list    00103000
*     $D1=DIGxxxxx HBB5510 910920 PD00T8: Increase size of userdata to  00104000
*                                         64 bytes                      00105000
*     $D2=DIG0140  HBB5510 930520 PD00BG: Serialized list changes       00106000
*     $P1=PIG2653  HBB5510 930909 PD00AO: Remove variable area          00107000
*     $P2=PIG5178  HBB5510 940314 PD00AO: Performance                   00108000
*     $01=OW39756  HBB5510 990731 PD00S7: Clarify when updates to the   00109000
*                                         NEPLWORK are done.            00110000
*        =97702    HBB77B0 151103 PD00SA: Correct copyright statement   00111000
*     $L2=ADUPLX   HBB77A0 141130 PD0JES: Asynch duplexing              00112000
*     $L3=333129   HBB77D0 190930 PD00C9: V2R5                          00113000
*     $P3=379320   HBB77D0 200630 PD00C9: ISV                           00114000
*     $L3=OA60650  HBB77B0 210405 PD00C9: Reserve entries               00115000
*                                                                       00116000
* NOTES: This control block must end on a doubleword boundary.          00117000
*                                                                       00118000
*                                                                       00119000
*END OF SPECIFICATIONS ***********************************************/ 00120000
*% /*                                                                   00121000
.P0      ANOP                                                           00122000
         AIF   ('&ZCBPRINT' EQ 'NO').P1                                 00123000
         AIF   ('&LIST' EQ 'YES').P2                                    00124000
.P1      ANOP                                                           00125000
         PUSH  PRINT                                                    00126000
         PRINT OFF                                                      00127000
.P2      ANOP                                                           00128000
         AIF   ('&NEPL' EQ 'NO').L0002                                  00129000
         AIF   ('&DSECT' EQ 'YES').L0003                                00130000
         AIF   ('&NEPL' NE 'YES').L0002                                 00131000
.L0003   ANOP                                                           00132000
*                                                                       00133000
*  ------------------------------------------------------------------   00134000
*    Nepl Common Header                                                 00135000
*  ------------------------------------------------------------------   00136000
*                                                                       00137000
*                                                                       00138000
         AIF   ('&DSECT' EQ 'YES').L0004                                00139000
NEPL     DS    0D        Notify exit parameter list                     00140000
         AGO   .L0005                                                   00141000
.L0004   ANOP                                                           00142000
NEPL     DSECT           Notify exit parameter list                     00143000
.L0005   ANOP                                                           00144000
NEPLCONTOKEN DS CL16     Connect token                                  00145000
NEPLCONDATA DS CL8       Connect-time data                              00146000
NEPLCONNAME DS CL16      Connect name as specified by connector         00147000
NEPLTYPE DS    B         Request type that resulted in notify exit     *00148000
                         being called                                   00149000
*  Bit definitions:                                                     00150000
NEPLLOCK EQU   X'80'     IXLLOCK request resulted in contention and    *00151000
                         contention exit specified notify for resource *00152000
                         owner                                          00153000
NEPLLIST EQU   X'40'     IXLLIST request resulted in contention for a  *00154000
                         lock structure entry                           00155000
NEPLSTRUCTURESTATUS DS CL1 Reserved                                     00156000
*  Bit definitions:                                                     00157000
NEPLREBUILD EQU X'80'    Resource for which we are being Notified is   *00158000
                         for the new structure during the rebuild      *00159000
                         process                                        00160000
         DS    CL2       Reserved                                       00161000
NEPLEND  DS    0C        Data related to the request is mapped below   *00162000
                         by NeplLockSection or NeplLockSection1 for    *00163000
                         lock structure requests and NeplListSection   *00164000
                         for list structure request                     00165000
NEPL_LEN EQU   *-NEPL                                                   00166000
*                                                                       00167000
*  ------------------------------------------------------------------   00168000
*    Nepl List Section                                                  00169000
*  ------------------------------------------------------------------   00170000
*                                                                       00171000
*                                                                       00172000
         ORG   NEPLEND                                                  00173000
NEPLLISTSECTION DS 0X                                                   00174000
NEPLLOCKINDEX DS F       LOCKINDEX for this request                     00175000
         DS    CL4       Reserved                                       00176000
NEPLOWNERINFO DS CL24                                                   00177000
         ORG   NEPLOWNERINFO                                            00178000
NEPLOWNERLOCKDATA DS CL8 Lock owner's lock time data                    00179000
NEPLOWNERFLAGS DS BL4    Lock owner flags                               00180000
*  Bit definitions:                                                     00181000
NEPLOWNERPERSISTENTLOCK EQU X'80' 1 -> lock is persistent and          *00182000
                         therefore the lock data is Zero.               00183000
         DS    CL12      Reserved                                       00184000
NEPLPENDINGINFO DS CL32  Information about pending request              00185000
         ORG   NEPLPENDINGINFO                                          00186000
         DS    CL1       Reserved                                       00187000
NEPLPENDINGCONID DS X    Connection Id                                  00188000
NEPLPENDINGFLAGS DS CL2                                                 00189000
*  Bit definitions:                                                     00190000
NEPLPENDINGREQUESTTYPE EQU X'80' 1 -> LockOper=Set, 0 ->               *00191000
                         LockOper=NotHeld                               00192000
NEPLPENDINGCONNAME DS CL16 Connection Name                              00193000
         DS    CL12      Reserved                                       00194000
NEPLLISTSECTIONEND DS 0C                                                00195000
NEPLLISTSECTION_LEN EQU *-NEPLLISTSECTION                               00196000
         ORG   ,                                                        00197000
*                                                                       00198000
*  ------------------------------------------------------------------   00199000
*    Nepl Lock Section                                                  00200000
*        Mapped by NeplLockSection if NeplLockVersion=0                 00201000
*        Mapped by NeplLockSection1 if NeplLockVersion=1                00202000
*  ------------------------------------------------------------------   00203000
*                                                                       00204000
*                                                                       00205000
         ORG   NEPLEND                                                  00206000
NEPLLOCKSECTION DS 0X                                                   00207000
NEPLLOCKDATA DS CL8      Lock time data                                 00208000
NEPLTOKEN DS   CL32      Token used by XES                              00209000
NEPLRNAME@ DS  A         Address of resource name                       00210000
NEPLRNAMELEN DS F        Length of resource name                        00211000
NEPLHASHVAL DS F         Hash value                                     00212000
NEPLWORK DS    CL32      Work area, passed from the contention exit    *00213000
                         via the CEPLEWORK field. This field will be   *00214000
                         presented back to the contention exit with    *00215000
                         the results from the notify exits. The        *00216000
                         results are presented even if the notify exit *00217000
                         released the resource via the IXLSYNCH        *00218000
                         service unless the contention exit specified  *00219000
                         stop management. See the IXLYCEPL mapping for *00220000
                         more details.                                  00221000
NEPLHELD DS    CL68                                                     00222000
         ORG   NEPLHELD                                                 00223000
NEPLSTATE DS   X         Ownership state, Constants in IXLYCON          00224000
NEPLUDATA DS   CL64      Userdata                                       00225000
         DS    CL3       Reserved                                       00226000
NEPLENT@ DS    A         Address of requests if NeplENT# is not 0       00227000
NEPLENT# DS    F         Number of requests                             00228000
NEPLOUT  DS    CL147     Input/Output Area for communicating with      *00229000
                         IXLSYNCH                                       00230000
         ORG   NEPLOUT                                                  00231000
NEPLOSU  DS    CL68      State and userdata for IXLSYNCH to use for    *00232000
                         ownership updates. Initialized to NeplHeld.    00233000
         ORG   NEPLOSU                                                  00234000
NEPLOSTATE DS  X         Requested ownership state Constants in        *00235000
                         IXLYCON                                        00236000
NEPLOUDATA DS  CL64      Requested userdata                             00237000
         DS    CL3       reserved                                       00238000
NEPLORTACTION DS B       Input area to indicate what to do with Record *00239000
                         data                                           00240000
*  Bit definitions:                                                     00241000
NEPLORTWRITE EQU X'80'   Input area to indicate write the Record data  *00242000
                         in NeplORtData                                 00243000
NEPLORTDELETE EQU X'40'  Input area to indicate delete the currently   *00244000
                         associated Record data entry                   00245000
NEPLORTALLOWUSERSV EQU X'20' Input area to indicate whether to allow   *00246000
                         the creation of a record data entry to        *00247000
                         proceed if the resulting percentage of free   *00248000
                         (unused) entries at the completion of the     *00249000
                         request would be less than the established    *00250000
                         percent entry reserved threshold (if any) for *00251000
                         the structure. 0 -> Do not allow creation if  *00252000
                         resulting percent free is less than           *00253000
                         established threshold. 1 -> Allow creation -  *00254000
                         ignore threshold. Record data entry should be  00255000
*                        created as long as there is a free record     *00256000
                         table entry to satisfy the request. Valid     *00257000
                         when NeplORtWrite set ON                       00258000
NEPLORTACTIONRSV EQU X'1F' Reserved, set to 0                           00259000
NEPLOENTRYID DS CL12     Output area specifying identifier of record   *00260000
                         data entry which may have been created via    *00261000
                         IXLSYNCH                                       00262000
NEPLORTDATA DS CL64      Input area to specify Record data to be       *00263000
                         written                                        00264000
NEPLORSV66 DS  CL2       Reserved, set to 0                             00265000
NEPLLOCKVERSION DS X     Version number the NEPL Lock Section           00266000
         DS    CL8       Reserved                                       00267000
NEPLLOCKSECTION_LEN EQU *-NEPLLOCKSECTION                               00268000
         ORG   NEPLEND                                                  00269000
NEPLLOCKSECTION1 DS 0X                                                  00270000
         DS    CL316     Mapped by NeplLockSection                      00271000
NEPL1ADUPREQSEQNUM DS CL16 Asynchronous duplexing request sequence     *00272000
                         number assigned to the request if one was     *00273000
                         generated. Otherwise this field contains      *00274000
                         zero. This field is set by the IXLSYNCH       *00275000
                         service. See the ADupReqSeqNum keyword on the *00276000
                         IXLLOCK macro for more information.            00277000
         DS    CL180     Reserved                                       00278000
NEPLLOCKSECTION1_LEN EQU *-NEPLLOCKSECTION1                             00279000
         ORG   ,                                                        00280000
.L0002   ANOP                                                           00281000
         AIF   ('&NEPLENT' EQ 'NO').L0006                               00282000
         AIF   ('&DSECT' EQ 'YES').L0007                                00283000
         AIF   ('&NEPLENT' NE 'YES').L0006                              00284000
NEPLENT  DS    0F        Request entry for IXLLOCK related requests     00285000
         AGO   .L0008                                                   00286000
.L0007   ANOP                                                           00287000
NEPLENT  DSECT           Request entry for IXLLOCK related requests     00288000
.L0008   ANOP                                                           00289000
NEPLENEXT@ DS  A         Address of next NeplENT                        00290000
NEPLECONVERSION DS CL4   Requestor's connector version                  00291000
         DS    CL5       Reserved                                       00292000
NEPLECONID DS  X         Requestor's connector ID                       00293000
         DS    CL6       Reserved                                       00294000
NEPLECONNAME DS CL16     Connect name as specified by connector         00295000
         DS    CL16      Reserved                                       00296000
NEPLEFLAGS DS  BL2                                                      00297000
*                                                                       00298000
*      ***************************************************************  00299000
*      *                                                             *  00300000
*      * Note -- if HSTATE is 0 then the resource is not owned. If   *  00301000
*      * HSTATE not = RSTATE or HUDATA not = RUDATA then an alter of *  00302000
*      * some sort is pending                                        *  00303000
*      *                                                             *  00304000
*      ***************************************************************  00305000
*                                                                       00306000
*                                                                       00307000
NEPLEHELDREQ DS CL136    Held/Requested state                           00308000
         ORG   NEPLEHELDREQ                                             00309000
NEPLEHELD DS   CL68      Held state                                     00310000
         ORG   NEPLEHELD                                                00311000
NEPLEHSTATE DS X         Ownership state Constants in IXLYCON           00312000
NEPLEHUDATA DS CL64      Userdata                                       00313000
         DS    CL3       Reserved                                       00314000
NEPLEREQ DS    CL68      Requested state                                00315000
         ORG   NEPLEREQ                                                 00316000
NEPLERSTATE DS X         Requested ownership state, Constants in       *00317000
                         IXLYCON                                        00318000
NEPLERUDATA DS CL64      Requested userdata                             00319000
         DS    CL3       Reserved                                       00320000
NEPLLISTLEN EQU 108                                                     00321000
NEPLLOCKLEN EQU 360                                                     00322000
NEPLLOCKLEN1 EQU 556                                                    00323000
NEPLLOCKVER0 EQU 0                                                      00324000
NEPLLOCKVER1 EQU 1                                                      00325000
NEPLENT_LEN EQU *-NEPLENT                                               00326000
.L0006   ANOP                                                           00327000
         AIF   ('&ZCBPRINT' EQ 'NO').P3                                 00328000
         AIF   ('&LIST' EQ 'YES').P4                                    00329000
.P3      ANOP                                                           00330000
         POP   PRINT                                                    00331000
.P4      ANOP                                                           00332000
.P_EXIT  ANOP                                                           00333000
         MEND                                                           00334000
**/ ;                                                                   00335000
* %IXLYNEPL_INCLUDED = 'YES';                                           00336000
* %DCL ZCBPRINT CHAR EXT;                                               00337000
* %DEACTIVATE ZCBPRINT;                                                 00338000
* %DCL IXLYNEPL_LIST CHAR EXT;                                          00339000
* %DEACTIVATE IXLYNEPL_LIST;                                            00340000
* %IF IXLYNEPL_LIST = 'NO' !                                            00341000
*    ZCBPRINT = 'NO' %THEN                                              00342000
* %DO;                                                                  00343000
*   @LIST PUSH NOECHO;                                                  00344000
*   @LIST NOASSEMBLE NOECHO;                                            00345000
*   @LIST OFF C NOECHO;                                                 00346000
* %END;                                                                 00347000
*/* Start of PL/X Source                                             */ 00348000
*                                                                       00349000
*/*------------------------------------------------------------------*/ 00350000
*/*  Nepl Common Header                                              */ 00351000
*/*------------------------------------------------------------------*/ 00352000
* DCL 1 NEPL BASED BDY(DWORD),    /* Notify exit parameter list      */ 00353000
*      2 NeplConToken CHAR(16),    /* Connect token                  */ 00354000
*      2 NeplConData CHAR(8),      /* Connect-time data              */ 00355000
*      2 NeplConName CHAR(16),     /* Connect name as specified by      00356000
*                                    connector                       */ 00357000
*      2 NeplType Bit(8),          /* Request type that resulted in     00358000
*                                     notify exit being called       */ 00359000
*       3 NeplLock Bit(1),        /* IXLLOCK request resulted in        00360000
*                                    contention and contention exit     00361000
*                                    specified notify for resource      00362000
*                                    owner                           */ 00363000
*       3 NeplList Bit(1),        /* IXLLIST request resulted in        00364000
*                                    contention for a lock structure    00365000
*                                    entry                           */ 00366000
*      2 NeplStructureStatus,      /* Reserved                       */ 00367000
*       3 NeplRebuild        Bit(1),  /* Resource for which we are      00368000
*                                        being Notified is              00369000
*                                        for the new structure during   00370000
*                                        the rebuild process         */ 00371000
*       3 *                  Bit(7),  /* Reserved                    */ 00372000
*      2 *                  CHAR(2),  /* Reserved                    */ 00373000
*      2 NeplEnd Char(0) Bdy(Word); /* Data related to the request is   00374000
*                                    mapped below by NeplLockSection    00375000
*                                    or NeplLockSection1                00376000
*                                    for lock structure requests and    00377000
*                                    NeplListSection for list structure 00378000
*                                    request                     @L2C*/ 00379000
*                                                                       00380000
*/*------------------------------------------------------------------*/ 00381000
*/*  Nepl List Section                                               */ 00382000
*/*------------------------------------------------------------------*/ 00383000
* DCL 1 NeplListSection Def(NeplEnd) Char(64), /* Data related to       00384000
*                                     IXLLIST request            @P1C*/ 00385000
*      2 NeplLockIndex FIXED(32),  /* LOCKINDEX for this request     */ 00386000
*      2 *   Char(4),              /* Reserved                   @D2A*/ 00387000
*      2 NeplOwnerInfo,                                                 00388000
*        3 NeplOwnerLockData Char(8), /* Lock owner's lock time data    00389000
*                                                                @D2A*/ 00390000
*        3 NeplOwnerFlags Bit(32),  /* Lock owner flags          @D2A*/ 00391000
*           5 NeplOwnerPersistentLock Bit(1), /* 1 -> lock is           00392000
*                                     persistent and therefore          00393000
*                                     the lock data is Zero.     @D2A*/ 00394000
*        3 * Char(12),             /* Reserved                   @D2A*/ 00395000
*      2 NeplPendingInfo,          /* Information about pending         00396000
*                                     request                    @D2A*/ 00397000
*        3 * Char(1),                 /* Reserved                @D2A*/ 00398000
*        3 NeplPendingConid Fixed(8), /* Connection Id           @D2A*/ 00399000
*        3 NeplPendingFlags Char(2),                                    00400000
*           5 NeplPendingRequestType Bit(1), /* 1 -> LockOper=Set,      00401000
*                                     0 -> LockOper=NotHeld      @D2A*/ 00402000
*        3 NeplPendingConname Char(16), /* Connection Name       @D2A*/ 00403000
*        3 * Char(12),             /* Reserved                   @D2A*/ 00404000
*      2 NeplListSectionEnd CHAR(0);                                    00405000
*                                                                       00406000
*/*------------------------------------------------------------------*/ 00407000
*/*  Nepl Lock Section                                               */ 00408000
*/*      Mapped by NeplLockSection if NeplLockVersion=0              */ 00409000
*/*      Mapped by NeplLockSection1 if NeplLockVersion=1             */ 00410000
*/*------------------------------------------------------------------*/ 00411000
* DCL 1 NeplLockSection Def(NeplEnd) Char(316), /* Data related to      00412000
*                                    this invocation of the notify      00413000
*                                    exit for IXLLOCK            @P1C*/ 00414000
*      2 NeplLockData CHAR(8),     /* Lock time data                 */ 00415000
*      2 NeplToken CHAR(32) BDY(WORD),  /* Token used by XES         */ 00416000
*      2 NeplRname@ PTR(31),       /* Address of resource name       */ 00417000
*      2 NeplRnameLen FIXED(32),   /* Length of resource name        */ 00418000
*      2 NeplHashVal FIXED(32),    /* Hash value                     */ 00419000
*      2 NeplWork CHAR(32),        /* Work area, passed from the        00420000
*                                    contention exit via the CEPLEWORK  00421000
*                                    field.  This field will be         00422000
*                                    presented back to the contention   00423000
*                                    exit with the results from the     00424000
*                                    notify exits.  The results are     00425000
*                                    presented even if the notify exit  00426000
*                                    released the resource via the      00427000
*                                    IXLSYNCH service unless the        00428000
*                                    contention exit specified stop     00429000
*                                    management.  See the IXLYCEPL      00430000
*                                    mapping for more details.   @01C*/ 00431000
*      2 NeplHeld,                 /*                                */ 00432000
*       3 NeplState FIXED(8),      /* Ownership state,                  00433000
*                                    Constants in IXLYCON            */ 00434000
*       3 NeplUdata CHAR(64),      /* Userdata                   @D1C*/ 00435000
*       3 * Char(3),               /* Reserved                       */ 00436000
*      2 NeplEnt@ PTR(31),         /* Address of requests               00437000
*                                     if NeplENT# is not 0           */ 00438000
*      2 NeplEnt# FIXED(32),       /* Number of requests                00439000
*                                                                    */ 00440000
*      2 NeplOut,                  /* Input/Output Area for             00441000
*                                    communicating with IXLSYNCH     */ 00442000
*       3 NeplOSU,                 /* State and userdata                00443000
*                                     for IXLSYNCH to use for           00444000
*                                     ownership updates. Initialized    00445000
*                                     to NeplHeld.                   */ 00446000
*         4 NeplOState FIXED(8),   /* Requested ownership state         00447000
*                                    Constants in IXLYCON            */ 00448000
*         4 NeplOUdata CHAR(64),   /* Requested userdata         @D1C*/ 00449000
*         4 *          CHAR(3),    /* reserved                   @D1C*/ 00450000
*       3 NeplORtAction Bit(8),    /* Input area to indicate what       00451000
*                     to do with Record data                         */ 00452000
*         4 NeplORtWrite Bit(1),   /* Input area to indicate            00453000
*                     write the Record data in NeplORtData           */ 00454000
*         4 NeplORtDelete Bit(1),  /* Input area to indicate            00455000
*                  delete the currently associated Record data entry */ 00456000
*         4 NeplORtAllowUseRsv Bit(1),  /* Input area to indicate       00457000
*                  whether to allow the creation of a record data       00458000
*                  entry to proceed if the resulting percentage of      00459000
*                  free (unused) entries at the completion of the       00460000
*                  request would be less than the established           00461000
*                  percent entry reserved threshold (if any) for the    00462000
*                  structure.                                           00463000
*                  0 -> Do not allow creation if resulting percent      00464000
*                       free is less than established threshold.        00465000
*                  1 -> Allow creation - ignore threshold. Record       00466000
*                       data entry should be created as long as there   00467000
*                       is a free record table entry to satisfy the     00468000
*                       request.                                        00469000
*                  Valid when NeplORtWrite set ON                @L3A*/ 00470000
*         4 NeplORtActionRsv Bit(5),    /* Reserved, set to 0    @L3C*/ 00471000
*       3 NeplOEntryId Char(12),   /* Output area specifying            00472000
*                              identifier of record data entry which    00473000
*                              may have been created via IXLSYNCH    */ 00474000
*       3 NeplORtData Char(64),     /* Input area to specify            00475000
*                     Record data to be written                      */ 00476000
*       3 NeplORsv66 Char(2),       /* Reserved, set to 0            */ 00477000
*      2 NeplLockVersion Fixed(8),  /* Version number the NEPL Lock     00478000
*                                      Section                   @L2A*/ 00479000
*      2 * Char(8),                 /* Reserved                  @L2A*/ 00480000
*      2 * CHAR(0);                                                     00481000
*                                                                       00482000
* DCL 1 NeplLockSection1 Def(NeplEnd) Char(512), /* Version 1 of the    00483000
*                                      NEPL Lock Section         @L2A*/ 00484000
*       3 * Char(Length(NeplLockSection)), /* Mapped by                 00485000
*                                      NeplLockSection           @L2A*/ 00486000
*       3 Nepl1ADupReqSeqNum Char(16), /* Asynchronous duplexing        00487000
*                                      request sequence number assigned 00488000
*                                      to the request if one was        00489000
*                                      generated. Otherwise this field  00490000
*                                      contains zero. This field is     00491000
*                                      set by the IXLSYNCH service.     00492000
*                                      See the ADupReqSeqNum keyword on 00493000
*                                      the IXLLOCK macro for more       00494000
*                                      information.              @L2A*/ 00495000
*       3 * Char(180),              /* Reserved                  @L2A*/ 00496000
*       3 * CHAR(0);                /* End of NeplLockSection1   @L2A*/ 00497000
*                                                                       00498000
*DCL NeplRname Char(*) Based;       /* Resource name                 */ 00499000
*DCL 1 NeplEnt BASED,               /* Request entry for IXLLOCK        00500000
*                                      related requests              */ 00501000
*     2 NepleNext@ PTR(31),         /* Address of next NeplENT       */ 00502000
*     2 NepleConVersion CHAR(4),    /* Requestor's connector version */ 00503000
*     2 *               CHAR(5),    /* Reserved                      */ 00504000
*     2 NepleConID      Fixed(8),   /* Requestor's connector ID      */ 00505000
*     2 *               CHAR(6),    /* Reserved                      */ 00506000
*     2 NepleConName CHAR(16),      /* Connect name as specified by     00507000
*                                      connector                     */ 00508000
*     2 * CHAR(16),                 /* Reserved                      */ 00509000
*     2 NepleFlags BIT(16),                                             00510000
*     /* Note -- if HSTATE is 0 then the resource is not owned. */      00511000
*     /* If HSTATE not = RSTATE or HUDATA not = RUDATA then             00512000
*        an alter of some sort is pending */                            00513000
*     2 NepleHeldReq,               /* Held/Requested state          */ 00514000
*       3 NepleHeld,                /* Held state                    */ 00515000
*         4 NepleHState FIXED(8),   /* Ownership state                  00516000
*                                        Constants in IXLYCON        */ 00517000
*         4 NepleHUdata CHAR(64),   /* Userdata                  @D1C*/ 00518000
*         4 *           CHAR(3),    /* Reserved                  @D1C*/ 00519000
*       3 NepleReq,                 /* Requested state               */ 00520000
*         4 NepleRState FIXED(8),   /* Requested ownership state,       00521000
*                                        Constants in IXLYCON        */ 00522000
*         4 NepleRUdata CHAR(64),   /* Requested userdata        @D1C*/ 00523000
*         4 *           CHAR(3),    /* Reserved                  @D1C*/ 00524000
*     2 * CHAR(0);                                                      00525000
*                                                                       00526000
*  Dcl NeplListLen Constant(Length(Nepl)+                               00527000
*                           Length(NeplListSection));         /* @P1A*/ 00528000
*  Dcl NeplLockLen Constant(Length(Nepl)+                               00529000
*                           Length(NeplLockSection));         /* @P1A*/ 00530000
*  Dcl NeplLockLen1 Constant(Length(Nepl)+                              00531000
*                            Length(NeplLockSection1));       /* @L2A*/ 00532000
*                                                                       00533000
*  Dcl NeplLockVer0 Constant(0);                              /* @L2A*/ 00534000
*  Dcl NeplLockVer1 Constant(1);                              /* @L2A*/ 00535000
*                                                                       00536000
*/* End of PL/X Source                                               */ 00537000
* %IF IXLYNEPL_LIST = 'NO' !                                            00538000
*    ZCBPRINT = 'NO' %THEN                                              00539000
* %DO;                                                                  00540000
*   @LIST POP NOECHO;                                                   00541000
* %END;                                                                 00542000
* %END;                                                                 00543000
