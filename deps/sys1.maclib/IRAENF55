*                                                                       00001000
* %DCL IRAENF55_INCLUDED CHAR EXT;                                      00002000
* %DEACTIVATE IRAENF55_INCLUDED;                                        00003000
* %IF IRAENF55_INCLUDED = '' %THEN                                      00004000
* %DO;                                                                  00005000
*/* Macro made bi-lingual on 16032. CBGEN compile date 15295         */ 00006000
*% /*                                                                   00007000
         MACRO                                                          00008000
         IRAENF55 &DSECT=YES,&LIST=YES,&TITLE=YES,&ENF55=YES,          *00009000
               &ENF55AsidElement=COND                                   00010000
                      GBLC  &IRAENF55_INCLUDED                          00011000
                      GBLC  &ZCBPRINT                                   00012000
&IRAENF55_INCLUDED    SETC  'YES'                                       00013000
                      AIF   ('&LIST' EQ 'NONE').P0                      00014000
                      AIF   ('&TITLE' EQ 'NO').P5                       00015000
 TITLE                'IRAENF55  - ENF signal 55 parameters            *00016000
                       '                                                00017000
.P5                   ANOP                                              00018000
**/ IRAENF55_1:;                                                        00019000
*/****START OF SPECIFICATIONS*****************************************/ 00020000
*/*                                                                  */ 00021000
*/*01* Proprietary statement:                                        */ 00022000
*/*                                                                  */ 00023000
*/*      LICENSED MATERIALS - PROPERTY OF IBM                        */ 00024000
*/*      5650-ZOS COPYRIGHT IBM CORP. 1997, 2013                     */ 00025000
*/*                                                          @ME10498*/ 00026000
*/*                                                                  */ 00027000
*/*01* External classification: PSPI                                 */ 00028000
*/*01* End of External classification                                */ 00029000
*/*                                                                  */ 00030000
*/*01* Status: HBB77B0                                               */ 00031000
*/*                                                                  */ 00032000
*/*01* Descriptive Name: ENF signal 55 parameters                    */ 00033000
*/*                                                                  */ 00034000
*/*01* Macro Name: IRAENF55                                          */ 00035000
*/*                                                                  */ 00036000
*/*01* DSECT Name: ENF55                                             */ 00037000
*/*                                                                  */ 00038000
*/*01* Component: SRM (SC1CX)                                        */ 00039000
*/*                                                                  */ 00040000
*/*01* Eye-Catcher: 'IRAENF55'                                       */ 00041000
*/*02*  offset: 0                                                    */ 00042000
*/*02*  length: 8                                                    */ 00043000
*/*                                                                  */ 00044000
*/*01* Storage Attributes:                                           */ 00045000
*/*02*  Subpool: 245                                                 */ 00046000
*/*02*  Residency: Above 16M line                                    */ 00047000
*/*                                                                  */ 00048000
*/*01* Size: 200 bytes                                       @LHISTOC*/ 00049000
*/*                                                                  */ 00050000
*/*01* Created by: IRASTFXS                                  @LHISTOC*/ 00051000
*/*                IRASTAUX                                  @LPSMONA*/ 00052000
*/*                IRASTSCM                                  @LPSMONA*/ 00053000
*/*                IRARMRMR                                  @LPSMONA*/ 00054000
*/*                                                                  */ 00055000
*/*01* Serialization: SRM LOCK                                       */ 00056000
*/*                                                                  */ 00057000
*/*01* Function: Contains parameters for ENF signal 55               */ 00058000
*/*    The ENF 55 signal issues events of the following types        */ 00059000
*/*    and orders:                                                   */ 00060000
*/*    - Pageable Storage shortages                                  */ 00061000
*/*      - ENF55QLF_REAL_CRITICAL_SHORTAGE                           */ 00062000
*/*      - ENF55QLF_REAL_SHORTAGE                                    */ 00063000
*/*      - ENF55QLF_REAL_SHORTAGE_RELIEVED                           */ 00064000
*/*      - ENF55QLF_REAL_APPL_WARNING                                */ 00065000
*/*      - ENF55QLF_REAL_APPL_WARNING_RELIEVED                       */ 00066000
*/*      - ENF55QLF_REAL_WARNING                                     */ 00067000
*/*                                                                  */ 00068000
*/*    - Auxiliary Storage shortages                                 */ 00069000
*/*      - ENF55QLF_AUX_CRITICAL_SHORTAGE                            */ 00070000
*/*      - ENF55QLF_AUX_SHORTAGE                                     */ 00071000
*/*      - ENF55QLF_AUX_SHORTAGE_RELIEVED                            */ 00072000
*/*      - ENF55QLF_AUX_APPL_WARNING                                 */ 00073000
*/*      - ENF55QLF_AUX_APPL_WARNING_RELIEVED                        */ 00074000
*/*      - ENF55QLF_AUX_WARNING                                      */ 00075000
*/*      - ENF55QLF_SCM_HIGH_USAGE                           @LFLASHA*/ 00076000
*/*      - ENF55QLF_SCM_HIGH_USAGE_RELIEVED                  @LFLASHA*/ 00077000
*/*                                                                  */ 00078000
*/*    - Available Frame Queue Shortages                             */ 00079000
*/*      - ENF55QLF_AFQ_SHORTAGE                                     */ 00080000
*/*      - ENF55QLF_AFQ_SHORTAGE_RELIEVED                            */ 00081000
*/*                                                          @LLSENHA*/ 00082000
*/*    - Preferred Frame Queue Shortages                             */ 00083000
*/*      - ENF55QLF_PREF_SHORTAGE                                    */ 00084000
*/*      - ENF55QLF_PREF_SHORTAGE_RELIEVED                           */ 00085000
*/*                                                          @LPSMONA*/ 00086000
*/*                                                                  */ 00087000
*/*01* Restrictions: N/A                                             */ 00088000
*/*                                                                  */ 00089000
*/*01* Pointed to by: N/A                                            */ 00090000
*/*                                                                  */ 00091000
*/*01* Method of Access:                                             */ 00092000
*/*                                                                  */ 00093000
*/*02*  ASM:                                                         */ 00094000
*/*          Specify: IRAENF55                                       */ 00095000
*/*                                                                  */ 00096000
*/*02*  PLX:                                                         */ 00097000
*/*                                                                  */ 00098000
*/*          %INCLUDE SYSLIB(IRAENF55)                               */ 00099000
*/*                                                                  */ 00100000
*/*01* Change Activity:                                              */ 00101000
*/*    $WLMPENH  HBB6603 950504 PD88WB: WLMPENH - William Byrne      */ 00102000
*/*                                     Enhancements - ENF 55 signal */ 00103000
*/*                                     for storage shortages        */ 00104000
*/*                                                         @WLMPENH */ 00105000
*/*    $64BITSRM HBB7703 990630 PD88RK: Rich Ko                      */ 00106000
*/*                                     Define a new ENF55TYP value  */ 00107000
*/*                                     (4) for pageable frames in   */ 00108000
*/*                                     between the 16M and 2G lines */ 00109000
*/*                                                                  */ 00110000
*/*    $LHISTO   HBB7750 070125 3241DW: Dieter Wellerdiek            */ 00111000
*/*                                     Enhancements - ENF 55 signal */ 00112000
*/*                                     for storage shortages        */ 00113000
*/*                                     Address space list and       */ 00114000
*/*                                     warning level added          */ 00115000
*/*                                                                  */ 00116000
*/*    $ME10498  HBB7750 070618 3241BH: Bill Heisser                 */ 00117000
*/*                                     remove restricted statement  */ 00118000
*/*                                                                  */ 00119000
*/*    $LHIAUX   HBB7750 071022 3241DW: Dieter Wellerdiek            */ 00120000
*/*                                     Better AUX Storage Management*/ 00121000
*/*                                                                  */ 00122000
*/*    $ME13233  HBB7750 071022 3241DW: Dieter Wellerdiek    @OA24554*/ 00123000
*/*                                     Comment enhanced             */ 00124000
*/*                                                                  */ 00125000
*/*    $LLSENH   HBB7760 080311 3241DW: Dieter Wellerdiek            */ 00126000
*/*                                     Large Storage Enhancement    */ 00127000
*/*                                                                  */ 00128000
*/*    $ME15350  HBB7770 090123 3241DW: Dieter Wellerdiek            */ 00129000
*/*                                     Timestamp added              */ 00130000
*/*                                                                  */ 00131000
*/*    $LPSMON   HBB7790 101027 3241DW: Dieter Wellerdiek            */ 00132000
*/*                                     Preferred Storage Monitoring */ 00133000
*/*                                                                  */ 00134000
*/*    $OA38969  HBB7780 120215 3241IS: Irene Stahl         @LFLASHA */ 00135000
*/*                                     Flash Memory Support         */ 00136000
*/*                                                                  */ 00137000
*/*    $OA38969  HBB7780 120605 3241IS: Irene Stahl         @LFLASHA */ 00138000
*/*                                     Renamed qualifiers to better */ 00139000
*/*                                     match existing naming schema */ 00140000
*/*                                                                  */ 00141000
*/*    $ME26436  HBB77A0 130702 3241IS: Irene Stahl                  */ 00142000
*/*                                     Comment enhanced             */ 00143000
*/*                                                                  */ 00144000
*/*    $LST64I   HBB77B0 160201 3241DW: Dieter Wellerdiek            */ 00145000
*/*                                     ENF55TYP constants added     */ 00146000
*/*                                                                  */ 00147000
*/****END OF SPECIFICATIONS*******************************************/ 00148000
*% /*                                                                   00149000
.P0                   ANOP                                              00150000
                      AIF   ('&ZCBPRINT' EQ 'NO').P1                    00151000
                      AIF   ('&LIST' EQ 'YES').P2                       00152000
.P1                   ANOP                                              00153000
                      PUSH  PRINT                                       00154000
                      PRINT OFF                                         00155000
.P2                   ANOP                                              00156000
                      AIF   ('&ENF55' EQ 'NO').L0002                    00157000
                      AIF   ('&DSECT' EQ 'YES').L0003                   00158000
                      AIF   ('&ENF55' NE 'YES').L0002                   00159000
ENF55                 DS    0F     ENF signal 55 parameters             00160000
                      AGO   .L0004                                      00161000
.L0003                ANOP                                              00162000
ENF55                 DSECT        ENF signal 55 parameters             00163000
.L0004                ANOP                                              00164000
ENF55ID               DS    CL8    Control Block ID - "IRAENF55"        00165000
ENF55LEN              DS    H      Parameter List Length                00166000
ENF55VER              DS    X      Parameter List Version               00167000
ENF55TYP              DS    X      Type of frame / slot needed See     *00168000
                                   possible type constants below       *00169000
                                   Pageable shortage / warning 4 =     *00170000
                                   Pageable frames in between the 16M  *00171000
                                   and 2G lines 3 = Pageable frames    *00172000
                                   below 16M line 2 = Pageable frames  *00173000
                                   in real storage 1 = PTA frames      *00174000
                                   (DREF + Fixed pages) in processor   *00175000
                                   storage 0 = Not in a shortage       *00176000
                                   @64BITSRM Type of slots needed to    00177000
*                                  end Auxiliary shortage / warning 1  *00178000
                                   = AUX slots needed 0 = Not in a     *00179000
                                   shortage Preferred shortage         *00180000
                                   situation 4 = Preferred frames in   *00181000
                                   between the 16M and 2G lines 3 =    *00182000
                                   Preferred frames below 16M line 2 = *00183000
                                   Preferred frames in real storage 0  *00184000
                                   = Not in a shortage                  00185000
ENF55QLF              DS    BL4    Qualifier Code See possible         *00186000
                                   qualifier constants below            00187000
ENF55FRM              DS    H      Obsolete (but still maintained) use *00188000
                                   ENF55FramesNeeded instead            00189000
ENF55Rsv1             DS    H      Reserved                             00190000
ENF55FramesNeeded     DS    F      Number of frames needed to end the  *00191000
                                   shortage situation. (valid for      *00192000
                                   qualifier code x'80000000')          00193000
                      ORG   ENF55FramesNeeded                           00194000
ENF55SlotsNeeded      DS    F      Number of slots needed to end the   *00195000
                                   shortage situation. (valid for      *00196000
                                   qualifier code x'08000000' and      *00197000
                                   qualifier code x'04000000')          00198000
ENF55Timestamp        DS    CL8    Time when the ENF signal got issued *00199000
                                   (STCK format)                        00200000
ENF55Rsv4             DS    H      Reserved                             00201000
*                                                                       00202000
*      ***************************************************************  00203000
*      *                                                             *  00204000
*      * When the system is in a pageable storage shortage, the      *  00205000
*      * address space elements get filled with the top causer of the*  00206000
*      * current shortage. The field ENF55NoOfAsidElements contains  *  00207000
*      * the number of valid address space elements, mapped via      *  00208000
*      * ENF55AsidElement.                                              00209000
*      *                                                             *  00210000
*      ***************************************************************  00211000
*                                                                       00212000
*                                                                       00213000
ENF55AsidElementOffset DS   H      Offset to the Asid element section   00214000
ENF55AsidElementLength DS   H      Length of a single Asid element      00215000
ENF55NoOfAsidElements DS    H      Number of elements elements in the  *00216000
                                   Asid section                         00217000
ENF55FixedEnd         DS    0C     Begin of dynamic sections            00218000
ENF55_Len             EQU   *-ENF55                                     00219000
.L0002                ANOP                                              00220000
                      AIF   ('&ENF55AsidElement' EQ 'NO').L0005         00221000
                      AIF   ('&DSECT' EQ 'YES').L0006                   00222000
                      AIF   ('&ENF55AsidElement' NE 'YES').L0005        00223000
.L0006                ANOP                                              00224000
*                                                                       00225000
*   Address space element                                               00226000
*                                                                       00227000
*                                                                       00228000
*                                                                       00229000
                      AIF   ('&DSECT' EQ 'YES').L0007                   00230000
ENF55AsidElement      DS    0F     Address space element                00231000
                      AGO   .L0008                                      00232000
.L0007                ANOP                                              00233000
ENF55AsidElement      DSECT        Address space element                00234000
.L0008                ANOP                                              00235000
ENF55Asid             DS    H      Address space ID of the address     *00236000
                                   space which is a preferred          *00237000
                                   candidate                            00238000
ENF55Rsv10            DS    H      reserved                             00239000
ENF55Frames           DS    F      Number of frames the address space  *00240000
                                   has fixed in the shortage area       00241000
                      ORG   ENF55Frames                                 00242000
ENF55Slots            DS    F      Number of slots the address space   *00243000
                                   has allocated on AUX                 00244000
*                                                                       00245000
*   Constants                                                           00246000
*                                                                       00247000
*                                                                       00248000
*                                                                       00249000
ENF55TYP_REAL_BELOW_16M EQU 3      Pageable Storage Warning / Shortage *00250000
                                   in below 16M                         00251000
ENF55TYP_REAL_BETWEEN_16M_AND_2G EQU 4 Pageable Storage Warning /      *00252000
                                   Shortage in between 16M and 2G       00253000
ENF55TYP_REAL_ALL_REAL EQU  2      Pageable Storage Warning / Shortage *00254000
                                   in all real                          00255000
ENF55TYP_REAL_FIXED_PLUS_DREF EQU 1 Pageable Storage Warning /         *00256000
                                   Shortage in fixed pages plus DREF    00257000
ENF55TYP_REAL_NO_SHORTAGE EQU 0    No Shortage exists                   00258000
ENF55TYP_AUX_SLOTS_NEEDED EQU 1    Auxiliary Storage Shortage /        *00259000
                                   Warning. Slots are needed            00260000
ENF55TYP_AUX_NO_SLOTS_NEEDED EQU 0 No slots needed                      00261000
ENF55TYP_PREF_BELOW_16M EQU 3      Preferred Frame Queue Shortage in   *00262000
                                   below 16M                            00263000
ENF55TYP_PREF_BETWEEN_16M_AND_2G EQU 4 Preferred Frame Queue Shortage  *00264000
                                   in between 16M and 2G                00265000
ENF55TYP_PREF_ALL_REAL EQU  2      Preferred Frame Queue Shortage in   *00266000
                                   all real                             00267000
ENF55TYP_PREF_NO_SHORTAGE EQU 0    No Shortage exists                   00268000
*                                                                       00269000
*   ENF 55 Qualifier Constants (ENF55QLF)                               00270000
*                                                                       00271000
*                                                                       00272000
ENF55QLF_REAL_SHORTAGE EQU  X'80000000' Pageable Storage Shortage Too  *00273000
                                   many fixed frames in the storage.   *00274000
                                   See ENF55TYP for the storage area.  *00275000
                                   Issued when IRA400E occurs           00276000
ENF55QLF_REAL_SHORTAGE_RELIEVED EQU X'40000000'                         00277000
*                                                                       00278000
*                                      Pageable Storage Shortage        00279000
*                                      relieved Issued when IRA402I     00280000
*                                      occurs                           00281000
*                                                                       00282000
ENF55QLF_REAL_WARNING EQU   X'20000000' Pageable Storage Warning There *00283000
                                   are many fixed frames in the        *00284000
                                   storage. See ENF55TYP for the       *00285000
                                   storage area Issued when IRA405I    *00286000
                                   occurs                               00287000
ENF55QLF_REAL_CRITICAL_SHORTAGE EQU X'10000000'                         00288000
*                                                                       00289000
*                                      Critical Pageable Storage        00290000
*                                      Shortage Too many fixed frames   00291000
*                                      in the storage. See ENF55TYP     00292000
*                                      for the storage area. Issued     00293000
*                                      when IRA401E occurs              00294000
*                                                                       00295000
ENF55QLF_AUX_CRITICAL_SHORTAGE EQU X'08000000' Critical Auxiliary      *00296000
                                   Storage Shortage Too many slots     *00297000
                                   allocated on the AUX subsystem.     *00298000
                                   Issued when IRA201E occurs           00299000
ENF55QLF_AUX_SHORTAGE EQU   X'04000000' Auxiliary Storage Shortage Too *00300000
                                   many slots allocated on the AUX     *00301000
                                   subsystem. Issued when IRA200E      *00302000
                                   occurs                               00303000
ENF55QLF_AUX_SHORTAGE_RELIEVED EQU X'02000000' Auxiliary Storage       *00304000
                                   Shortage relieved Issued when       *00305000
                                   IRA202I occurs                       00306000
ENF55QLF_AUX_WARNING  EQU   X'01000000' Auxiliary Storage Warning      *00307000
                                   There are many slots allocated on   *00308000
                                   the AUX subsystem Issued when       *00309000
                                   IRA205I occurs                       00310000
ENF55QLF_REAL_APPL_WARNING EQU X'00800000' Pageable Storage            *00311000
                                   Application Warning 5% below a      *00312000
                                   pageable storage shortage level.    *00313000
                                   See ENF55TYP for the storage area.   00314000
ENF55QLF_REAL_APPL_WARNING_RELIEVED EQU X'00400000' Pageable Storage   *00315000
                                   Application Warning relieved         00316000
ENF55QLF_AUX_APPL_WARNING EQU X'00200000' Auxiliary Storage            *00317000
                                   Application Warning 5% below a      *00318000
                                   auxiliary storage shortage level.    00319000
ENF55QLF_AUX_APPL_WARNING_RELIEVED EQU X'00100000'                      00320000
*                                                                       00321000
*                                      Auxiliary Storage Application    00322000
*                                      Warning relieved                 00323000
*                                                                       00324000
ENF55QLF_SCM_HIGH_USAGE EQU X'00040000' High usage of Flash Storage.   *00325000
                                   Issued when IRA250I occurs           00326000
ENF55QLF_SCM_HIGH_USAGE_RELIEVED EQU X'00020000'                        00327000
*                                                                       00328000
*                                      High usage of Flash Storage      00329000
*                                      relieved. Issued when IRA252I    00330000
*                                      occurs                           00331000
*                                                                       00332000
ENF55QLF_AFQ_SHORTAGE EQU   X'00008000' Available Frame Queue Shortage *00333000
                                   Not enough frames on the available  *00334000
                                   frame queue                          00335000
ENF55QLF_AFQ_SHORTAGE_RELIEVED EQU X'00004000' Available Frame Queue   *00336000
                                   Shortage relieved                    00337000
ENF55QLF_PREF_SHORTAGE EQU  X'00002000' Preferred Frame Queue Shortage *00338000
                                   Not enough frames on the preferred  *00339000
                                   frame queue. See ENF55TYP for the   *00340000
                                   storage area.                        00341000
ENF55QLF_PREF_SHORTAGE_RELIEVED EQU X'00001000'                         00342000
*                                                                       00343000
*                                      Preferred Frame Queue Shortage   00344000
*                                      relieved                         00345000
*                                                                       00346000
ENF55QLF_SHORTAGE_RECOGNIZED EQU X'80000000' Obsolete, use new         *00347000
                                   constant above                       00348000
ENF55QLF_SHORTAGE_RELIEVED EQU X'40000000' Obsolete, use new constant  *00349000
                                   above                                00350000
ENF55QLF_HIGH_SCM_USAGE EQU X'00040000' Obsolete, use new equate above  00351000
ENF55QLF_HIGH_SCM_USAGE_RELIEVED EQU X'00020000'                        00352000
*                                                                       00353000
*                                      Obsolete, use new equate above   00354000
*                                                                       00355000
*                                                                       00356000
ENF55_VERSION1        EQU   1      Version 1 constant                   00357000
ENF55_VERSION2        EQU   2      Version 2 constant                   00358000
ENF55_LATEST_VERSION  EQU   2      Latest version constant              00359000
ENF55_EYECATCHER_0TO3 EQU   C'IRAE' This is the first 4-byte segment   *00360000
                                   of an 8-byte constant. Storage due  *00361000
                                   to fixed storage - relieved          00362000
ENF55_EYECATCHER_4TO7 EQU   C'NF55' This is the second 4-byte segment  *00363000
                                   of an 8-byte constant. Storage due  *00364000
                                   to fixed storage - relieved          00365000
ENF55_MaxNoOfAsidElements EQU 20   Maximal number of elements in the   *00366000
                                   address space list LHISTOA           00367000
ENF55_Length          EQU   200    Length of IRAENF55                   00368000
ENF55_AsidElementLength EQU 8      Length of a AsidList entry           00369000
ENF55AsidElement_Len  EQU   *-ENF55AsidElement                          00370000
.L0005                ANOP                                              00371000
                      AIF   ('&ZCBPRINT' EQ 'NO').P3                    00372000
                      AIF   ('&LIST' EQ 'YES').P4                       00373000
.P3                   ANOP                                              00374000
                      POP   PRINT                                       00375000
.P4                   ANOP                                              00376000
.P_EXIT               ANOP                                              00377000
                      MEND                                              00378000
**/ IRAENF55_2:;                                                        00379000
* %IRAENF55_INCLUDED = 'YES';                                           00380000
* %DCL ZCBPRINT CHAR EXT;                                               00381000
* %DEACTIVATE ZCBPRINT;                                                 00382000
* %DCL IRAENF55_LIST CHAR EXT;                                          00383000
* %DEACTIVATE IRAENF55_LIST;                                            00384000
* %IF IRAENF55_LIST ^= 'NO' &                                           00385000
*    ZCBPRINT ^= 'NO' %THEN                                             00386000
*   %GOTO IRAENF55_3;                                                   00387000
*   @LIST PUSH NOECHO;                                                  00388000
*   @LIST NOASSEMBLE NOECHO;                                            00389000
*   @LIST OFF C NOECHO;                                                 00390000
* %IRAENF55_3:;                                                         00391000
*/* Start of PL/X Source                                             */ 00392000
*                                                                       00393000
*DECLARE                                                                00394000
*  1 ENF55 BASED BDY(WORD),         /* ENF signal 55 parameters      */ 00395000
*    3 ENF55ID  Char(8),            /* Control Block ID - "IRAENF55" */ 00396000
*    3 ENF55LEN Fixed(16),          /* Parameter List Length         */ 00397000
*    3 ENF55VER Fixed(8),           /* Parameter List Version        */ 00398000
*    3 ENF55TYP Fixed(8),           /* Type of frame / slot needed      00399000
*                                      See possible type constants      00400000
*                                      below                 @LST64IC   00401000
*                                                                       00402000
*                                      Pageable shortage / warning      00403000
*                                      4 = Pageable frames in between   00404000
*                                          the 16M and 2G lines         00405000
*                                      3 = Pageable frames below 16M    00406000
*                                          line                         00407000
*                                      2 = Pageable frames in           00408000
*                                          real storage                 00409000
*                                      1 = PTA frames (DREF + Fixed     00410000
*                                          pages) in processor          00411000
*                                          storage                      00412000
*                                      0 = Not in a shortage            00413000
*                                                           @64BITSRM   00414000
*                                                                       00415000
*                                      Type of slots needed to end      00416000
*                                      Auxiliary shortage / warning     00417000
*                                      1 = AUX slots needed             00418000
*                                      0 = Not in a shortage            00419000
*                                                            @LHIAUXA   00420000
*                                                                       00421000
*                                      Preferred shortage situation     00422000
*                                      4 = Preferred frames in between  00423000
*                                          the 16M and 2G lines         00424000
*                                      3 = Preferred frames below 16M   00425000
*                                          line                         00426000
*                                      2 = Preferred frames in          00427000
*                                          real storage                 00428000
*                                      0 = Not in a shortage            00429000
*                                                            @LPSMONA*/ 00430000
*    3 ENF55QLF Bit(32),            /* Qualifier Code                   00431000
*                                      See possible qualifier constants 00432000
*                                      below                 @LST64IC*/ 00433000
*    3 ENF55FRM Fixed(16),          /* Obsolete (but still maintained)  00434000
*                                      use ENF55FramesNeeded instead    00435000
*                                                            @LHISTOC*/ 00436000
*    3 ENF55Rsv1 Fixed(16),         /* Reserved              @LHISTOC*/ 00437000
*    3 ENF55FramesNeeded Fixed(32), /* Number of frames needed to end   00438000
*                                      the shortage situation. (valid   00439000
*                                      for qualifier code x'80000000')  00440000
*                                                            @LHISTOA*/ 00441000
*      5 ENF55SlotsNeeded Fixed(32), /* Number of slots needed to end   00442000
*                                      the shortage situation. (valid   00443000
*                                      for qualifier code x'08000000'   00444000
*                                      and qualifier code x'04000000')  00445000
*                                                            @LHIAUXA*/ 00446000
*    3 ENF55Timestamp     Char(8),  /* Time when the ENF signal got     00447000
*                                      issued (STCK format)  @ME15350*/ 00448000
*    3 ENF55Rsv4 Fixed(16),         /* Reserved              @LHISTOA*/ 00449000
*                                                                       00450000
*                                                                       00451000
*    /* When the system is in a pageable storage shortage, the          00452000
*       address space elements get filled with the top causer of        00453000
*       the current shortage.  The field ENF55NoOfAsidElements          00454000
*       contains the number of valid address space elements,            00455000
*       mapped via ENF55AsidElement.                                    00456000
*                                                            @LHISTOA*/ 00457000
*    3 ENF55AsidElementOffset Fixed(16), /* Offset to the Asid element  00458000
*                                      section                          00459000
*                                                            @LHISTOA*/ 00460000
*    3 ENF55AsidElementLength Fixed(16), /* Length of a single Asid     00461000
*                                      element                          00462000
*                                                            @LHISTOA*/ 00463000
*    3 ENF55NoOfAsidElements Fixed(16), /* Number of elements           00464000
*                                      elements in the Asid section     00465000
*                                                            @LHISTOA*/ 00466000
*    3 ENF55FixedEnd Char(0);       /* Begin of dynamic sections        00467000
*                                                            @LHISTOA*/ 00468000
*                                                                       00469000
*/* Address space element                                               00470000
*                                                            @LHISTOA*/ 00471000
*Declare                                                                00472000
*  1 ENF55AsidElement  Based Bdy(Word), /* Address space element        00473000
*                                                            @LHISTOA*/ 00474000
*    3 ENF55Asid   Fixed(16),       /* Address space ID of the address  00475000
*                                      space which is a preferred       00476000
*                                      candidate             @LHISTOA*/ 00477000
*    3 ENF55Rsv10  Fixed(16),       /* reserved              @LHISTOA*/ 00478000
*    3 ENF55Frames Fixed(32),       /* Number of frames the address     00479000
*                                      space has fixed in the shortage  00480000
*                                      area                  @LHISTOA*/ 00481000
*      5 ENF55Slots  Fixed(32);     /* Number of slots the address      00482000
*                                      space has allocated on AUX       00483000
*                                                            @LHIAUXA*/ 00484000
*                                                                       00485000
*/* Constants                                                           00486000
*                                                            @LHISTOA*/ 00487000
*DECLARE                                                                00488000
*                                                                       00489000
*/* ENF 55 Type Constants (ENF55TYP)                         @LST64IA*/ 00490000
*   ENF55TYP_REAL_BELOW_16M           Fixed(8) Constant(3),             00491000
*                                   /* Pageable Storage Warning /       00492000
*                                      Shortage in below 16M @LST64IA*/ 00493000
*   ENF55TYP_REAL_BETWEEN_16M_AND_2G  Fixed(8) Constant(4),             00494000
*                                   /* Pageable Storage Warning /       00495000
*                                      Shortage in between 16M and 2G   00496000
*                                                            @LST64IA*/ 00497000
*   ENF55TYP_REAL_ALL_REAL            Fixed(8) Constant(2),             00498000
*                                   /* Pageable Storage Warning /       00499000
*                                      Shortage in all real  @LST64IA*/ 00500000
*   ENF55TYP_REAL_FIXED_PLUS_DREF     Fixed(8) Constant(1),             00501000
*                                   /* Pageable Storage Warning /       00502000
*                                      Shortage in fixed pages plus     00503000
*                                      DREF                  @LST64IA*/ 00504000
*   ENF55TYP_REAL_NO_SHORTAGE         Fixed(8) Constant(0),             00505000
*                                   /* No Shortage exists    @LST64IA*/ 00506000
*                                                                       00507000
*   ENF55TYP_AUX_SLOTS_NEEDED         Fixed(8) Constant(1),             00508000
*                                   /* Auxiliary Storage Shortage /     00509000
*                                      Warning.  Slots are needed       00510000
*                                                            @LST64IA*/ 00511000
*   ENF55TYP_AUX_NO_SLOTS_NEEDED      Fixed(8) Constant(0),             00512000
*                                   /* No slots needed       @LST64IA*/ 00513000
*                                                                       00514000
*   ENF55TYP_PREF_BELOW_16M           Fixed(8) Constant(3),             00515000
*                                   /* Preferred Frame Queue Shortage   00516000
*                                      in below 16M          @LST64IA*/ 00517000
*   ENF55TYP_PREF_BETWEEN_16M_AND_2G  Fixed(8) Constant(4),             00518000
*                                   /* Preferred Frame Queue Shortage   00519000
*                                      in between 16M and 2G @LST64IA*/ 00520000
*   ENF55TYP_PREF_ALL_REAL            Fixed(8) Constant(2),             00521000
*                                   /* Preferred Frame Queue Shortage   00522000
*                                      in all real           @LST64IA*/ 00523000
*   ENF55TYP_PREF_NO_SHORTAGE         Fixed(8) Constant(0),             00524000
*                                   /* No Shortage exists    @LST64IA*/ 00525000
*                                                                       00526000
*/* ENF 55 Qualifier Constants (ENF55QLF)                    @LST64IA*/ 00527000
*   ENF55QLF_REAL_SHORTAGE            Bit(32) Constant('80000000'X),    00528000
*                                   /* Pageable Storage Shortage        00529000
*                                      Too many fixed frames in the     00530000
*                                      storage.  See ENF55TYP for the   00531000
*                                      storage area.                    00532000
*                                      Issued when IRA400E occurs       00533000
*                                                            @LST64IC*/ 00534000
*   ENF55QLF_REAL_SHORTAGE_RELIEVED   Bit(32) Constant('40000000'X),    00535000
*                                   /* Pageable Storage Shortage        00536000
*                                      relieved                         00537000
*                                      Issued when IRA402I occurs       00538000
*                                                            @LHISTOA*/ 00539000
*   ENF55QLF_REAL_WARNING             Bit(32) Constant('20000000'X),    00540000
*                                   /* Pageable Storage Warning         00541000
*                                      There are many fixed frames in   00542000
*                                      the storage.  See ENF55TYP for   00543000
*                                      the storage area                 00544000
*                                      Issued when IRA405I occurs       00545000
*                                                            @LHISTOA*/ 00546000
*   ENF55QLF_REAL_CRITICAL_SHORTAGE   Bit(32) Constant('10000000'X),    00547000
*                                   /* Critical Pageable Storage        00548000
*                                      Shortage                         00549000
*                                      Too many fixed frames in the     00550000
*                                      storage.  See ENF55TYP for the   00551000
*                                      storage area.                    00552000
*                                      Issued when IRA401E occurs       00553000
*                                                            @LST64IC*/ 00554000
*                                                                       00555000
*   ENF55QLF_AUX_CRITICAL_SHORTAGE   Bit(32) Constant('08000000'X),     00556000
*                                   /* Critical Auxiliary Storage       00557000
*                                      Shortage                         00558000
*                                      Too many slots allocated on the  00559000
*                                      AUX subsystem.                   00560000
*                                      Issued when IRA201E occurs       00561000
*                                                            @LST64IC*/ 00562000
*   ENF55QLF_AUX_SHORTAGE            Bit(32) Constant('04000000'X),     00563000
*                                   /* Auxiliary Storage Shortage       00564000
*                                      Too many slots allocated on the  00565000
*                                      AUX subsystem.                   00566000
*                                      Issued when IRA200E occurs       00567000
*                                                            @LST64IC*/ 00568000
*   ENF55QLF_AUX_SHORTAGE_RELIEVED   Bit(32) Constant('02000000'X),     00569000
*                                   /* Auxiliary Storage Shortage       00570000
*                                      relieved                         00571000
*                                      Issued when IRA202I occurs       00572000
*                                                            @LHIAUXA*/ 00573000
*   ENF55QLF_AUX_WARNING             Bit(32) Constant('01000000'X),     00574000
*                                   /* Auxiliary Storage Warning        00575000
*                                      There are many slots allocated   00576000
*                                      on the AUX subsystem             00577000
*                                      Issued when IRA205I occurs       00578000
*                                                            @ME13233*/ 00579000
*                                                                       00580000
*   ENF55QLF_REAL_APPL_WARNING        Bit(32) Constant('00800000'X),    00581000
*                                   /* Pageable Storage Application     00582000
*                                      Warning                          00583000
*                                      5% below a pageable storage      00584000
*                                      shortage level.  See ENF55TYP    00585000
*                                      for the storage area.            00586000
*                                                            @LLSENHA*/ 00587000
*   ENF55QLF_REAL_APPL_WARNING_RELIEVED  Bit(32) Constant('00400000'X), 00588000
*                                   /* Pageable Storage Application     00589000
*                                      Warning relieved                 00590000
*                                                            @LLSENHA*/ 00591000
*   ENF55QLF_AUX_APPL_WARNING         Bit(32) Constant('00200000'X),    00592000
*                                   /* Auxiliary Storage Application    00593000
*                                      Warning                          00594000
*                                      5% below a auxiliary storage     00595000
*                                      shortage level.                  00596000
*                                                            @LLSENHA*/ 00597000
*   ENF55QLF_AUX_APPL_WARNING_RELIEVED  Bit(32) Constant('00100000'X),  00598000
*                                   /* Auxiliary Storage Application    00599000
*                                      Warning relieved                 00600000
*                                                            @LLSENHA*/ 00601000
*                                                                       00602000
*   ENF55QLF_SCM_HIGH_USAGE          Bit(32) Constant('00040000'X),     00603000
*                                   /* High usage of Flash Storage.     00604000
*                                      Issued when IRA250I occurs       00605000
*                                                            @LFLASHA*/ 00606000
*   ENF55QLF_SCM_HIGH_USAGE_RELIEVED Bit(32) Constant('00020000'X),     00607000
*                                   /* High usage of Flash Storage      00608000
*                                      relieved.                        00609000
*                                      Issued when IRA252I occurs       00610000
*                                                            @LFLASHA*/ 00611000
*                                                                       00612000
*   ENF55QLF_AFQ_SHORTAGE            Bit(32) Constant('00008000'X),     00613000
*                                   /* Available Frame Queue Shortage   00614000
*                                      Not enough frames on the         00615000
*                                      available frame queue            00616000
*                                                            @LLSENHA*/ 00617000
*   ENF55QLF_AFQ_SHORTAGE_RELIEVED   Bit(32) Constant('00004000'X),     00618000
*                                   /* Available Frame Queue Shortage   00619000
*                                      relieved                         00620000
*                                                            @LLSENHA*/ 00621000
*                                                                       00622000
*   ENF55QLF_PREF_SHORTAGE           Bit(32) Constant('00002000'X),     00623000
*                                   /* Preferred Frame Queue Shortage   00624000
*                                      Not enough frames on the         00625000
*                                      preferred frame queue. See       00626000
*                                      ENF55TYP for the storage area.   00627000
*                                                            @LPSMONA*/ 00628000
*   ENF55QLF_PREF_SHORTAGE_RELIEVED  Bit(32) Constant('00001000'X),     00629000
*                                   /* Preferred Frame Queue Shortage   00630000
*                                      relieved                         00631000
*                                                            @LPSMONA*/ 00632000
*                                                                       00633000
*   ENF55QLF_SHORTAGE_RECOGNIZED  Bit(32) Constant('80000000'X),        00634000
*                                   /* Obsolete, use new constant       00635000
*                                      above                 @LHISTOC*/ 00636000
*   ENF55QLF_SHORTAGE_RELIEVED    Bit(32) Constant('40000000'X),        00637000
*                                   /* Obsolete, use new constant       00638000
*                                      above                 @LHISTOC*/ 00639000
*                                                                       00640000
*   ENF55QLF_HIGH_SCM_USAGE          Bit(32) Constant('00040000'X),     00641000
*                                   /* Obsolete, use new equate         00642000
*                                      above                 @LFLASHA*/ 00643000
*   ENF55QLF_HIGH_SCM_USAGE_RELIEVED Bit(32) Constant('00020000'X),     00644000
*                                   /* Obsolete, use new equate         00645000
*                                      above                 @LFLASHA*/ 00646000
*                                                                       00647000
*   ENF55_VERSION1                Fixed(32) Constant(1),                00648000
*                                   /* Version 1 constant            */ 00649000
*   ENF55_VERSION2                Fixed(32) Constant(2),                00650000
*                                   /* Version 2 constant    @LHISTOA*/ 00651000
*   ENF55_LATEST_VERSION          Fixed(32) Constant(ENF55_VERSION2),   00652000
*                                   /* Latest version constant          00653000
*                                                            @LHISTOC*/ 00654000
*   ENF55_EYECATCHER              Char(8) Constant('IRAENF55'),         00655000
*                                   /* Storage due to fixed storage -   00656000
*                                      relieved                      */ 00657000
*   ENF55_MaxNoOfAsidElements        Fixed(32) Constant(20),            00658000
*                                   /* Maximal number of elements in    00659000
*                                      the address space list           00660000
*                                                            LHISTOA*/  00661000
*   ENF55_Length                  Fixed(16) Constant(Length(ENF55) +    00662000
*                                        ENF55_MaxNoOfAsidElements *    00663000
*                                             ENF55_AsidElementLength), 00664000
*                                   /* Length of IRAENF55               00665000
*                                                            @LHISTOA*/ 00666000
*   ENF55_AsidElementLength       Fixed(16)                             00667000
*                                   Constant(Length(ENF55AsidElement)); 00668000
*                                   /* Length of a AsidList entry       00669000
*                                                            @LHISTOA*/ 00670000
*@LOGIC;                                                  /* @LHIAUXA*/ 00671000
*#PRAGMA TOOL=CBGEN.                                      /* @LHIAUXA*/ 00672000
*#USEORG.                                                 /* @LHIAUXA*/ 00673000
*#ALIGNOP.                                                /* @LHIAUXA*/ 00674000
*#NOTUPPER.                                               /* @LHIAUXA*/ 00675000
*#EPRAGMA.                                                /* @LHIAUXA*/ 00676000
*@ENDLOGIC;                                               /* @LHIAUXA*/ 00677000
*/* End of PL/X Source                                               */ 00678000
* %IF IRAENF55_LIST ^= 'NO' &                                           00679000
*    ZCBPRINT ^= 'NO' %THEN                                             00680000
*   %GOTO IRAENF55_4;                                                   00681000
*   @LIST POP NOECHO;                                                   00682000
* %IRAENF55_4:;                                                         00683000
* %END;                                                                 00684000
