*                                                                       00001000
* %DCL IXCYMNPL_INCLUDED CHAR EXT;                                      00002000
* %DEACTIVATE IXCYMNPL_INCLUDED;                                        00003000
* %IF IXCYMNPL_INCLUDED = '' %THEN                                      00004000
* %DO;                                                                  00005000
*/* Macro made bi-lingual on 18014. CBGEN compile date 15295         */ 00006000
*% /*                                                                   00007000
         MACRO                                                          00008000
         IXCYMNPL &DSECT=YES,&LIST=YES,&TITLE=YES,&MNPL=YES,           *00009000
               &MNPLDATARECORD=COND,&MNPLTARGONLYENTRY=COND,           *00010000
               &MNPLTARGRESPENTRY=COND                                  00011000
         GBLC  &IXCYMNPL_INCLUDED                                       00012000
         GBLC  &ZCBPRINT                                                00013000
&IXCYMNPL_INCLUDED SETC 'YES'                                           00014000
         AIF   ('&LIST' EQ 'NONE').P0                                   00015000
         AIF   ('&TITLE' EQ 'NO').P5                                    00016000
 TITLE   'IXCYMNPL  - Message Notification Exit Parameter List       '  00017000
.P5      ANOP                                                           00018000
**/ IXCYMNPL_1:;                                                        00019000
*/* START OF SPECIFICATIONS ******************************************* 00020000
*                                                                       00021000
*01* PROPRIETARY STATEMENT =                                            00022000
*                                                                       00023000
*    LICENSED MATERIALS - PROPERTY OF IBM                               00024000
*    5650-ZOS COPYRIGHT IBM CORP. 1990, 2015                            00025000
*                                                                       00026000
*01* STATUS = HBB77A0                                                   00027000
*                                                                       00028000
*01* END OF PROPRIETARY STATEMENT                                       00029000
*                                                                       00030000
*01* EXTERNAL CLASSIFICATION: GUPI                                      00031000
*01* END OF EXTERNAL CLASSIFICATION:                                    00032000
*                                                                       00033000
*01* DESCRIPTIVE NAME:  Message Notification Exit Parameter List        00034000
*02*  ACRONYM:  MNPL                                                    00035000
*                                                                       00036000
*01* MACRO NAME:  IXCYMNPL                                              00037000
*                                                                       00038000
*01* DSECT NAME:                                                        00039000
*     Mnpl                                                              00040000
*     MnplDataRecord                                                    00041000
*     MnplTargOnlyEntry                                                 00042000
*     MnplTargRespEntry                                                 00043000
*     MnplMemberRecord                                                  00044000
*                                                                       00045000
*01* COMPONENT:  Cross System Coupling Facility (SCXCF)                 00046000
*                                                                       00047000
*01* EYE-CATCHER:  NONE                                                 00048000
*02*  OFFSET:                                                           00049000
*02*  LENGTH:                                                           00050000
*                                                                       00051000
*01* STORAGE ATTRIBUTES:                                                00052000
*02*  SUBPOOL:  245, 248                                                00053000
*02*  KEY:  0                                                           00054000
*02*  RESIDENCY:  Any                                                   00055000
*02* ALLOCATION-METHOD: Getmain                                         00056000
*                                                                       00057000
*01* SIZE:                                                              00058000
*            MNPLMEMBERRECORD  -- X'0024' bytes                         00059000
*            MNPL              -- X'0028' bytes                         00060000
*            MNPLDATARECORD    -- X'0010' bytes                         00061000
*            MNPLTARGONLYENTRY -- X'0010' bytes                         00062000
*            MNPLTARGRESPENTRY -- X'0068' bytes                         00063000
*                                                                       00064000
*01* CREATED BY:                                                        00065000
*       IXCS1COM                                                        00066000
*       IXCS1MSC                                                        00067000
*                                                                       00068000
*01* POINTED TO BY:                                                     00069000
*     R1 on entry to the message notification exit                      00070000
*                                                                       00071000
*01* SERIALIZATION:                                                     00072000
*      Serialized by virtue of the fact that there is but one message   00073000
*      notification exit routine presented with a particular MNPL       00074000
*      at any one time.                                                 00075000
*                                                                       00076000
*01* FUNCTION:                                                          00077000
*02* Maps the parameters passed to the message notification exit        00078000
*                                                                       00079000
*01* METHOD OF ACCESS:                                                  00080000
*02*  ASM:        IXCYMNPL                                              00081000
*         DSECT=YES!NO  -- Request DSECT definition                     00082000
*         MnplDataRecord=YES!NO!COND -- Request record mapping          00083000
*                                    USING on MnplDataRecord            00084000
*         MnplTargOnlyEntry=YES!NO!COND -- Request record mapping       00085000
*                                    USING on MnplTargOnlyEntry         00086000
*         MnplTargRespEntry=YES!NO!COND -- Request record mapping       00087000
*                                    USING on MnplTargRespEntry         00088000
*         MnplMemberRecord=YES!NO!COND -- Request record mapping        00089000
*                                    USING on MnplMemberRecord          00090000
*                                                                       00091000
*     Default:                                                          00092000
*          DSECT=YES,MNPL=YES,MNPLDATARECORD=COND,                      00093000
*                MNPLTARGONLYENTRY=COND,MNPLTARGRESPENTRY=COND,         00094000
*                MNPLMEMBERRECORD= COND                                 00095000
*                                                                       00096000
*02*  PL/AS:                                                            00097000
*      %INCLUDE SYSLIB(IXCYMNPL)                                        00098000
*                                                                       00099000
*01* DELETED BY:  IXCS1COM                                              00100000
*                 IXCS1MSC                                              00101000
*                                                                       00102000
*01* FREQUENCY:  One is created each time the message notification      00103000
*                exit is called.                                        00104000
*                                                                       00105000
*01* DEPENDENCIES:  None.                                               00106000
*                                                                       00107000
*01* DISTRIBUTION LIBRARY:  AMACLIB                                     00108000
*                                                                       00109000
*01* NOTES:                                                             00110000
*                                                                       00111000
*      - To ensure compatibility with additional data provided in the   00112000
*        future, never hardcode the length of any of the records        00113000
*        defined by this mapping when iterating through the tables      00114000
*        and arrays that are presented to the notify exit routine.      00115000
*        All such offsets and lengths are subject to change in the      00116000
*        future, and will be reflected in the data that is returned.    00117000
*        Always use the lengths and offsets that are returned in        00118000
*        records.                                                       00119000
*                                                                       00120000
*                                                                       00121000
*01* CHANGE ACTIVITY:                                                   00122000
*   $L0=XCFBC    JBB6602 950417 PD00DT: XCF Broadcast Initial Release   00123000
*   $P2=XCFBC    JBB6602 960111 PD00DT: MnplMsgoSuccessful indicator    00124000
*   $P3=XCFBC    HBB6603 960516 PD002T: Add dsect name for showhdr      00125000
*   $01=OW16903  HBB5510 970314 PD00BJ: Add diag109 to send status      00126000
*   $D1=DQC0028  HBB6603 960815 PD00EA: Remove unsupported externals    00127000
*   $P4=PQC2136  HBB6603 950906 PD00CJ: Added DiscardPending flags      00128000
*   $L1=LSD      HBB6608 980901 PD00BJ: Added AsyncMsgAccess            00129000
*   $L2=XCFFDI   HBB7760 080721 PD00BJ: Fix ASM for these fields (wrong 00130000
*                                       offset):                        00131000
*                                           MnplToSendDiag109           00132000
*                                           MnplTrSendDiag109           00133000
*   $P5=ME14069  HBB7760 080722 PD0CLC: Copyright                       00134000
*   $L3=XCFSRVR  HBB7780 100604 PD00C9: Update AsyncMsgAccess comment   00135000
*                                       Add new response code           00136000
*   $02=ME26552  HBB7780 130525 PD00C9: FilterGroup on IXCMSGOX         00137000
*      =OA43445  HBB7780 130525 PD00C9: Update comments for skip        00138000
*                                       indicators                      00139000
*                                                                       00140000
* END OF SPECIFICATIONS *********************************************/  00141000
*% /*                                                                   00142000
.P0      ANOP                                                           00143000
         AIF   ('&ZCBPRINT' EQ 'NO').P1                                 00144000
         AIF   ('&LIST' EQ 'YES').P2                                    00145000
.P1      ANOP                                                           00146000
         PUSH  PRINT                                                    00147000
         PRINT OFF                                                      00148000
.P2      ANOP                                                           00149000
         AIF   ('&MNPL' EQ 'NO').L0002                                  00150000
         AIF   ('&DSECT' EQ 'YES').L0003                                00151000
         AIF   ('&MNPL' NE 'YES').L0002                                 00152000
.L0003   ANOP                                                           00153000
*                                                                       00154000
* ********************************************************************  00155000
* *                                                                  *  00156000
* *                   Header for all notifications                   *  00157000
* *                                                                  *  00158000
* ********************************************************************  00159000
*                                                                       00160000
*                                                                       00161000
         AIF   ('&DSECT' EQ 'YES').L0004                                00162000
MNPL     DS    0F        Message Notification exit Parameter List       00163000
         AGO   .L0005                                                   00164000
.L0004   ANOP                                                           00165000
MNPL     DSECT           Message Notification exit Parameter List       00166000
.L0005   ANOP                                                           00167000
MNPLVERSION DS X         Version number of this parameter list          00168000
MNPLTYPE DS    X         Type of notification that is presented. See   *00169000
                         MnplKType constants defined below. Note:      *00170000
                         assume that new types of message              *00171000
                         notifications will be presented in the        *00172000
                         future.                                        00173000
MNPLFLAGS DS   0BL2      Notification flags Flags describing           *00174000
                         characteristics of the notification or its    *00175000
                         presentation.                                  00176000
MNPLSOLICITED EQU X'80'  Indicates whether notification was solicited  *00177000
                         by the user: '0'B when notification is        *00178000
                         initiated by XCF, '1'B for notification       *00179000
                         solicited by the user (the member invoked     *00180000
                         IXCMSGC CALLEXIT service to call a notify     *00181000
                         exit routine). Note that a user solicited     *00182000
                         notification can be the first notification    *00183000
                         that is presented.                             00184000
         DS    BL.015    Reserved.                                      00185000
         ORG   MNPLFLAGS+2                                              00186000
         DS    F         Reserved.                                      00187000
MNPLMEMTOKEN DS BL8      Member token of the member to which this      *00188000
                         notification is presented.                     00189000
MNPLMEMDATA DS BL8       Copy of the member data specified by the      *00190000
                         MEMDATA keyword when the Join Service         *00191000
                         (IXCJOIN) was invoked by the member to which  *00192000
                         this notification is presented.                00193000
MNPLEXITPARMS DS BL8     User exit parameters. For a solicited         *00194000
                         notification (MeplSolicited='1'B), contains a *00195000
                         copy of the data specified for the EXITPARMS  *00196000
                         keyword when the message control service      *00197000
                         (IXCMSGC) was invoked to call the notify      *00198000
                         routine. For an unsolicited notification      *00199000
                         (MeplSolicited='0'B), set to hexadecimal      *00200000
                         zero.                                          00201000
MNPL#DATARECORDS DS F    Number of data records provided.               00202000
MNPLDATARECOFFSET DS F   Offset from the start of the MNPL at which    *00203000
                         the first data record can be found.            00204000
*                                                                       00205000
*  ------------------------------------------------------------------   00206000
*                         Type of Notification                          00207000
*                                                                       00208000
*    Exploiters should assume that new types of notification will       00209000
*    be provided in the future.  The notify exit user routine should    00210000
*    be coded to tolerate them.                                         00211000
*  ------------------------------------------------------------------   00212000
*                                                                       00213000
*                                                                       00214000
MNPLKVERSION0 EQU 0      Initial version                                00215000
MNPLKTYPEMSGOCOMPLETE EQU 1 Message Out request completed.              00216000
MNPLKTYPERESUMEMSGO EQU 2 The member can once again invoke the         *00217000
                         message-out service (IXCMSGO).                 00218000
MNPL_LEN EQU   *-MNPL                                                   00219000
.L0002   ANOP                                                           00220000
         AIF   ('&MNPLDATARECORD' EQ 'NO').L0006                        00221000
         AIF   ('&DSECT' EQ 'YES').L0007                                00222000
         AIF   ('&MNPLDATARECORD' NE 'YES').L0006                       00223000
.L0007   ANOP                                                           00224000
*                                                                       00225000
* ********************************************************************  00226000
* *                                                                  *  00227000
* *                        Data Records                              *  00228000
* *                                                                  *  00229000
* *                                                                  *  00230000
* *  First data record is located as follows:                        *  00231000
* *     DataRecptr = addr(MNPL) + MnplDataRecOffset                  *  00232000
* *                                                                  *  00233000
* *  Subsequent data record is located as follows:                   *  00234000
* *     DataRecptr = DataRecptr + DataRecptr-> MnplRecLen            *  00235000
* *                                                                  *  00236000
* *                                                                  *  00237000
* * DO NOT HARD CODE THE LENGTH OF THE RECORDS.  USE THE LENGTH AND  *  00238000
* * OFFSETS PROVIDED IN EACH RECORD (to ensure compatibility with    *  00239000
* * additional data provided in the future).                         *  00240000
* *                                                                  *  00241000
* *                                                                  *  00242000
* ********************************************************************  00243000
*                                                                       00244000
*                                                                       00245000
         AIF   ('&DSECT' EQ 'YES').L0008                                00246000
MNPLDATARECORD DS 0F     Data record                                    00247000
         AGO   .L0009                                                   00248000
.L0008   ANOP                                                           00249000
MNPLDATARECORD DSECT     Data record                                    00250000
.L0009   ANOP                                                           00251000
MNPLRECTYPE DS X         Type of data described in this record.         00252000
         DS    CL3       Reserved                                       00253000
MNPLRECLEN DS  F         Number of bytes in this data record.           00254000
         DS    CL8       Reserved                                       00255000
MNPLRECDATA DS 0C        Variable content of the record. Use           *00256000
                         MnplRecType to determine which of the         *00257000
                         mappings below is applicable.                  00258000
*                                                                       00259000
*  ------------------------------------------------------------------   00260000
*                            Record Types                               00261000
*                                                                       00262000
*    Exploiters should assume that new record types will be provided    00263000
*    in the future.  The notify exit user routine should be coded       00264000
*    to tolerate them.  In particular note that new types of records    00265000
*    can be inserted into the collection of records that are            00266000
*    provided for a particular type of notification.                    00267000
*                                                                       00268000
*  ------------------------------------------------------------------   00269000
*                                                                       00270000
*                                                                       00271000
MNPLKRECTYPEMSGOUT EQU 1 Msgout record                                  00272000
MNPLDATARECORD_LEN EQU *-MNPLDATARECORD                                 00273000
*                                                                       00274000
* ********************************************************************  00275000
* *                                                                  *  00276000
* *                        Msgout RecData                            *  00277000
* *                                                                  *  00278000
* * Applies when:  MnplRecType = MnplKRecTypeMsgout                  *  00279000
* *                                                                  *  00280000
* * Provided for:  MnplType    = MnplKTypeMsgoComplete               *  00281000
* *                                                                  *  00282000
* ********************************************************************  00283000
*                                                                       00284000
*                                                                       00285000
         ORG   MNPLRECDATA                                              00286000
MNPLMSGOUTRECORD DS 0X                                                  00287000
MNPLMSGOTOKEN DS CL16    Token used to identify this message and any   *00288000
                         associated responses to other XCF services    *00289000
                         (such as IXCMSGC).                             00290000
MNPLMSGOUSERDATA DS BL8  User data associated with the message.        *00291000
                         Contains a copy of the data specified for the *00292000
                         USERDATA keyword when the message-out service *00293000
                         (IXCMSGO) was invoked to send the message or  *00294000
                         as modified by the message control service    *00295000
                         (IXCMSGC) when message was saved or           *00296000
                         completed.                                     00297000
MNPLMSGOFLAGS DS 0BL4                                                   00298000
MNPLMSGOFLAGS0 DS 0B     Flags byte 0 describing characteristicsof the *00299000
                         message                                        00300000
MNPLMSGOBROADCAST EQU X'80' Indicates that the sender specified        *00301000
                         SENDTO(GROUP) on the IXCMSGO invocation.       00302000
MNPLMSGOGETRESPONSE EQU X'40' Indicates whether the sender of this     *00303000
                         message requested XCF management of           *00304000
                         responses.                                     00305000
MNPLMSGOISARESPONSE EQU X'20' Indicates whether this message is a      *00306000
                         response being managed by XCF.                 00307000
MNPLMSGOSENDPENDING EQU X'10' Desired send(s) not initiated by the     *00308000
                         message-out service.                           00309000
MNPLMSGORESPPENDING EQU X'08' Expected response(s) not received.        00310000
MNPLMSGOCOMPLETED EQU X'04' Indicates whether message considered to be *00311000
                         complete. Note that this flag is not mutually *00312000
                         exclusive with the Send/RespPending flags     *00313000
                         since completion may have been forced or the  *00314000
                         message may have timed out.                    00315000
MNPLMSGOTIMEDOUT EQU X'02' '1'B if the message did not complete within *00316000
                         the time-out period.                           00317000
MNPLMSGOCANCELLED EQU X'01' '1'B if the message was cancelled before   *00318000
                         normal completion occurred. The message is    *00319000
                         considered cancelled if it was Forced to      *00320000
                         Completion.                                    00321000
         ORG   MNPLMSGOFLAGS0+1                                         00322000
MNPLMSGOFLAGS1 DS 0B     Flags byte 1 describing characteristics of    *00323000
                         the message                                    00324000
MNPLMSGONOTIFYBYEXIT EQU X'80' Sender requested notification of        *00325000
                         message completion by exit scheduled by XCF   *00326000
                         when the message is complete                   00327000
MNPLMSGOSUCCESSFUL EQU X'20' Indicates whether the request completed   *00328000
                         successfully where no sends were rejected and *00329000
                         all responses were received for broadcast get *00330000
                         response requests or no sends were rejected   *00331000
                         for broadcast noresponse requests              00332000
MNPLMSGOSAVED EQU X'10'  Message was saved                              00333000
MNPLMSGOASYNCMSGACCESS EQU X'08' Indicates whether XCF accessed user   *00334000
                         storage describing/containing the message     *00335000
                         from a unit of work asynchronous to the       *00336000
                         IXCMSGO/IXCMSGOX service routines.             00337000
         ORG   MNPLMSGOFLAGS1+1                                         00338000
MNPLMSGOFLAGS2 DS B      Flags byte 2                                   00339000
MNPLMSGOFLAGS3 DS B      Flags byte 3                                   00340000
MNPLMSGOMLEN DS F        Number of bytes of message data for           *00341000
                         message-out request                            00342000
MNPLMSGOSOURCE DS BL8    Member token of the sending member.            00343000
MNPLMSGOMSGCNTL DS CL32  Message control data from the message out     *00344000
                         request                                        00345000
MNPLMSGO#TARGETS DS F    Number of targets for message (including      *00346000
                         skipped targets).                              00347000
         DS    CL4       Reserved                                       00348000
MNPLMSGOTBLPTR DS A      Address of table containing target/response   *00349000
                         information for this message. Entries in the  *00350000
                         table are mapped by one of the following:     *00351000
                         MnplTargOnlyEntry MnplTargRespEntry Use       *00352000
                         MnplMsgoEntType to determine which mapping    *00353000
                         should be used.                                00354000
         DS    CL1       Reserved                                       00355000
MNPLMSGOENTTYPE DS X     Code that identifies which mapping to use for *00356000
                         the entries in the table of target/response   *00357000
                         data                                           00358000
MNPLMSGOENTLEN DS H      Length in bytes of an individual entry in the *00359000
                         table containing target/response information.  00360000
MNPLKMSGOENTTYPETARGONLY EQU 1 Use MnplTargOnlyEntry                    00361000
MNPLKMSGOENTTYPETARGRESP EQU 2 Use MnplTargRespEntry                    00362000
MNPLMSGOUTRECORD_LEN EQU *-MNPLMSGOUTRECORD                             00363000
         ORG   ,                                                        00364000
.L0006   ANOP                                                           00365000
         AIF   ('&MNPLTARGONLYENTRY' EQ 'NO').L000A                     00366000
         AIF   ('&DSECT' EQ 'YES').L000B                                00367000
         AIF   ('&MNPLTARGONLYENTRY' NE 'YES').L000A                    00368000
.L000B   ANOP                                                           00369000
*                                                                       00370000
* ********************************************************************  00371000
* *                                                                  *  00372000
* *                   Target/Response Table Entries                  *  00373000
* *                                                                  *  00374000
* *  Assuming DataRecptr provides addressability to MnplMsgoutRecord *  00375000
* *  The first target/response table entry is located as follows:    *  00376000
* *     TblEntryptr = DataRecptr-> MnplMsgoTblPtr                       00377000
* *                                                                  *  00378000
* *  Subsequent target/response table entry is located as follows:   *  00379000
* *     TblEntryptr = TblEntryptr + DataRecptr-> MnplMsgoEntLen         00380000
* *                                                                  *  00381000
* *                                                                  *  00382000
* * DO NOT HARD CODE THE LENGTH OF THE RECORDS.  USE THE LENGTH AND  *  00383000
* * OFFSETS PROVIDED IN EACH RECORD (to ensure compatibility with    *  00384000
* * additional data provided in the future).                         *  00385000
* *                                                                  *  00386000
* ********************************************************************  00387000
* *------------------------------------------------------------------*  00388000
* *                                                                  *  00389000
* *                        Target Only Entry                         *  00390000
* *                                                                  *  00391000
* * Applies when:  MnplMsgoEntType = MnplKMsgoEntTypeTargOnly        *  00392000
* *------------------------------------------------------------------*  00393000
*                                                                       00394000
*                                                                       00395000
         AIF   ('&DSECT' EQ 'YES').L000C                                00396000
MNPLTARGONLYENTRY DS 0F  Entry to describe result of send to one       *00397000
                         particular target member.                      00398000
         AGO   .L000D                                                   00399000
.L000C   ANOP                                                           00400000
MNPLTARGONLYENTRY DSECT   Entry to describe result of send to one      *00401000
                         particular target member.                      00402000
.L000D   ANOP                                                           00403000
MNPLTOTARGET DS BL8      Target member token.                           00404000
MNPLTOSENDSTATUS DS 0BL4 Status of the message send                     00405000
MNPLTOSENDFLAGS DS 0BL2                                                 00406000
MNPLTOSENDFLAGS1 DS 0B                                                  00407000
MNPLTOSENDINITIATED EQU X'80' '1'B if XCF initiated the send to this   *00408000
                         target member It is not necessarily the case  *00409000
                         that the initiated send was successful.        00410000
MNPLTOSENDSKIPPED EQU X'40' '1'B when sending of the message to the    *00411000
                         target member was skipped. The target member  *00412000
                         was skipped because the target member token   *00413000
                         in a message-out target table was hexadecimal *00414000
                         zero which indicates that the sender wanted   *00415000
                         to skip the entry or the system excluded a    *00416000
                         group member from the collection of members   *00417000
                         to send the message to.                        00418000
MNPLTOSENDPENDING EQU X'20' '1'B if the send to this target member is  *00419000
                         pending. The message is eligible to be sent.  *00420000
                         MnplToSendInitiated indicates whether XCF has *00421000
                         initiated the send.                            00422000
MNPLTOSENDREJECTED EQU X'10' '1'B if the send to this target member is *00423000
                         rejected. The message is not eligible to be   *00424000
                         sent.                                          00425000
MNPLTOSENDASYNCMSGACCESS EQU X'08' '1'B if an AsyncMsgAccess send to   *00426000
                         this target member was started                 00427000
         ORG   MNPLTOSENDFLAGS1+1                                       00428000
MNPLTOSENDDIAG109 DS B   XCF diagnostic info                            00429000
         DS    X         Reserved.                                      00430000
MNPLTOSENDRETCODE DS X   Return code from message-out service          *00431000
                         (IXCMSGO) with respect to the send to this    *00432000
                         particular target.                             00433000
MNPLTOSENDRSNCODE DS F   Valid if MnplToSendRetCode is nonzero. If so, *00434000
                         contains failing reason code from message-out *00435000
                         service.                                       00436000
MNPLTARGONLYENTRY_LEN EQU *-MNPLTARGONLYENTRY                           00437000
.L000A   ANOP                                                           00438000
         AIF   ('&MNPLTARGRESPENTRY' EQ 'NO').L000E                     00439000
         AIF   ('&DSECT' EQ 'YES').L000F                                00440000
         AIF   ('&MNPLTARGRESPENTRY' NE 'YES').L000E                    00441000
.L000F   ANOP                                                           00442000
*                                                                       00443000
*  ------------------------------------------------------------------   00444000
*                                                                       00445000
*                       Target/Response Entry                           00446000
*                                                                       00447000
*   Applies when:  MnplMsgoEntType = MnplKMsgoEntTypeTargResp           00448000
*  ------------------------------------------------------------------   00449000
*                                                                       00450000
*                                                                       00451000
         AIF   ('&DSECT' EQ 'YES').L0010                                00452000
MNPLTARGRESPENTRY DS 0F  Entry to describe result of send to and       *00453000
                         response from one target member.               00454000
         AGO   .L0011                                                   00455000
.L0010   ANOP                                                           00456000
MNPLTARGRESPENTRY DSECT   Entry to describe result of send to and      *00457000
                         response from one target member.               00458000
.L0011   ANOP                                                           00459000
MNPLTRTARGET DS BL8      Target member token.                           00460000
MNPLTRSENDSTATUS DS 0BL4 Status of the message send                     00461000
MNPLTRSENDFLAGS DS 0BL2                                                 00462000
MNPLTRSENDFLAGS1 DS 0B                                                  00463000
MNPLTRSENDINITIATED EQU X'80' '1'B if XCF initiated the send to this   *00464000
                         target member It is not necessarily the case  *00465000
                         that the initiated send was successful.        00466000
MNPLTRSENDSKIPPED EQU X'40' '1'B when sending of the message to the    *00467000
                         target member was skipped. The target member  *00468000
                         was skipped because the target member token   *00469000
                         in a message-out target table was hexadecimal *00470000
                         zero which indicates that the sender wanted   *00471000
                         to skip the entry or the system excluded a    *00472000
                         group member from the collection of members   *00473000
                         to send the message to.                        00474000
MNPLTRSENDPENDING EQU X'20' '1'B if the send to this target member is  *00475000
                         pending. The message is eligible to be sent.  *00476000
                         MnplTrSendInitiated indicates whether XCF has *00477000
                         initiated the send.                            00478000
MNPLTRSENDREJECTED EQU X'10' '1'B if the send to this target member is *00479000
                         rejected. The message is not eligible to be   *00480000
                         sent.                                          00481000
MNPLTRSENDASYNCMSGACCESS EQU X'08' '1'B if an AsyncMsgAccess send to   *00482000
                         this target member was started                 00483000
         ORG   MNPLTRSENDFLAGS1+1                                       00484000
MNPLTRSENDDIAG109 DS B   XCF diagnostic info                            00485000
         DS    X         Reserved.                                      00486000
MNPLTRSENDRETCODE DS X   Return code from message-out service          *00487000
                         (IXCMSGO) with respect to the send to this    *00488000
                         particular target.                             00489000
MNPLTRSENDRSNCODE DS F   Valid if MnplTrSendretCode is nonzero. If so, *00490000
                         contains failing reason code from message-out *00491000
                         service.                                       00492000
MNPLTRRESPSTATUS DS 0BL4 Status of response message                     00493000
MNPLTRRESPFLAGS DS 0BL2  Status of response. Note: these status flags  *00494000
                         will be updated by XCF while the notify exit  *00495000
                         is running to reflect any processing of the   *00496000
                         response that is performed by the exit        *00497000
                         routine.                                       00498000
MNPLTRRESPEXPECTED EQU X'80' '1'B if XCF expected the the target       *00499000
                         member to respond, '0'B if not. Initialized   *00500000
                         according to whether the sending member       *00501000
                         requested that XCF manage the gathering of a  *00502000
                         response to this message. Reset if XCF        *00503000
                         determines that it should no longer expect a  *00504000
                         response (such as when target member becomes  *00505000
                         not active).                                   00506000
MNPLTRRESPRECEIVED EQU X'40' '1'B if a response was received by XCF,   *00507000
                         '0'B if not.                                   00508000
MNPLTRRESPAVAILABLE EQU X'20' '1'B if the associated response is       *00509000
                         available, '0'B if not. If response is        *00510000
                         available, MnplTrMsgiToken is valid for use.  *00511000
                         If the response was received but the          *00512000
                         associated response is not available, the     *00513000
                         response was delivered, saved, or discarded.   00514000
MNPLTRRESPDELIVERED EQU X'10' '1'B if some portion of the response was *00515000
                         delivered by message-in service, '0'B if none *00516000
                         of the response was delivered                  00517000
MNPLTRRESPSAVED EQU X'08' '1'B if the response was saved with the      *00518000
                         message control SAVEMSG service.               00519000
MNPLTRRESPDISCARDED EQU X'04' '1'B if the response was discarded with  *00520000
                         the message control DISCARDMSG service.        00521000
         DS    BL.010    Reserved.                                      00522000
         ORG   MNPLTRRESPFLAGS+2                                        00523000
         DS    X         Reserved.                                      00524000
MNPLTRRESPCODE DS X      Code to explain why XCF believes the response *00525000
                         was not received. See MnplKRespCode constants *00526000
                         defined below. Valid when MnplTrRespReceived  *00527000
                         is '0'B.                                       00528000
MNPLTRRESPMLEN DS F      Total number of bytes of message data         *00529000
                         available (remaining) for delivery via the    *00530000
                         message-in service. The length is accurate    *00531000
                         only on entry to the exit routine. It is NOT  *00532000
                         updated while the exit routine is running to  *00533000
                         reflect any partial deliveries performed by   *00534000
                         the exit. Valid when MnplTrRespAvailable is   *00535000
                         '1'B.                                          00536000
MNPLTRRESPSRCE DS BL8    Member token of originator of the response.   *00537000
                         Valid when MnplTrRespReceived is '1'B.         00538000
MNPLTRRESPCNTL DS CL32   MSGCNTL value from originator of the          *00539000
                         response. Valid when MnplTrRespReceived is    *00540000
                         '1'B.                                          00541000
MNPLTRMSGITOKEN DS CL16  Token to identify the response message.       *00542000
                         Specify this value for the TOKEN keyword when *00543000
                         invoking the message-in service or the        *00544000
                         message control service to process this       *00545000
                         message. Valid when MnplTrRespAvailable is    *00546000
                         '1'B.                                          00547000
         DS    CL24      reserved                                       00548000
MNPLKRESPCODENOTRECEIVED EQU 0 Expected response did not arrive before *00549000
                         message completed                              00550000
MNPLKRESPCODEMSGNOTSENT EQU 1 Message-out request was never sent to    *00551000
                         the target member.                             00552000
MNPLKRESPCODECANREPLYNO EQU 2 Target specified NO for CANREPLY on      *00553000
                         IXCJOIN service, or target member is active   *00554000
                         on a system that does not support XCF managed *00555000
                         collection of responses.                       00556000
MNPLKRESPCODETARGETINACTIVE EQU 3 Target member not active. The        *00557000
                         message may or may not have been delivered to *00558000
                         the target before it terminated.               00559000
MNPLKRESPCODERESPONDERINACTIVE EQU 4 Target member not active. The     *00560000
                         message is known to have been successfully    *00561000
                         presented to the target.                       00562000
MNPLKRESPCODEDELIVEREDCS EQU 5 Client/Server (IXCSEND) message was     *00563000
                         succesfully delivered to the target server     00564000
MNPLTARGRESPENTRY_LEN EQU *-MNPLTARGRESPENTRY                           00565000
.L000E   ANOP                                                           00566000
         AIF   ('&ZCBPRINT' EQ 'NO').P3                                 00567000
         AIF   ('&LIST' EQ 'YES').P4                                    00568000
.P3      ANOP                                                           00569000
         POP   PRINT                                                    00570000
.P4      ANOP                                                           00571000
.P_EXIT  ANOP                                                           00572000
         MEND                                                           00573000
**/ IXCYMNPL_2:;                                                        00574000
* %IXCYMNPL_INCLUDED = 'YES';                                           00575000
* %DCL ZCBPRINT CHAR EXT;                                               00576000
* %DEACTIVATE ZCBPRINT;                                                 00577000
* %DCL IXCYMNPL_LIST CHAR EXT;                                          00578000
* %DEACTIVATE IXCYMNPL_LIST;                                            00579000
* %IF IXCYMNPL_LIST ^= 'NO' &                                           00580000
*    ZCBPRINT ^= 'NO' %THEN                                             00581000
*   %GOTO IXCYMNPL_3;                                                   00582000
*   @LIST PUSH NOECHO;                                                  00583000
*   @LIST NOASSEMBLE NOECHO;                                            00584000
*   @LIST OFF C NOECHO;                                                 00585000
* %IXCYMNPL_3:;                                                         00586000
*/* Start of PL/X Source                                             */ 00587000
*@space;                                                                00588000
*/********************************************************************/ 00589000
*/*                                                                  */ 00590000
*/*                   Header for all notifications                   */ 00591000
*/*                                                                  */ 00592000
*/********************************************************************/ 00593000
*                                                                       00594000
*DCL 1 MNPL BASED,                  /* Message Notification exit        00595000
*                                      Parameter List                */ 00596000
*       3 MnplVersion  FIXED(8),    /* Version number of this parameter 00597000
*                                      list                          */ 00598000
*       3 MnplType     FIXED(8),    /* Type of notification that is     00599000
*                                      presented.                       00600000
*                                      See MnplKType constants          00601000
*                                      defined below.                   00602000
*                                      Note: assume that new types of   00603000
*                                      message notifications will be    00604000
*                                      presented in the future.      */ 00605000
*       3 MnplFlags    BIT(16),     /* Notification flags            */ 00606000
*                                   /* Flags describing characteristics 00607000
*                                      of the notification or its       00608000
*                                      presentation.                 */ 00609000
*         5 MnplSolicited BIT(1),   /* Indicates whether notification   00610000
*                                      was solicited by the user:  '0'B 00611000
*                                      when notification is initiated   00612000
*                                      by XCF, '1'B for notification    00613000
*                                      solicited by the user (the       00614000
*                                      member invoked IXCMSGC CALLEXIT  00615000
*                                      service to call                  00616000
*                                      a notify exit routine).          00617000
*                                      Note that a user solicited       00618000
*                                      notification can be the first    00619000
*                                      notification that is presented.  00620000
*                                                                    */ 00621000
*         5 * bit(15),              /* Reserved.                     */ 00622000
*       3 * fixed(32),              /* Reserved.                     */ 00623000
*       3 MnplMemtoken bit(64),     /* Member token of the member       00624000
*                                      to which this notification is    00625000
*                                      presented.                    */ 00626000
*       3 MnplMemdata bit(64),      /* Copy of the member data          00627000
*                                      specified by the MEMDATA keyword 00628000
*                                      when the Join Service (IXCJOIN)  00629000
*                                      was invoked by the member to     00630000
*                                      which this notification is       00631000
*                                      presented.                       00632000
*                                                                    */ 00633000
*       3 MnplExitParms bit(64),    /* User exit parameters.  For a     00634000
*                                      solicited notification           00635000
*                                      (MeplSolicited='1'B), contains a 00636000
*                                      copy of the data specified for   00637000
*                                      the EXITPARMS keyword when the   00638000
*                                      message control service          00639000
*                                      (IXCMSGC) was invoked to call    00640000
*                                      the notify routine.  For an      00641000
*                                      unsolicited notification         00642000
*                                      (MeplSolicited='0'B), set to     00643000
*                                      hexadecimal zero.             */ 00644000
*       3 Mnpl#DataRecords fixed unsigned, /* Number of data records    00645000
*                                      provided.                     */ 00646000
*       3 MnplDataRecOffset fixed(31), /* Offset from the start of the  00647000
*                                      MNPL at which the first data     00648000
*                                      record can be found.          */ 00649000
*       3 * char(0);                /*                               */ 00650000
*                                                                       00651000
*/*------------------------------------------------------------------*/ 00652000
*/*                       Type of Notification                       */ 00653000
*/*                                                                  */ 00654000
*/*  Exploiters should assume that new types of notification will    */ 00655000
*/*  be provided in the future.  The notify exit user routine should */ 00656000
*/*  be coded to tolerate them.                                      */ 00657000
*/*------------------------------------------------------------------*/ 00658000
*                                                                       00659000
* Declare                           /* Values for MnplVersion        */ 00660000
*   MnplKVersion0           CONSTANT(0); /* Initial version          */ 00661000
*                                                                       00662000
* Declare                           /* Values for MnplType           */ 00663000
*   MnplKTypeMsgoComplete   CONSTANT(1), /* Message Out request         00664000
*                                      completed.                    */ 00665000
*   MnplKTypeResumeMsgo     CONSTANT(2); /* The member can once again   00666000
*                                      invoke the message-out service   00667000
*                                      (IXCMSGO).                    */ 00668000
*                                                                       00669000
*/********************************************************************/ 00670000
*/*                                                                  */ 00671000
*/*                        Data Records                              */ 00672000
*/*                                                                  */ 00673000
*/*                                                                  */ 00674000
*/*  First data record is located as follows:                        */ 00675000
*/*     DataRecptr = addr(MNPL) + MnplDataRecOffset                  */ 00676000
*/*                                                                  */ 00677000
*/*  Subsequent data record is located as follows:                   */ 00678000
*/*     DataRecptr = DataRecptr + DataRecptr-> MnplRecLen            */ 00679000
*/*                                                                  */ 00680000
*/*                                                                  */ 00681000
*/* DO NOT HARD CODE THE LENGTH OF THE RECORDS.  USE THE LENGTH AND  */ 00682000
*/* OFFSETS PROVIDED IN EACH RECORD (to ensure compatibility with    */ 00683000
*/* additional data provided in the future).                         */ 00684000
*/*                                                                  */ 00685000
*/*                                                                  */ 00686000
*/********************************************************************/ 00687000
*                                                                       00688000
* DCL 1 MnplDataRecord based,       /* Data record                   */ 00689000
*      3 MnplRecType fixed(8),      /* Type of data described in this   00690000
*                                      record.                       */ 00691000
*      3 *           char(3),       /* Reserved                      */ 00692000
*      3 MnplRecLen fixed unsigned, /* Number of bytes in this data     00693000
*                                      record.                       */ 00694000
*      3 *           char(8),       /* Reserved                      */ 00695000
*      3 MnplRecData char(*);       /* Variable content of the record.  00696000
*                                      Use MnplRecType to determine     00697000
*                                      which of the mappings below is   00698000
*                                      applicable.                   */ 00699000
*                                                                       00700000
*/*------------------------------------------------------------------*/ 00701000
*/*                          Record Types                            */ 00702000
*/*                                                                  */ 00703000
*/*  Exploiters should assume that new record types will be provided */ 00704000
*/*  in the future.  The notify exit user routine should be coded    */ 00705000
*/*  to tolerate them.  In particular note that new types of records */ 00706000
*/*  can be inserted into the collection of records that are         */ 00707000
*/*  provided for a particular type of notification.                 */ 00708000
*/*                                                                  */ 00709000
*/*------------------------------------------------------------------*/ 00710000
*                                                                       00711000
* Declare                            /* Values for MnplRecType       */ 00712000
*  MnplKRecTypeMsgout    fixed constant(1)  /* Msgout record         */ 00713000
*   ;                                       /*                   @P4C*/ 00714000
*/********************************************************************/ 00715000
*/*                                                                  */ 00716000
*/*                        Msgout RecData                            */ 00717000
*/*                                                                  */ 00718000
*/* Applies when:  MnplRecType = MnplKRecTypeMsgout                  */ 00719000
*/*                                                                  */ 00720000
*/* Provided for:  MnplType    = MnplKTypeMsgoComplete               */ 00721000
*/*                                                                  */ 00722000
*/********************************************************************/ 00723000
*                                                                       00724000
* DCL 1 MnplMsgoutRecord defined( MnplRecData ), /* Message out         00725000
*                                      record                        */ 00726000
*       3 MnplMsgoToken CHAR(16),   /* Token used to identify           00727000
*                                      this message and any associated  00728000
*                                      responses to other XCF           00729000
*                                      services (such as IXCMSGC).   */ 00730000
*       3 MnplMsgoUserData bit(64), /* User data associated with the    00731000
*                                      message.  Contains a copy of the 00732000
*                                      data specified for the USERDATA  00733000
*                                      keyword when the message-out     00734000
*                                      service (IXCMSGO) was invoked to 00735000
*                                      send the message or as modified  00736000
*                                      by the message control service   00737000
*                                      (IXCMSGC) when message was       00738000
*                                      saved or completed.           */ 00739000
*       3 MnplMsgoFlags  bit(32),                                       00740000
*        5 MnplMsgoFlags0 bit(8),    /* Flags byte 0 describing         00741000
*                                      characteristicsof the message */ 00742000
*         7 MnplMsgoBroadcast BIT(1), /* Indicates that the sender      00743000
*                                      specified SENDTO(GROUP) on the   00744000
*                                      IXCMSGO invocation.           */ 00745000
*         7 MnplMsgoGetResponse bit(1), /* Indicates whether the sender 00746000
*                                      of this message requested        00747000
*                                      XCF management of responses.  */ 00748000
*         7 MnplMsgoIsAResponse bit(1), /* Indicates whether this       00749000
*                                      message is a response being      00750000
*                                      managed by XCF.               */ 00751000
*         7 MnplMsgoSendPending BIT(1), /* Desired send(s) not          00752000
*                                      initiated by the message-out     00753000
*                                      service.                      */ 00754000
*         7 MnplMsgoRespPending BIT(1), /* Expected response(s) not     00755000
*                                      received.                     */ 00756000
*         7 MnplMsgoCompleted bit(1), /* Indicates whether message      00757000
*                                      considered to be complete.       00758000
*                                      Note that this flag is not       00759000
*                                      mutually exclusive with the      00760000
*                                      Send/RespPending flags since     00761000
*                                      completion may have been forced  00762000
*                                      or the message may have timed    00763000
*                                      out.                          */ 00764000
*         7 MnplMsgoTimedOut  bit(1), /* '1'B if the message did not    00765000
*                                      complete within the time-out     00766000
*                                      period.                       */ 00767000
*         7 MnplMsgoCancelled bit(1), /* '1'B if the message was        00768000
*                                      cancelled before normal          00769000
*                                      completion occurred. The         00770000
*                                      message is considered            00771000
*                                      cancelled if it was Forced       00772000
*                                      to Completion.                */ 00773000
*        5 MnplMsgoFlags1 bit(8),    /* Flags byte 1 describing         00774000
*                                      characteristics of the message*/ 00775000
*         7 MnplMsgoNotifyByExit BIT(1), /* Sender requested            00776000
*                                      notification of message          00777000
*                                      completion by exit scheduled     00778000
*                                      by XCF when the message is       00779000
*                                      complete                      */ 00780000
*         7 *                  BIT(1), /* reserved - Note that query    00781000
*                                      processing copies over the       00782000
*                                      MnplMsgoFlags to the             00783000
*                                      MqaMOSFlags and MqaModFlags      00784000
*                                      and uses this position for       00785000
*                                      DiscardPending flag. As such,any 00786000
*                                      use of this bit must be mutually 00787000
*                                      exclusive with the MqaMosFlags   00788000
*                                      and MqaModFlags           @P4C*/ 00789000
*         7 MnplMsgoSuccessful BIT(1), /* Indicates whether the request 00790000
*                                      completed successfully where no  00791000
*                                      sends were rejected and all      00792000
*                                      responses were received for      00793000
*                                      broadcast get response requests  00794000
*                                      or no sends were rejected for    00795000
*                                      broadcast noresponse requests    00796000
*                                                               @P2A*/  00797000
*         7 MnplMsgoSaved     BIT(1), /* Message was saved           */ 00798000
*         7 MnplMsgoAsyncMsgAccess BIT(1), /* Indicates whether XCF     00799000
*                                      accessed user storage            00800000
*                                      describing/containing            00801000
*                                      the message from a unit          00802000
*                                      of work asynchronous to the      00803000
*                                      IXCMSGO/IXCMSGOX                 00804000
*                                      service routines.         @L3C*/ 00805000
*         7 *   bit(3),             /* reserved                  @L1C*/ 00806000
*        5 MnplMsgoFlags2 bit(8),    /* Flags byte 2                 */ 00807000
*        5 MnplMsgoFlags3 bit(8),    /* Flags byte 3                 */ 00808000
*       3 MnplMsgoMLen fixed unsigned, /* Number of bytes of message    00809000
*                                      data for message-out request  */ 00810000
*       3 MnplMsgoSource bit(64),   /* Member token of the sending      00811000
*                                      member.                       */ 00812000
*       3 MnplMsgoMsgcntl CHAR(32), /* Message control data from the    00813000
*                                      message out request           */ 00814000
*       3 MnplMsgo#Targets fixed unsigned, /* Number of targets for     00815000
*                                      message (including skipped       00816000
*                                      targets).                     */ 00817000
*       3 *        char(4),          /* Reserved                     */ 00818000
*       3 MnplMsgoTblptr  ptr(31),  /* Address of table containing      00819000
*                                      target/response information for  00820000
*                                      this message.  Entries in the    00821000
*                                      table are mapped by one of the   00822000
*                                      following:                       00823000
*                                        MnplTargOnlyEntry              00824000
*                                        MnplTargRespEntry              00825000
*                                      Use MnplMsgoEntType to           00826000
*                                      determine which mapping should   00827000
*                                      be used.                      */ 00828000
*       3 * char(1),                /* Reserved                      */ 00829000
*       3 MnplMsgoEntType fixed(8), /* Code that identifies which       00830000
*                                      mapping to use for the entries   00831000
*                                      in the table of target/response  00832000
*                                      data                          */ 00833000
*       3 MnplMsgoEntLen fixed(16), /* Length in bytes of an            00834000
*                                      individual entry in the table    00835000
*                                      containing target/response       00836000
*                                      information.                  */ 00837000
*       3 * char(0);                /*                               */ 00838000
*                                                                       00839000
* Declare                            /* Values for MnplMsgoEntType   */ 00840000
*   MnplKMsgoEntTypeTargOnly constant(1), /* Use MnplTargOnlyEntry   */ 00841000
*   MnplKMsgoEntTypeTargResp constant(2); /* Use MnplTargRespEntry   */ 00842000
*                                                                       00843000
*/********************************************************************/ 00844000
*/*                                                                  */ 00845000
*/*                   Target/Response Table Entries                  */ 00846000
*/*                                                                  */ 00847000
*/*  Assuming DataRecptr provides addressability to MnplMsgoutRecord */ 00848000
*/*  The first target/response table entry is located as follows:    */ 00849000
*/*     TblEntryptr = DataRecptr-> MnplMsgoTblPtr                @L1C*/ 00850000
*/*                                                                  */ 00851000
*/*  Subsequent target/response table entry is located as follows:   */ 00852000
*/*     TblEntryptr = TblEntryptr + DataRecptr-> MnplMsgoEntLen  @L1C*/ 00853000
*/*                                                                  */ 00854000
*/*                                                                  */ 00855000
*/* DO NOT HARD CODE THE LENGTH OF THE RECORDS.  USE THE LENGTH AND  */ 00856000
*/* OFFSETS PROVIDED IN EACH RECORD (to ensure compatibility with    */ 00857000
*/* additional data provided in the future).                         */ 00858000
*/*                                                                  */ 00859000
*/********************************************************************/ 00860000
*                                                                       00861000
*                                                                       00862000
*/*------------------------------------------------------------------*/ 00863000
*/*                                                                  */ 00864000
*/*                        Target Only Entry                         */ 00865000
*/*                                                                  */ 00866000
*/* Applies when:  MnplMsgoEntType = MnplKMsgoEntTypeTargOnly        */ 00867000
*/*------------------------------------------------------------------*/ 00868000
* DCL 1 MnplTargOnlyEntry based,                                        00869000
*                                   /* Entry to describe result of send 00870000
*                                      to one particular target         00871000
*                                      member.                       */ 00872000
*       3 MnplToTarget bit(64),     /* Target member token.          */ 00873000
*       3 MnplToSendStatus bit(32), /* Status of the message send    */ 00874000
*         5 MnplToSendFlags bit(16),                                    00875000
*          6 MnplToSendFlags1 bit(8), /*                         @L2A*/ 00876000
*           7 MnplToSendInitiated bit(1), /* '1'B if XCF initiated the  00877000
*                                      send to this target member       00878000
*                                      It is not necessarily the case   00879000
*                                      that the initiated send was      00880000
*                                      successful.                   */ 00881000
*           7 MnplToSendSkipped   bit(1), /* '1'B when sending of the   00882000
*                                      message to the target member     00883000
*                                      was skipped.  The target         00884000
*                                      member was skipped because the   00885000
*                                      target member token in a         00886000
*                                      message-out target table was     00887000
*                                      hexadecimal zero which           00888000
*                                      indicates that the sender        00889000
*                                      wanted to skip the entry or      00890000
*                                      the system excluded a group      00891000
*                                      member from the collection of    00892000
*                                      members to send the message      00893000
*                                      to.                       @02A*/ 00894000
*           7 MnplToSendPending   bit(1), /* '1'B if the send to this   00895000
*                                      target member is pending.        00896000
*                                      The message is eligible          00897000
*                                      to be sent.                      00898000
*                                      MnplToSendInitiated indicates    00899000
*                                      whether XCF has initiated the    00900000
*                                      send.                     @L1C*/ 00901000
*           7 MnplToSendRejected  bit(1), /* '1'B if the send to this   00902000
*                                      target member is rejected.       00903000
*                                      The message is not eligible      00904000
*                                      to be sent.                   */ 00905000
*           7 MnplToSendAsyncMsgAccess bit(1), /* '1'B if an            00906000
*                                      AsyncMsgAccess send to this      00907000
*                                      target member was started @L1A*/ 00908000
*           7 * bit(3),             /* Reserved.                 @L1C*/ 00909000
*          6 MnplToSendDiag109 bit(8), /* XCF diagnostic info    @L2C*/ 00910000
*         5 * fixed(8),             /* Reserved.                     */ 00911000
*         5 MnplToSendRetCode fixed(8), /* Return code from message-out 00912000
*                                      service (IXCMSGO) with respect   00913000
*                                      to the send to this particular   00914000
*                                      target.                       */ 00915000
*       3 MnplToSendRsncode fixed(32), /* Valid if MnplToSendRetCode is 00916000
*                                      nonzero.                         00917000
*                                      If so, contains failing          00918000
*                                      reason code from message-out     00919000
*                                      service.                      */ 00920000
*       3 * char(0);                /*                               */ 00921000
*                                                                       00922000
*/*------------------------------------------------------------------*/ 00923000
*/*                                                                  */ 00924000
*/*                     Target/Response Entry                        */ 00925000
*/*                                                                  */ 00926000
*/* Applies when:  MnplMsgoEntType = MnplKMsgoEntTypeTargResp        */ 00927000
*/*------------------------------------------------------------------*/ 00928000
* DCL 1 MnplTargRespEntry based,                                        00929000
*                                   /* Entry to describe result of send 00930000
*                                      to and response from one target  00931000
*                                      member.                       */ 00932000
*       3 MnplTrTarget bit(64),     /* Target member token.          */ 00933000
*       3 MnplTrSendStatus bit(32), /* Status of the message send    */ 00934000
*         5 MnplTrSendFlags bit(16),                                    00935000
*          6 MnplTrSendFlags1 bit(8), /*                         @L2A*/ 00936000
*           7 MnplTrSendInitiated bit(1), /* '1'B if XCF initiated the  00937000
*                                      send to this target member       00938000
*                                      It is not necessarily the case   00939000
*                                      that the initiated send was      00940000
*                                      successful.                   */ 00941000
*           7 MnplTrSendSkipped   bit(1), /* '1'B when sending of the   00942000
*                                      message to the target member     00943000
*                                      was skipped.  The target         00944000
*                                      member was skipped because the   00945000
*                                      target member token in a         00946000
*                                      message-out target table was     00947000
*                                      hexadecimal zero which           00948000
*                                      indicates that the sender        00949000
*                                      wanted to skip the entry or      00950000
*                                      the system excluded a group      00951000
*                                      member from the collection of    00952000
*                                      members to send the message      00953000
*                                      to.                       @02A*/ 00954000
*           7 MnplTrSendPending   bit(1), /* '1'B if the send to this   00955000
*                                      target member is pending.        00956000
*                                      The message is eligible          00957000
*                                      to be sent.                      00958000
*                                      MnplTrSendInitiated indicates    00959000
*                                      whether XCF has initiated the    00960000
*                                      send.                     @L1C*/ 00961000
*           7 MnplTrSendRejected  bit(1), /* '1'B if the send to this   00962000
*                                      target member is rejected.       00963000
*                                      The message is not eligible      00964000
*                                      to be sent.                   */ 00965000
*           7 MnplTrSendAsyncMsgAccess bit(1), /* '1'B if an            00966000
*                                      AsyncMsgAccess send to this      00967000
*                                      target member was started @L1A*/ 00968000
*           7 * bit(3),             /* Reserved.                 @L1C*/ 00969000
*          6 MnplTrSendDiag109 bit(8), /* XCF diagnostic info    @L2C*/ 00970000
*         5 * fixed(8),             /* Reserved.                     */ 00971000
*         5 MnplTrSendRetCode fixed(8), /* Return code from message-out 00972000
*                                      service (IXCMSGO) with respect   00973000
*                                      to the send to this particular   00974000
*                                      target.                       */ 00975000
*       3 MnplTrSendRsncode fixed(32), /* Valid if MnplTrSendretCode    00976000
*                                      is nonzero.                      00977000
*                                      If so, contains failing          00978000
*                                      reason code from message-out     00979000
*                                      service.                      */ 00980000
*       3 MnplTrRespStatus bit(32), /* Status of response message    */ 00981000
*         5 MnplTrRespFlags bit(16), /* Status of response.             00982000
*                                      Note: these status flags will    00983000
*                                      be updated by XCF while the      00984000
*                                      notify exit is running to        00985000
*                                      reflect any processing of the    00986000
*                                      response that is performed by    00987000
*                                      the exit routine.             */ 00988000
*           7 MnplTrRespExpected bit(1), /* '1'B if XCF expected the    00989000
*                                      the target member to respond,    00990000
*                                      '0'B if not.  Initialized        00991000
*                                      according to whether the sending 00992000
*                                      member requested that XCF manage 00993000
*                                      the gathering of a response to   00994000
*                                      this message.  Reset if XCF      00995000
*                                      determines that it should no     00996000
*                                      longer expect a response (such   00997000
*                                      as when target member becomes    00998000
*                                      not active).                  */ 00999000
*           7 MnplTrRespReceived bit(1), /* '1'B if a response was      01000000
*                                      received by XCF, '0'B if not. */ 01001000
*           7 MnplTrRespAvailable bit(1), /* '1'B if the associated     01002000
*                                      response is available, '0'B if   01003000
*                                      not.  If response is available,  01004000
*                                      MnplTrMsgiToken is valid for     01005000
*                                      use.  If the response was        01006000
*                                      received but the associated      01007000
*                                      response is not available, the   01008000
*                                      response was delivered, saved,   01009000
*                                      or discarded.                 */ 01010000
*           7 MnplTrRespDelivered bit(1), /* '1'B if some portion of    01011000
*                                      the response was delivered by    01012000
*                                      message-in service, '0'B if none 01013000
*                                      of the response was delivered */ 01014000
*           7 MnplTrRespSaved bit(1), /* '1'B if the response was       01015000
*                                      saved with the message control   01016000
*                                      SAVEMSG service.              */ 01017000
*           7 MnplTrRespDiscarded bit(1), /* '1'B if the response was   01018000
*                                      discarded with the message       01019000
*                                      control DISCARDMSG service.   */ 01020000
*           7 * bit(10),            /* Reserved.                 @D1C*/ 01021000
*         5 * fixed(8),             /* Reserved.                     */ 01022000
*         5 MnplTrRespCode fixed(8), /* Code to explain why XCF         01023000
*                                      believes                         01024000
*                                      the response was not received.   01025000
*                                      See MnplKRespCode constants      01026000
*                                      defined below.                   01027000
*                                      Valid when MnplTrRespReceived    01028000
*                                      is '0'B.                      */ 01029000
*       3 MnplTrRespMLEN FIXED(32), /* Total number of bytes of message 01030000
*                                      data available (remaining) for   01031000
*                                      delivery via the message-in      01032000
*                                      service.  The length is accurate 01033000
*                                      only on entry to the exit        01034000
*                                      routine.  It is NOT updated      01035000
*                                      while the exit routine is        01036000
*                                      running to reflect any partial   01037000
*                                      deliveries performed by the      01038000
*                                      exit.                            01039000
*                                      Valid when MnplTrRespAvailable   01040000
*                                      is '1'B.                      */ 01041000
*       3 MnplTrRespSRCE BIT(64),   /* Member token of originator of    01042000
*                                      the response.                    01043000
*                                      Valid when MnplTrRespReceived    01044000
*                                      is '1'B.                      */ 01045000
*       3 MnplTrRespCNTL CHAR(32),  /* MSGCNTL value from originator of 01046000
*                                      the response.                    01047000
*                                      Valid when MnplTrRespReceived    01048000
*                                      is '1'B.                      */ 01049000
*       3 MnplTrMsgiToken CHAR(16),                                     01050000
*                                   /* Token to identify the response   01051000
*                                      message.  Specify this value for 01052000
*                                      the TOKEN keyword when           01053000
*                                      invoking the message-in service  01054000
*                                      or the message control service   01055000
*                                      to process this message.         01056000
*                                                                       01057000
*                                      Valid when                       01058000
*                                      MnplTrRespAvailable is '1'B.  */ 01059000
*       3 * CHAR(24),                /* reserved                 @D1C*/ 01060000
*       3 * char(0);                /*                               */ 01061000
*                                                                       01062000
* Declare                            /* Values for MnplTrRespCode    */ 01063000
*   MnplKRespCodeNotReceived constant(0),                               01064000
*                                    /* Expected response did not       01065000
*                                       arrive before message           01066000
*                                       completed                    */ 01067000
*   MnplKRespCodeMsgNotSent constant(1),                                01068000
*                                    /* Message-out request was never   01069000
*                                       sent to the target member.   */ 01070000
*   MnplKRespCodeCanReplyNo constant(2),                                01071000
*                                    /* Target specified NO for         01072000
*                                       CANREPLY on IXCJOIN service, or 01073000
*                                       target member is active on a    01074000
*                                       system that does not support    01075000
*                                       XCF managed collection of       01076000
*                                       responses.                   */ 01077000
*   MnplKRespCodeTargetInactive constant(3),                            01078000
*                                    /* Target member not active.  The  01079000
*                                       message may or may not have     01080000
*                                       been delivered to the target    01081000
*                                       before it terminated.        */ 01082000
*   MnplKRespCodeResponderInactive constant(4),                         01083000
*                                    /* Target member not active.  The  01084000
*                                       message is known to have been   01085000
*                                       successfully presented to the   01086000
*                                       target.                      */ 01087000
*   MnplKRespCodeDeliveredCS    constant(5); /* Client/Server           01088000
*                                      (IXCSEND) message was            01089000
*                                      succesfully delivered to the     01090000
*                                      target server             @L3A*/ 01091000
*                                                                       01092000
*                                                                       01093000
*                                                                       01094000
*                                                                       01095000
*/* End of PL/X Source                                               */ 01096000
* %IF IXCYMNPL_LIST ^= 'NO' &                                           01097000
*    ZCBPRINT ^= 'NO' %THEN                                             01098000
*   %GOTO IXCYMNPL_4;                                                   01099000
*   @LIST POP NOECHO;                                                   01100000
* %IXCYMNPL_4:;                                                         01101000
* %END;                                                                 01102000
