*                                                                       00001000
* %DCL IRACPMB_INCLUDED CHAR EXT;                                       00002000
* %DEACTIVATE IRACPMB_INCLUDED;                                         00003000
* %IF IRACPMB_INCLUDED = '' %THEN                                       00004000
* %DO;                                                                  00005000
*/* Macro made bi-lingual on 19322. CBGEN compile date 19044         */ 00006000
*% /*                                                                   00007000
         MACRO                                                          00008000
         IRACPMB &DSECT=YES,&LIST=YES,&TITLE=YES,&CPMB=YES,            *00009000
               &CPMB_CHP_ENTRY=COND,&CMC2=COND,&CMC2CMG2=COND,         *00010000
               &CMC2CMG3=COND,&CPM2=COND,&CPM2CMG1=COND,&CPM2CMG2=COND,*00011000
               &CPM2CMG3=COND,&CPMX=COND,&CPMXCMG2=COND                 00012000
         GBLC  &IRACPMB_INCLUDED                                        00013000
         GBLC  &ZCBPRINT                                                00014000
&IRACPMB_INCLUDED SETC 'YES'                                            00015000
         AIF   ('&LIST' EQ 'NONE').P0                                   00016000
         AIF   ('&TITLE' EQ 'NO').P5                                    00017000
 TITLE   'IRACPMB  - Channel Path Measurement Block             '       00018000
.P5      ANOP                                                           00019000
**/ IRACPMB_1:;                                                         00020000
*/* START OF SPECIFICATIONS ******************************************/ 00021000
*/**** PROPRIETARY_STATEMENT******************************************/ 00022000
*/*01* PROPRIETARY STATEMENT=                                        */ 00023000
*/*                                                                  */ 00024000
*/*  EXTERNAL CLASSIFICATION: GUPI                                   */ 00025000
*/*  END OF EXTERNAL CLASSIFICATION:                                 */ 00026000
*/*                                                                  */ 00027000
*/*  COPYRIGHT =                                                     */ 00028000
*/*      LICENSED MATERIALS - PROPERTY OF IBM                        */ 00029000
*/*      5650-ZOS  COPYRIGHT IBM CORP. 1999, 2021                    */ 00030000
*/**** END_OF_PROPRIETARY_STATEMENT***********************************/ 00031000
*/*                                                                  */ 00032000
*/*01* DESCRIPTIVE NAME:  Channel Path Measurement Block             */ 00033000
*/*02*  ACRONYM:   CPMB                                              */ 00034000
*/*02*  ACRONYM:   CPM2                                      @WA38548*/ 00035000
*/*02*  ACRONYM:   CMC2                                      @WA38548*/ 00036000
*/*                                                                  */ 00037000
*/*01* MACRO NAME: IRACPMB                                           */ 00038000
*/*                                                                  */ 00039000
*/*01* DSECT NAME:                                                   */ 00040000
*/*       CPMB - Complete mapping                                    */ 00041000
*/*       CPMB_CHP_ENTRY - mapping for one channel path entry        */ 00042000
*/*                                                                  */ 00043000
*/*01* COMPONENT:  SRM (SC1CX)                                       */ 00044000
*/*                                                                  */ 00045000
*/*01* EYE-CATCHER: None                                             */ 00046000
*/*                                                                  */ 00047000
*/*01* STORAGE ATTRIBUTES:                                           */ 00048000
*/*02*  SUBPOOL:   245                                               */ 00049000
*/*02*  KEY:       Key 0                                             */ 00050000
*/*02*  RESIDENCY: Above 16MB                                        */ 00051000
*/*                                                                  */ 00052000
*/*01* SIZE:                                                         */ 00053000
*/*           CMC2CMG3       -- X'0014' bytes                        */ 00054000
*/*           CPM2CMG3       -- X'001C' bytes                        */ 00055000
*/*           CMC2           -- X'2000' bytes                        */ 00056000
*/*           CMC2CMG2       -- X'0014' bytes                        */ 00057000
*/*           CPM2           -- X'2000' bytes                        */ 00058000
*/*           CPM2CMG1       -- X'001C' bytes                        */ 00059000
*/*           CPM2CMG2       -- X'001C' bytes                        */ 00060000
*/*           CPMB           -- X'1000' bytes                        */ 00061000
*/*           CPMB_CHP_ENTRY -- X'0008' bytes                        */ 00062000
*/*           CPMX           -- X'4000' bytes                        */ 00063000
*/*           CPMXCMG2       -- X'0040' bytes                        */ 00064000
*/*                                                                  */ 00065000
*/*01* CREATED BY:                                                   */ 00066000
*/*     IEAVNP1F when the Channel Path Measurement Facility exists.  */ 00067000
*/*     IRASRCHM when switching between Compatability Mode and       */ 00068000
*/*      Extended Measurement Mode (IRARMI14) and vice versa.@WA38548*/ 00069000
*/*                                                                  */ 00070000
*/*01* POINTED TO BY:                                                */ 00071000
*/*                                                                  */ 00072000
*/*     Original Channel Path Measurement Format                     */ 00073000
*/*       CMCTCPMB field of Channel Measurement Control Table (CMCT) */ 00074000
*/*                                                                  */ 00075000
*/*     Channel Measurement Characteristics Table                    */ 00076000
*/*       CMCTMCM2 field of Channel Measurement Control              */ 00077000
*/*        Table (CMCT)                                      @WA38548*/ 00078000
*/*     Extended Channel Path Measurement Format                     */ 00079000
*/*       CMCTCPM2 field of Channel Measurement Control              */ 00080000
*/*        Table (CMCT)                                      @WA38548*/ 00081000
*/*     Extended Channel Utilization Blocks                          */ 00082000
*/*       CMCTCPMX field of Channel Measurement Control              */ 00083000
*/*        Table (CMCT)                                      @OA22918*/ 00084000
*/*                                                                  */ 00085000
*/*01* SERIALIZATION: None                                           */ 00086000
*/*                                                                  */ 00087000
*/*01* FUNCTION:                                                     */ 00088000
*/*02*   MVS provides a Channel Path Measurement Facility (CPMF)     */ 00089000
*/*      which allows monitoring programs such as RMF to report      */ 00090000
*/*      channel utilization information. The CPMF presents the      */ 00091000
*/*      information in this control block, called the Channel Path  */ 00092000
*/*      Measurement Block (CPMB).  CPMF can be operating in one of  */ 00093000
*/*      two modes as indicated by the CMCTCpmfMode of the CMCT      */ 00094000
*/*      (IRACMCT).  The two modes of operation are CPMF             */ 00095000
*/*      Compatability Mode and Extended Measurement Mode.           */ 00096000
*/*      The system may switch between the two modes of operation    */ 00097000
*/*      at any time.                                        @WA38548*/ 00098000
*/*                                                                  */ 00099000
*/*02    The following applies to both Compatability Mode            */ 00100000
*/*      and Extended Measurement Mode:                              */ 00101000
*/*                                                                  */ 00102000
*/*      When provided for in  the machine, MVS automatically        */ 00103000
*/*      activates the CPMF at IPL and does not deactivate it        */ 00104000
*/*      unless an internal malfunction occurs. When such a          */ 00105000
*/*      malfunction occurs, MVS may reactivate the CPMF, and        */ 00106000
*/*      indicates this fact to the monitoring program via the       */ 00107000
*/*      CMCTCRCT field of the CMCT.                                 */ 00108000
*/*      The system may switch between the two modes of operation    */ 00109000
*/*      at any time.                                                */ 00110000
*/*                                                                  */ 00111000
*/*      The CPMF updates the CPMB at least once every four          */ 00112000
*/*      seconds with information about the activity of the          */ 00113000
*/*      channel paths configured to the system or to the            */ 00114000
*/*      logical partition.  When updating the CPMB, the CPMF        */ 00115000
*/*      does not update all channel path measurement entries        */ 00116000
*/*      simultaneously.                                             */ 00117000
*/*                                                                  */ 00118000
*/*      NOTE: The CPMF does not provide utilization information for */ 00119000
*/*      byte multiplexer channel paths.                             */ 00120000
*/*                                                          @WA38548*/ 00121000
*/*02    When CPMF is operating in Compatability Mode                */ 00122000
*/*      the following description applies.                          */ 00123000
*/*                                                                  */ 00124000
*/*      When the central electronics complex (CEC) is in BASIC      */ 00125000
*/*      mode, the CPMB contains information about all channels      */ 00126000
*/*      configured in the system.  When MVS runs in a logical       */ 00127000
*/*      partition of the CEC (LPAR mode), the CPMB contains         */ 00128000
*/*      information about the contribution of that logical          */ 00129000
*/*      partition to the total usage of each channel                */ 00130000
*/*      configured to that logical partition.                       */ 00131000
*/*                                                          @WA38548*/ 00132000
*/*02    When CPMF is operating in Extended Measurement Mode         */ 00133000
*/*      the following description applies.                          */ 00134000
*/*                                                                  */ 00135000
*/*      When the central electronics complex (CEC) is in BASIC      */ 00136000
*/*      mode, the CPM2 contains information about all channels      */ 00137000
*/*      configured in the system.  When MVS runs in a logical       */ 00138000
*/*      partition of the CEC (LPAR mode), the CPMB contains         */ 00139000
*/*      information about the contribution of that logical          */ 00140000
*/*      partition to the total usage of each channel                */ 00141000
*/*      configured to that logical partition as well as the         */ 00142000
*/*      total usage of that channel path by all LPARs.              */ 00143000
*/*                                                                  */ 00144000
*/*      A Channel Measurement Characteristics (CMC2) table is       */ 00145000
*/*      built that describes the measurement group that each        */ 00146000
*/*      channel path belongs to.  The Channel Measurement Group     */ 00147000
*/*      determines the contents and format of the channel-          */ 00148000
*/*      utilization-entry for the associated channel path.          */ 00149000
*/*                                                                  */ 00150000
*/*      The Channel Path Measurement Extensions block (CPM2)        */ 00151000
*/*      contains a channel-utilization-entry for each possible      */ 00152000
*/*      channel path in the system.  The contents and format        */ 00153000
*/*      of each channel-utilization-entry are determined by         */ 00154000
*/*      the channel-measurement-group contained in the CMC2         */ 00155000
*/*      entry for the corresponding CHPID.                          */ 00156000
*/*                                                                  */ 00157000
*/*      No sample count is stored by CPMF when running in           */ 00158000
*/*      Extended Mesurement Mode.  The system polls the             */ 00159000
*/*      channel subsystem every 20 seconds to discover if the       */ 00160000
*/*      facility is still active.  If not active, the system        */ 00161000
*/*      will attempt to restart CPMF.                               */ 00162000
*/*                                                          @WA38548*/ 00163000
*/*                                                                  */ 00164000
*/*      The Extended Channel Utilization block (CPMX)               */ 00165000
*/*      contains a channel-utilization-entry for each possible      */ 00166000
*/*      channel path in the system.  The contents and format        */ 00167000
*/*      of each extended-channel-utilization-entry are determined   */ 00168000
*/*      by the channel-measurement-group contained in the CMC2      */ 00169000
*/*      entry for the corresponding CHPID.                          */ 00170000
*/*      Extended measurements are supported when the E bit in       */ 00171000
*/*      the Channel Measurement Characteristics (CMC2) is set.      */ 00172000
*/*                                                          @OA22918*/ 00173000
*/*                                                                  */ 00174000
*/*01* METHOD OF ACCESS:                                             */ 00175000
*/*                                                                  */ 00176000
*/*02*  ASM:                                                         */ 00177000
*/*        DSECT=NO  If DSECT is not to be produced.                 */ 00178000
*/*                                                                  */ 00179000
*/*        USING on CPMB gives addressability to main block          */ 00180000
*/*        for Compatability Mode.                                   */ 00181000
*/*                                                                  */ 00182000
*/*        USING on CPMB_CHP_ENTRY gives addressability to the       */ 00183000
*/*        symbols in the mapping for an individual channel path     */ 00184000
*/*        entry.                                                    */ 00185000
*/*                                                                  */ 00186000
*/*        USING on CPM2 gives addressability to main block          */ 00187000
*/*        for Extended Measurement Mode.                            */ 00188000
*/*                                                                  */ 00189000
*/*        Using on CPM2CMG1 gives addressability to the symbols     */ 00190000
*/*        in the mapping for an individual channel path entry       */ 00191000
*/*        when running in Extended Measurement Mode for channel-    */ 00192000
*/*        measurement-group-1.                                      */ 00193000
*/*                                                                  */ 00194000
*/*        Using on CPM2CMG2 gives addressability to the symbols     */ 00195000
*/*        in the mapping for an individual channel path entry       */ 00196000
*/*        when running in Extended Measurement Mode for channel-    */ 00197000
*/*        measurement-group-2.                                      */ 00198000
*/*                                                          @WA38548*/ 00199000
*/*02*  PL/AS:                                                       */ 00200000
*/*        For Compatability Mode:                                   */ 00201000
*/*                                                                  */ 00202000
*/*        CVTOPCTP->RMCTCMCT->CMCTCPMB, which contains the          */ 00203000
*/*        address of the CPMB.  The CPMB is automatically declared  */ 00204000
*/*        as based on CMCTCPMB.                                     */ 00205000
*/*                                                                  */ 00206000
*/*        To make use of the CPMB_CHP_ENTRY structure, you must     */ 00207000
*/*        declare your own pointer and RESPECIFY the structure as   */ 00208000
*/*        based on it. E.g.                                         */ 00209000
*/*          RFY CPMB_CHP_ENTRY BASED(your_ptr)                      */ 00210000
*/*                                                                  */ 00211000
*/*        For Extended Measurement Mode:                            */ 00212000
*/*                                                                  */ 00213000
*/*        CVTOPCTP->RMCTCMCT->CMCTCPM2, which contains the          */ 00214000
*/*        address of the CPM2.  The CPMB is automatically declared  */ 00215000
*/*        as based on CMCTCPM2.                                     */ 00216000
*/*                                                                  */ 00217000
*/*        CVTOPCTP->RMCTCMCT->CMCTCMC2, which contains the          */ 00218000
*/*        address of the CMC2.  The CMC2 is automatically declared  */ 00219000
*/*        as based on CMCTCMC2.                                     */ 00220000
*/*                                                                  */ 00221000
*/*        To make use of the CMC2CMG2 structure, you must           */ 00222000
*/*        declare your own pointer and RESPECIFY the structure as   */ 00223000
*/*        based on it. E.g.                                         */ 00224000
*/*          RFY CMC2CMG2 BASED(your_ptr)                            */ 00225000
*/*                                                                  */ 00226000
*/*        To make use of the CPM2CMG1 structure, you must           */ 00227000
*/*        declare your own pointer and RESPECIFY the structure as   */ 00228000
*/*        based on it. E.g.                                         */ 00229000
*/*          RFY CPM2CMG1 BASED(your_ptr)                            */ 00230000
*/*                                                                  */ 00231000
*/*        To make use of the CPM2CMG2 structure, you must           */ 00232000
*/*        declare your own pointer and RESPECIFY the structure as   */ 00233000
*/*        based on it. E.g.                                         */ 00234000
*/*          RFY CPM2CMG2 BASED(your_ptr)                            */ 00235000
*/*                                                          @WA38548*/ 00236000
*/*                                                                  */ 00237000
*/*        CVTOPCTP->RMCTCMCT->CMCTCPMX, which contains the          */ 00238000
*/*        address of the CPMX.  The CPMX is automatically declared  */ 00239000
*/*        as based on CMCTCPMX.                                     */ 00240000
*/*                                                                  */ 00241000
*/*        To make use of the CPMXCMG2 structure, you must           */ 00242000
*/*        declare your own pointer and RESPECIFY the structure as   */ 00243000
*/*        based on it. E.g.                                         */ 00244000
*/*          RFY CPMXCMG2 BASED(your_ptr)                            */ 00245000
*/*                                                          @OA22918*/ 00246000
*/*                                                                  */ 00247000
*/*01* STATUS: HBB77D0                                               */ 00248000
*/*                                                                  */ 00249000
*/*01* DELETED BY: IEAVNP1F in the event that the CPMF cannot be     */ 00250000
*/*                activated.  Otherwise, once the CPMF is           */ 00251000
*/*                successfully started, the CPMB will remain for    */ 00252000
*/*                the life of the IPL, regardless of whether or not */ 00253000
*/*                the Channel Path Measurement Facility is          */ 00254000
*/*                functional.  Even if the CPMF mode switches       */ 00255000
*/*                between Compatability Mode and Extended Mode,     */ 00256000
*/*                the CPMB, CMC2 and CPM2 remain allocated.         */ 00257000
*/*                                                          @WA38548*/ 00258000
*/*                                                                  */ 00259000
*/*01* FREQUENCY:   One per system image                             */ 00260000
*/*                                                                  */ 00261000
*/*01* DEPENDENCIES: None                                            */ 00262000
*/*                                                                  */ 00263000
*/*01* DISTRIBUTION LIBRARY: AMACLIB                                 */ 00264000
*/*                                                                  */ 00265000
*/*01* CHANGE ACTIVITY:                                              */ 00266000
*/* $H0=PRSMM   HBB4430  920323 PD88MF: PR/SM MIF Support        @H0A*/ 00267000
*/* $D1=DKB0021 HBB4430  920423 PD88MF: Use IRACPMB to document the  */ 00268000
*/*                                     CDPI/GUPI interface and make */ 00269000
*/*                                     IRACPMB bilingual        @D1A*/ 00270000
*/* $D2=DKB0106 HBB4430  920617 PD88MF: Change doc for interval at   */ 00271000
*/*                                     which CPMB is checked to 20  */ 00272000
*/*                                     seconds.                 @D2A*/ 00273000
*/* $P1=PKB4056 HBB4430  920901 PD88MF: Change doc errors        @P1A*/ 00274000
*/* OY58186 HBB4430  921020 PD44XL: Change doc errors in support     */ 00275000
*/*                                 of TRSQ PTM PKB4260.     @YA58186*/ 00276000
*/* $OW38548    HBB6608  980406 PDKN:   FICON Support                */ 00277000
*/* $Q1=WLMPIQD HBB7705  000814 PDRV:   IQDIO Support                */ 00278000
*/* $Q2=WLMPIQD HBB7705  010112 PDRV:   FICON 1.75 Support           */ 00279000
*/* $PX00885    HBB7705  010118 PDRV:   Change Copyright             */ 00280000
*/* $Q3=WLMPIQD HBB7705  010419 PDRV:   FICON 1.75 Support Extensions*/ 00281000
*/* $OA22918    HBB7760  080318 3141AK: Anette Kempfert              */ 00282000
*/*                                     Enhanced Channel Measurement */ 00283000
*/*                                     Facility Support             */ 00284000
*/* $LSRM64     HBB7770  080626 3141DW: Dieter Wellerdiek            */ 00285000
*/*                                     Semicolon in comment removed */ 00286000
*/* $ME24208    HBB7790  120524 3141AK: Anette Kempfert              */ 00287000
*/*                                     Channel Measurement Group    */ 00288000
*/*                                     Power                        */ 00289000
*/* $CBGMETA    HBB77D0  191106 3241BH: Bill Heisser                 */ 00290000
*/*                                     convert to CBGEN Metadata    */ 00291000
*/*                                                                  */ 00292000
*/* END OF SPECIFICATIONS ********************************************/ 00293000
*% /*                                                                   00294000
.P0      ANOP                                                           00295000
         AIF   ('&ZCBPRINT' EQ 'NO').P1                                 00296000
         AIF   ('&LIST' EQ 'YES').P2                                    00297000
.P1      ANOP                                                           00298000
         PUSH  PRINT                                                    00299000
         PRINT OFF                                                      00300000
.P2      ANOP                                                           00301000
         AIF   ('&CPMB' EQ 'NO').L0002                                  00302000
         AIF   ('&DSECT' EQ 'YES').L0003                                00303000
         AIF   ('&CPMB' NE 'YES').L0002                                 00304000
CPMB     DS    0D        Channel Path Measurement Block                 00305000
         AGO   .L0004                                                   00306000
.L0003   ANOP                                                           00307000
CPMB     DSECT           Channel Path Measurement Block                 00308000
.L0004   ANOP                                                           00309000
         DS    CL4       Reserved                                       00310000
CPMB_SAMPLE_COUNT DS F   CPMF sample count - updated whenever new data *00311000
                         is stored in the CPMB. The CPMF increments    *00312000
                         this field by one each time it updates the    *00313000
                         CPMB. When the system activates or            *00314000
                         reactivates the CPMF, this field's initial    *00315000
                         value is undefined. This field wraps around   *00316000
                         to zero after it reaches 4,294,967,295. No    *00317000
                         alert will be issued if a wrap occurs. If     *00318000
                         this value does not change during a 20-second *00319000
                         interval, the CPMF has stopped. If this field  00320000
*                        changes between two observations, either the  *00321000
                         CPMF operated normally, incrementing this     *00322000
                         field between the observations, or the system *00323000
                         deactivated the CPMF, and then reactivated    *00324000
                         it.                                            00325000
CPMB_CHP_DATA DS CL4088  Channel path data, comprised of a list of 256 *00326000
                         channel path measurement entries. Each entry  *00327000
                         (from 0 to 255) is associated with the        *00328000
                         same-numbered channel path.                    00329000
CPMB_LEN EQU   *-CPMB                                                   00330000
.L0002   ANOP                                                           00331000
         AIF   ('&CPMB_CHP_ENTRY' EQ 'NO').L0005                        00332000
         AIF   ('&DSECT' EQ 'YES').L0006                                00333000
         AIF   ('&CPMB_CHP_ENTRY' NE 'YES').L0005                       00334000
.L0006   ANOP                                                           00335000
*                                                                       00336000
* ********************************************************************  00337000
* *                                                                  *  00338000
* * CPMB_CHP_ENTRY                                                   *  00339000
* *   CPMB_CUM_CHP_BUSY - Cumulative channel path busy.              *  00340000
* *            In this field, the CPMF accumulates                   *  00341000
* *            channel-path-busy intervals in 128-microsecond        *  00342000
* *            units.  In Basic mode, the CPMF accumulates all       *  00343000
* *            channel-path-busy intervals.  In LPAR mode, the CPMF  *  00344000
* *            accumulates only that logical partition's             *  00345000
* *            channel-path-busy intervals.  When this field is      *  00346000
* *            negative (bit 0 set to 1), the CPMF has accumulated   *  00347000
* *            no channel-path-busy intervals for this logical       *  00348000
* *            partition.  This field's initial positive value is    *  00349000
* *            unpredictable either when the field changes from      *  00350000
* *            negative to positive or when the system activates or  *  00351000
* *            reactivates the CPMF.  After the value in this field  *  00352000
* *            reaches approximately 76.36 hours, it wraps around    *  00353000
* *            to zero with no alert, and the CPMF continues to      *  00354000
* *            accumulate channel-path-busy intervals.                  00355000
* *   CPMB_CUM_CHP_TIME - Cumulative channel path elapsed time.      *  00356000
* *             In this field, the CPMF accumulates total elapsed    *  00357000
* *             measurement time for this channel path, in           *  00358000
* *             128-microsecond units. The CPMF evaluates and        *  00359000
* *             stores this field and the CPMB_CUM_CHP_BUSY field    *  00360000
* *             concurrently.  The monitoring program can also view  *  00361000
* *             this field as a time stamp that indicates when the   *  00362000
* *             CPMF last evaluated the corresponding                *  00363000
* *             CPMB_CUM_CHP_BUSY field. The monitoring program can  *  00364000
* *             only use this field to calculate time intervals      *  00365000
* *             between measurements for this channel path.          *  00366000
* *             Timestamps for separate entries are independent.     *  00367000
* *             This field's initial value is unpredictable either   *  00368000
* *             when the CPMB_CUM_CHP_BUSY field changes from        *  00369000
* *             negative to positive or when the system activates or *  00370000
* *             reactivates the CPMF.  After the value in this       *  00371000
* *             field reaches approximately 35.79 minutes,              00372000
* *             it wraps around to zero with no alert, and the CPMF  *  00373000
* *             continues to accumulate total elapsed measurement    *  00374000
* *             time for this channel path.                             00375000
* *                                                                  *  00376000
* ********************************************************************  00377000
*                                                                       00378000
*                                                                       00379000
         AIF   ('&DSECT' EQ 'YES').L0007                                00380000
CPMB_CHP_ENTRY DS 0F     A channel path measurement entry               00381000
         AGO   .L0008                                                   00382000
.L0007   ANOP                                                           00383000
CPMB_CHP_ENTRY DSECT     A channel path measurement entry               00384000
.L0008   ANOP                                                           00385000
CPMB_CUM_CHP_BUSY DS F   Cumulative channel path busy.                  00386000
*  Bit definitions:                                                     00387000
CPMB_CHP_ENTRY_NOT_VALID EQU X'80' Validity flag for the CHP entry. 0  *00388000
                         - Entry is valid. 1 - Entry is not valid.      00389000
         DS    BL.031    CHP busy count data                            00390000
         ORG   CPMB_CUM_CHP_BUSY+4                                      00391000
CPMB_CHP_FLAGS DS B      Flags.                                         00392000
*  Bit definitions:                                                     00393000
CPMB_SHARED_CHANNEL EQU X'80' Shared Channel Indicator. 1 - The        *00394000
                         channel is shared. 0 - The channel is         *00395000
                         unshared.                                      00396000
CPMB_CUM_CHP_TIME DS FL3 Cumulative channel path elapsed time.          00397000
CPMB_CHP_ENTRY_LEN EQU *-CPMB_CHP_ENTRY                                 00398000
.L0005   ANOP                                                           00399000
         AIF   ('&CMC2' EQ 'NO').L0009                                  00400000
         AIF   ('&DSECT' EQ 'YES').L000A                                00401000
         AIF   ('&CMC2' NE 'YES').L0009                                 00402000
.L000A   ANOP                                                           00403000
*                                                                       00404000
* ********************************************************************  00405000
* *                                                                  *  00406000
* * Channel Measurement Characteristics for Extended CPMF Data       *  00407000
* *                                                                  *  00408000
* *      CMC2CMG                                                     *  00409000
* *        Channel-Measurement Group (CMG):  Byte 3 of word 1        *  00410000
* *        contains a binary value that specifies the                *  00411000
* *        measurement group to which the specified CHPID            *  00412000
* *        belongs.  This value  determines  the  contents  and      *  00413000
* *        format  of  the  CMG-dependent                            *  00414000
* *        channel-measurement-characteristics  area,  and the       *  00415000
* *        format and contents of the channel-utilization entry      *  00416000
* *        for the  associated  channel  path,  in  the              *  00417000
* *        channel-utilization     block.                            *  00418000
* *                                                                     00419000
* ********************************************************************  00420000
*                                                                       00421000
*                                                                       00422000
         AIF   ('&DSECT' EQ 'YES').L000B                                00423000
CMC2     DS    0D        Channel Measurement Characteristics for CPM2   00424000
         AGO   .L000C                                                   00425000
.L000B   ANOP                                                           00426000
CMC2     DSECT           Channel Measurement Characteristics for CPM2   00427000
.L000C   ANOP                                                           00428000
CMC2CHANMEASUREMENTCHARBLOCK DS CL32                                    00429000
*                                                                       00430000
*                                      Channel Measurement              00431000
*                                      Characterisitics Block           00432000
*                                                                       00433000
*                                                                       00434000
         ORG   CMC2CHANMEASUREMENTCHARBLOCK                             00435000
CMC2FLAGS DS   B         Channel Measurement Characterisitics Flags     00436000
*  Bit definitions:                                                     00437000
CMC2NOTVALID EQU X'80'   Not Valid - when 0 indicates that information *00438000
                         is provided in this CMC block                  00439000
CMC2SHAREDCHPID EQU X'40' Shared channel path                           00440000
CMC2EXTSUPPORT EQU X'20' When 1 indicates that extended-channel        *00441000
                         measurements are supported                     00442000
         DS    CL2       Reserved                                       00443000
CMC2CHPID DS   X         Channel path ID                                00444000
CMC2MASKBYTE DS B        Mask                                           00445000
*  Bit definitions:                                                     00446000
CMC2CMCVALIDITYMASK EQU X'F8' CMC Validity mask, bits 0-4 correspond   *00447000
                         to words 3-7 of the channel measurements      *00448000
                         characteristics block. When 1, the            *00449000
                         corresponding word has meaning                 00450000
CMC2MISC DS    B                                                        00451000
*  Bit definitions:                                                     00452000
CMC2CMGP EQU   X'0F'     Channel measurement group power. When         *00453000
                         non-zero, the CMC2SPEED value has to be       *00454000
                         multiplied by the factor 10 to the power of   *00455000
                         CMC2CMGP to get the speed in units of bits    *00456000
                         per second.                                    00457000
CMC2CMGQ DS    X         Channel measurement group qualifier            00458000
CMC2CMG  DS    X         Channel measurement group for this CHPID       00459000
         DS    CL2       Reserved                                       00460000
CMC2SPEED DS   H         Channel speed. If CMC2CMGP is zero, the value *00461000
                         is the channel speed in units of 100 megabits *00462000
                         per second. Otherwise, the value must be      *00463000
                         multiplied by 10**CMC2CMGP to get the speed   *00464000
                         in units of bits per second.                   00465000
CMC2DATA DS    CL20      Channel measurement characteristics data       00466000
*                                                                       00467000
* ********************************************************************  00468000
* *                                                                  *  00469000
* * Values for the CMC2CMG field, the channel measurement group      *  00470000
* * types.                                                           *  00471000
* *                                                                     00472000
* ********************************************************************  00473000
*                                                                       00474000
*                                                                       00475000
CMCCMG1  EQU   1         Channel Measurement Group one                  00476000
CMCCMG2  EQU   2         Channel Measurement Group two                  00477000
CMCCMG3  EQU   3         Channel Measurement Group three                00478000
         ORG   CMC2+8192                                                00479000
CMC2_LEN EQU   *-CMC2                                                   00480000
.L0009   ANOP                                                           00481000
         AIF   ('&CMC2CMG2' EQ 'NO').L000D                              00482000
         AIF   ('&DSECT' EQ 'YES').L000E                                00483000
         AIF   ('&CMC2CMG2' NE 'YES').L000D                             00484000
.L000E   ANOP                                                           00485000
*                                                                       00486000
* ********************************************************************  00487000
* *                                                                  *  00488000
* * The CMC2DATA field is not valid for any Channel Measurement      *  00489000
* * Group (CMC2CMG) other than 2 or 3                                *  00490000
* *                                                                     00491000
* ********************************************************************  00492000
* ********************************************************************  00493000
* *                                                                  *  00494000
* * CMC2CMG2 maps the CMC2DATA field when the Channel Measurement    *  00495000
* * Group (CMC2CMG) for this CHPID is 2.                             *  00496000
* *                                                                  *  00497000
* *      CMC2MaxBusyCycles                                           *  00498000
* *        Maximum Bus Cycles:  Word 3 Contains an unsigned          *  00499000
* *        binary integer specifying the  maximum  internal bus      *  00500000
* *        cycles per second, available for I/O operations on        *  00501000
* *        the specified channel path.                               *  00502000
* *                                                                  *  00503000
* *      CMC2MaxChannelWorkUnits                                     *  00504000
* *        Maximum Channel Work Units:  Word 4 contains an           *  00505000
* *        unsigned  binary  integer specifying  the maximum         *  00506000
* *        number of channel work units that can be performed        *  00507000
* *        per second by the specified channel path.                 *  00508000
* *                                                                  *  00509000
* *      CMC2MaxWriteDataUnits                                       *  00510000
* *        Maximum Write Data Units:  Word 5  contains  an           *  00511000
* *        unsigned  binary  integer specifying the maximum          *  00512000
* *        number of data units that can be written per second       *  00513000
* *        using the specified channel path.                         *  00514000
* *                                                                  *  00515000
* *      CMC2MaxReadDataUnits                                        *  00516000
* *        Maximum  Read  Data  Units:   Word  6  contains an        *  00517000
* *        unsigned binary integer specifying the maximum            *  00518000
* *        number of data units that can be  read  per  second       *  00519000
* *        using the specified channel path.                         *  00520000
* *                                                                  *  00521000
* *      CMC2DataUnitSize                                            *  00522000
* *        Data  Unit  Size:   Word  7  contains  an  unsigned       *  00523000
* *        nonzero binary integer specifying the number of           *  00524000
* *        bytes of data that are contained in a  data  unit         *  00525000
* *        for the specified channel path.                           *  00526000
* *                                                                     00527000
* ********************************************************************  00528000
*                                                                       00529000
*                                                                       00530000
         AIF   ('&DSECT' EQ 'YES').L000F                                00531000
CMC2CMG2 DS    0F        Channel Measurement Characteristics for       *00532000
                         channel measurement group 2                    00533000
         AGO   .L0010                                                   00534000
.L000F   ANOP                                                           00535000
CMC2CMG2 DSECT           Channel Measurement Characteristics for       *00536000
                         channel measurement group 2                    00537000
.L0010   ANOP                                                           00538000
CMC2MAXBUSCYCLES DS F    Maximum bus cycles per second                  00539000
CMC2MAXCHANNELWORKUNITS DS F Maximum channel work units per second      00540000
CMC2MAXWRITEDATAUNITS DS F Maximum write data units per second          00541000
CMC2MAXREADDATAUNITS DS F Maximum read data units per second            00542000
CMC2DATAUNITSIZE DS F    Data unit size                                 00543000
CMC2CMG2_LEN EQU *-CMC2CMG2                                             00544000
.L000D   ANOP                                                           00545000
         AIF   ('&CMC2CMG3' EQ 'NO').L0011                              00546000
         AIF   ('&DSECT' EQ 'YES').L0012                                00547000
         AIF   ('&CMC2CMG3' NE 'YES').L0011                             00548000
.L0012   ANOP                                                           00549000
*                                                                       00550000
* ********************************************************************  00551000
* *                                                                  *  00552000
* * CMC2CMG3 maps the CMC2DATA field when the Channel Measurement    *  00553000
* * Group (CMC2CMG) for this CHPID is 3.                             *  00554000
* *                                                                  *  00555000
* *      CMC3DataUnitSize                                            *  00556000
* *        Data  Unit  Size:   Word  3  contains  an  unsigned       *  00557000
* *        nonzero binary integer specifying the number of           *  00558000
* *        bytes of data that are contained in a  data  unit         *  00559000
* *        for the specified channel path.                           *  00560000
* *        When not valid indicated by CMC2MaskByte                     00561000
* *        the associated count, CMC3DataUnitsSent, is a count          00562000
* *        of bytes.                                                    00563000
* *                                                                  *  00564000
* *      CMC3DataUnitSizeCPC                                            00565000
* *        Data Unit Size (CPC): Word 4 contains an unsigned            00566000
* *        binary integer specifying the product of the number          00567000
* *        of bytes of data that are contained in a data unit           00568000
* *        for the specified channel path multiplied by a               00569000
* *        model-dependent scaling factor.                              00570000
* *        When not valid indicated by CMC2MaskByte                     00571000
* *        the associated count, CMC3DataUnitsSentCPC, is a             00572000
* *        count of data units whose size is determined from            00573000
* *        word 3, CMC3DataUnitSize.                                    00574000
* *                                                                  *  00575000
* *      CMC3MessageUnitSize                                            00576000
* *        Message Unit Size: Word 5 contains an unsigned               00577000
* *        binary integer specifying the number of bytes that           00578000
* *        are contained in a message unit for the specified            00579000
* *        channel path.                                                00580000
* *        When not valid indicated by CMC2MaskByte                     00581000
* *        the associated count, CMC3MessageUnitsSent, is a             00582000
* *        count of bytes.                                              00583000
* *                                                                  *  00584000
* *      CMC3MessageUnitSizeCPC                                         00585000
* *        Message Unit Size (CPC): Word 6 contains an unsigned         00586000
* *        binary integer specifying the product of the number          00587000
* *        of bytes that are contained in a message unit for            00588000
* *        the specified channel path multiplied by a                   00589000
* *        model-dependent scaling factor.                              00590000
* *        When not valid indicated by CMC2MaskByte                     00591000
* *        the associated count, CMC3MessageUnitsSentCPC, is a          00592000
* *        count of message units whose size is determined from         00593000
* *        word 5, CMC3MessageUnitSize.                                 00594000
* *                                                                     00595000
* ********************************************************************  00596000
*                                                                       00597000
*                                                                       00598000
         AIF   ('&DSECT' EQ 'YES').L0013                                00599000
CMC2CMG3 DS    0F        Channel Measurement Characteristics for       *00600000
                         channel measurement group 3                    00601000
         AGO   .L0014                                                   00602000
.L0013   ANOP                                                           00603000
CMC2CMG3 DSECT           Channel Measurement Characteristics for       *00604000
                         channel measurement group 3                    00605000
.L0014   ANOP                                                           00606000
CMC3DATAUNITSIZE DS F    Data unit size                                 00607000
CMC3DATAUNITSIZECPC DS F Data unit size CPC                             00608000
CMC3MESSAGEUNITSIZE DS F Message unit size                              00609000
CMC3MESSAGEUNITSIZECPC DS F Message unit size CPC                       00610000
         DS    CL4       Reserved                                       00611000
CMC2CMG3_LEN EQU *-CMC2CMG3                                             00612000
.L0011   ANOP                                                           00613000
         AIF   ('&CPM2' EQ 'NO').L0015                                  00614000
         AIF   ('&DSECT' EQ 'YES').L0016                                00615000
         AIF   ('&CPM2' NE 'YES').L0015                                 00616000
.L0016   ANOP                                                           00617000
*                                                                       00618000
* ********************************************************************  00619000
* *                                                                  *  00620000
* * Channel Measurement Block Extended (format 2).                   *  00621000
* *                                                                  *  00622000
* *        CPM2ChannelUtilizationEntryInfoValityMask                 *  00623000
* *          Channel-Utilization-Information  Validity  (CUIV):      *  00624000
* *          Byte  0  of  word   0 contains  a  map  that            *  00625000
* *          applies to the contents of the channel-utilization      *  00626000
* *          entry.    The  bits  of  the  CUIV  map  indicate       *  00627000
* *          which  words   of   the channel-utilization entry       *  00628000
* *          contain valid channel-utilization information.  Bits    *  00629000
* *          0-7   of   the   CUIV   field   correspond  to          *  00630000
* *          words  0-7  of  the channel-utilization entry,          *  00631000
* *          respectively. A special  case  is  that  bit  0         *  00632000
* *          corresponds  to  bytes 1-3 of word 0 (the contents      *  00633000
* *          of byte 0 of word 0 are always valid).   When one, a    *  00634000
* *          bit of the  CUIV  field  indicates  that  the           *  00635000
* *          corresponding  word  contains  valid                    *  00636000
* *          channel-utilization information. When zero, a bit of    *  00637000
* *          the CUIV field indicates that the corresponding         *  00638000
* *          word  does not contain valid channel-utilization        *  00639000
* *          information.                                            *  00640000
* *                                                                  *  00641000
* *        CPM2TimeStamp                                             *  00642000
* *          Time-stamp:   Bits  8-31  of  word  0  contain  a       *  00643000
* *          time-stamp  value  that identifies when                 *  00644000
* *          channel-utilization information was last  stored  in    *  00645000
* *          this channel-utilization  entry.    The time-stamp      *  00646000
* *          is based on a 24 bit channel subsystem timer that is    *  00647000
* *          incremented by adding one  to  the  rightmost  bit      *  00648000
* *          position  every 128 microseconds.  The accumulated      *  00649000
* *          value of the time-stamp is approximately modulo         *  00650000
* *          35.79 minutes and the program is not alerted  when      *  00651000
* *          an overflow occurs.  Each   channel-utilization         *  00652000
* *          entry   is  updated  independently  of  other           *  00653000
* *          channel-utilization entries. Therefore, each            *  00654000
* *          time-stamp  applies  only  to the                       *  00655000
* *          channel-utilization entry that contains it.  The        *  00656000
* *          initial value of the time-stamp is unpredictable.       *  00657000
* *                                                                     00658000
* ********************************************************************  00659000
*                                                                       00660000
*                                                                       00661000
         AIF   ('&DSECT' EQ 'YES').L0017                                00662000
CPM2     DS    0D        Channel Path Measurement Block - format 2      00663000
         AGO   .L0018                                                   00664000
.L0017   ANOP                                                           00665000
CPM2     DSECT           Channel Path Measurement Block - format 2      00666000
.L0018   ANOP                                                           00667000
CPM2CHANNELUTILIZATIONENTRY DS CL32                                     00668000
*                                                                       00669000
*                                      Channel Utilization Entry        00670000
*                                                                       00671000
*                                                                       00672000
         ORG   CPM2CHANNELUTILIZATIONENTRY                              00673000
CPM2CHANNELUTILINFOVALITYMASK DS B Channel utilization info validity   *00674000
                         mask, bit positions 0-7 correspond to words   *00675000
                         0-7 of this channel utilization entry          00676000
CPM2TIMESTAMP DS FL3     Time stamp indicating when data was last      *00677000
                         stored in this CUE, 128 microsecond           *00678000
                         granularity                                    00679000
CPM2DATA DS    CL28      Channel measurement group data                 00680000
         ORG   CPM2+8192                                                00681000
CPM2_LEN EQU   *-CPM2                                                   00682000
.L0015   ANOP                                                           00683000
         AIF   ('&CPM2CMG1' EQ 'NO').L0019                              00684000
         AIF   ('&DSECT' EQ 'YES').L001A                                00685000
         AIF   ('&CPM2CMG1' NE 'YES').L0019                             00686000
.L001A   ANOP                                                           00687000
*                                                                       00688000
* ********************************************************************  00689000
* *                                                                  *  00690000
* * CMG1 maps the CPM2DATA field when the Channel Measurement Group  *  00691000
* * (CMG) for this CHPID is 1.                                       *  00692000
* *                                                                  *  00693000
* *      CMG1TotalChannelBusyTime                                    *  00694000
* *        Channel-Path-Busy  Time  (CPC):   Bits  0-31  of          *  00695000
* *        word   1   contain   the accumulation   of   all          *  00696000
* *        measured  channel-path-busy  intervals  for  the          *  00697000
* *        associated channel path.  The channel path is busy        *  00698000
* *        when  it  is  actively communicating with an              *  00699000
* *        attached control unit or device.  When  the CPC is        *  00700000
* *        operating in LPAR mode, the CPBT value in word 1          *  00701000
* *        includes the channel-path intervals associated with       *  00702000
* *        all of the  logical  partitions that have access to       *  00703000
* *        the associated channel path.  The  time  intervals        *  00704000
* *        are stored into the channel-utilization entry using       *  00705000
* *        a resolution of 128 microseconds.   The accumulated       *  00706000
* *        value  is  approximately modulo  76.36  hours,  and       *  00707000
* *        the  program  is  not alerted when an overflow            *  00708000
* *        occurs.  The initial value in word 1 is                   *  00709000
* *        unpredictable.                                            *  00710000
* *                                                                  *  00711000
* *      CMG1LparChannelBusyTime                                     *  00712000
* *        Channel-Path-Busy Time:  When the CPC is operating        *  00713000
* *        in LPAR mode, bits 0-31 of word 2 contain the             *  00714000
* *        accumulation of measured channel-path-busy intervals      *  00715000
* *        for the associated channel path.  The accumulation        *  00716000
* *        only includes intervals that are associated with the      *  00717000
* *        logical partition that  has  access  to  this             *  00718000
* *        channel  utilization block.   The channel path is         *  00719000
* *        busy when it is actively communicating with an            *  00720000
* *        attached control unit or device.  When the CPC is         *  00721000
* *        operating in basic mode, the contents of word 2 have      *  00722000
* *        no meaning and bit 2 of the Channel Utilization           *  00723000
* *        Information Validity Mask is zero.                        *  00724000
* *                                                                     00725000
* ********************************************************************  00726000
*                                                                       00727000
*                                                                       00728000
         AIF   ('&DSECT' EQ 'YES').L001B                                00729000
CPM2CMG1 DS    0F        Channel Measurement Group 1                    00730000
         AGO   .L001C                                                   00731000
.L001B   ANOP                                                           00732000
CPM2CMG1 DSECT           Channel Measurement Group 1                    00733000
.L001C   ANOP                                                           00734000
CMG1TOTALCHANNELBUSYTIME DS F Channel Path Busy Time, total for the    *00735000
                         CHPID                                          00736000
CMG1LPARCHANNELBUSYTIME DS F Channel Path Busy Time, just for this     *00737000
                         LPAR                                           00738000
         DS    CL20      Reserved                                       00739000
CPM2CMG1_LEN EQU *-CPM2CMG1                                             00740000
.L0019   ANOP                                                           00741000
         AIF   ('&CPM2CMG2' EQ 'NO').L001D                              00742000
         AIF   ('&DSECT' EQ 'YES').L001E                                00743000
         AIF   ('&CPM2CMG2' NE 'YES').L001D                             00744000
.L001E   ANOP                                                           00745000
*                                                                       00746000
* ********************************************************************  00747000
* *                                                                  *  00748000
* * CMG2 maps the CPM2DATA field when the Channel Measurement Group  *  00749000
* * (CMG) for this CHPID is 2.                                       *  00750000
* *                                                                  *  00751000
* *      CMG2TotalBusCycleCount                                      *  00752000
* *        Count of Bus Cycles (CPC):  Word 1 Contains an            *  00753000
* *        unsigned binary  integer that  is  an accumulated         *  00754000
* *        count of the internal bus cycles that have been           *  00755000
* *        used for I/O operations on the associated channel         *  00756000
* *        path.  When  the  count reaches 2(32)-1 it wraps          *  00757000
* *        back to zero.  When  the  CPC  is operating in LPAR       *  00758000
* *        mode, the count includes the internal bus cycles          *  00759000
* *        that were used for I/O operations for  all  logical       *  00760000
* *        partitions that have access to the associated             *  00761000
* *        channel path.                                             *  00762000
* *                                                                  *  00763000
* *      CMG2TotalChannelWorkUnitCount                               *  00764000
* *        Count  of  Channel  Work  Units (CPC):  Word 2            *  00765000
* *        contains an unsigned binary integer that is an            *  00766000
* *        accumulated count of the number of channel  work          *  00767000
* *        units that  have  been performed by the associated        *  00768000
* *        channel path.  When the count reaches 2(32)-1 it          *  00769000
* *        wraps back to zero.  When the CPC is operating in         *  00770000
* *        LPAR mode, the  count  includes  the  channel work        *  00771000
* *        units that were performed for all logical partitions      *  00772000
* *        that have access to the associated channel path.          *  00773000
* *                                                                  *  00774000
* *      CMG2LparChannelWorkUnitCount                                *  00775000
* *        Count of Channel Work Units:  When the CPC is             *  00776000
* *        operating in LPAR mode, word 3  contains an unsigned      *  00777000
* *        binary integer that is an accumulated count of the        *  00778000
* *        number of channel work units that have been               *  00779000
* *        performed  by  the  associated channel  path.  When       *  00780000
* *        the count reaches 2(32)-1 it wraps back to zero.          *  00781000
* *        The count includes only the channel work units that       *  00782000
* *        were  performed  for  the logical partition that has      *  00783000
* *        access to this channel utilization block.  When  the      *  00784000
* *        CPC  is operating in basic mode, the contents of          *  00785000
* *        word 3 have no meaning and bit 3 of the Channel           *  00786000
* *        Utilization Information Validity Mask is zero.            *  00787000
* *                                                                  *  00788000
* *      CMG2TotalWriteDataUnits                                     *  00789000
* *        Count of Data Units Written (CPC):  Word 4  contains      *  00790000
* *        an  unsigned  binary integer that is an accumulated       *  00791000
* *        count of the number of data units that have been          *  00792000
* *        written  using  the associated channel path.  When        *  00793000
* *        the count reaches 2(32)-1 it wraps back to zero.          *  00794000
* *        The channel-measurement-characteristics block for         *  00795000
* *        the  associated  channel path specifies the number        *  00796000
* *        of bytes contained in a data unit.  When  the CPC is      *  00797000
* *        operating in LPAR mode, the count includes the data       *  00798000
* *        units that were written for all logical  partitions       *  00799000
* *        that  have  access  to  the associated channel path.      *  00800000
* *                                                                  *  00801000
* *      CMG2LparWriteDataUnits                                      *  00802000
* *        Count of Data Units Written:  When the CPC is             *  00803000
* *        operating in LPAR mode, word 5  contains an unsigned      *  00804000
* *        binary integer that is an accumulated count of the        *  00805000
* *        number of data units that have been written using         *  00806000
* *        the  associated  channel path.    When  the count         *  00807000
* *        reaches 2(32)-1 it wraps back to zero.  The count         *  00808000
* *        includes only the data units that were written for        *  00809000
* *        the  logical  partition that has access to this           *  00810000
* *        channel-utilization block.  When  the  CPC  is            *  00811000
* *        operating in basic mode, the contents of word 5 have      *  00812000
* *        no meaning and bit 5 of the Channel Utilization           *  00813000
* *        Information Validity Mask is zero.                        *  00814000
* *                                                                  *  00815000
* *      CMG2TotalReadDataUnits                                      *  00816000
* *        Count of Data Units Read  (CPC):   Word  6  contains      *  00817000
* *        an  unsigned  binary integer that is an accumulated       *  00818000
* *        count of the number of data units that have been          *  00819000
* *        read  using  the  associated  channel path.   When        *  00820000
* *        the count reaches 2(32)-1 it wraps back to zero.          *  00821000
* *        The channel-measurement-characteristics block for         *  00822000
* *        the  associated  channel path specifies the number        *  00823000
* *        of bytes contained in a data unit.  When  the CPC is      *  00824000
* *        operating in LPAR mode, the count includes the data       *  00825000
* *        units that were read  for  all  logical  partitions       *  00826000
* *        that  have  access  to  the associated channel path.      *  00827000
* *                                                                  *  00828000
* *      CMG2LparReadDataUnits                                       *  00829000
* *        Count  of Data Units Read:  When the CPC is               *  00830000
* *        operating in LPAR mode, word 7 contains an unsigned       *  00831000
* *        binary integer that is an accumulated  count  of          *  00832000
* *        the number  of  data  units  that  have been read         *  00833000
* *        using the associated channel path.  When the count        *  00834000
* *        reaches 2(32)-1 it wraps back to zero.    The  count      *  00835000
* *        includes only the data units that were read for the       *  00836000
* *        logical partition that has access to this                 *  00837000
* *        channel-utilization block.  When  the  CPC  is            *  00838000
* *        operating in basic mode, the contents of word 7 have      *  00839000
* *        no meaning and bit 7 of the Channel Utilization           *  00840000
* *        Information Validity Mask is zero.                        *  00841000
* *                                                                  *  00842000
* *                                                                     00843000
* ********************************************************************  00844000
*                                                                       00845000
*                                                                       00846000
         AIF   ('&DSECT' EQ 'YES').L001F                                00847000
CPM2CMG2 DS    0F        Channel Measurement Group 2                    00848000
         AGO   .L0020                                                   00849000
.L001F   ANOP                                                           00850000
CPM2CMG2 DSECT           Channel Measurement Group 2                    00851000
.L0020   ANOP                                                           00852000
CMG2TOTALBUSCYCLECOUNT DS F Count of Bus Cycles, total for the CHPID    00853000
CMG2TOTALCHANNELWORKUNITCOUNT DS F Count of Channel Work Units, total  *00854000
                         for the CHPID                                  00855000
CMG2LPARCHANNELWORKUNITCOUNT DS F Count of Channel Work Units, just    *00856000
                         for this LPAR                                  00857000
CMG2TOTALWRITEDATAUNITS DS F Count of Data Units Written, total for    *00858000
                         the CHPID                                      00859000
CMG2LPARWRITEDATAUNITS DS F Count of Data Units Written, just for this *00860000
                         LPAR                                           00861000
CMG2TOTALREADDATAUNITS DS F Count of Data Units Read, total for the    *00862000
                         CHPID                                          00863000
CMG2LPARREADDATAUNITS DS F Count of Data Units Read, just for this     *00864000
                         LPAR                                           00865000
CPM2CMG2_LEN EQU *-CPM2CMG2                                             00866000
.L001D   ANOP                                                           00867000
         AIF   ('&CPM2CMG3' EQ 'NO').L0021                              00868000
         AIF   ('&DSECT' EQ 'YES').L0022                                00869000
         AIF   ('&CPM2CMG3' NE 'YES').L0021                             00870000
.L0022   ANOP                                                           00871000
*                                                                       00872000
* ********************************************************************  00873000
* *                                                                  *  00874000
* * CMG3 maps the CPM2DATA field when the Channel Measurement Group  *  00875000
* * (CMG) for this CHPID is 3.                                       *  00876000
* *                                                                  *  00877000
* *      CMG3MessageUnitsSent                                           00878000
* *        Message Units Sent: Word 1 contains an unsigned              00879000
* *        binary integer that is an accumulated count of the           00880000
* *        number of message units that have been sent by               00881000
* *        programs, in the issuing logical partition, when             00882000
* *        using the associated channel path.                           00883000
* *                                                                  *  00884000
* *      CMG3MessageUnitsSentCPC                                        00885000
* *        Message Units Sent (CPC): Word 2 contains an unsigned        00886000
* *        binary integer that is an accumulated count of the           00887000
* *        number of message units that have been sent when             00888000
* *        using the associated channel path. The count includes        00889000
* *        messages sent for all logical partitions that have           00890000
* *        access to the associated channel path.                       00891000
* *                                                                  *  00892000
* *      CMG3UnsuccAttemptsToSend                                    *  00893000
* *        Unsuccessful Attempts to Send: Word 3 contains an         *  00894000
* *        unsigned binary integer that is an accumulated            *  00895000
* *        count of the number of unsuccessful attempts to send      *  00896000
* *        messages by programs in the issuing logical partition     *  00897000
* *        when using the associated channel path.                   *  00898000
* *        This count includes all unsuccessful attempts to send     *  00899000
* *        messages except when the attempt failed due to an         *  00900000
* *        unavailable buffer in the receiving logical partition.    *  00901000
* *                                                                  *  00902000
* *      CMG3UnavailReceiveBuffers                                   *  00903000
* *        Unavailable Receive Buffers: Word 4 contains an           *  00904000
* *        unsigned  binary integer that is an accumulated           *  00905000
* *        count of the number of times messages sent to the         *  00906000
* *        issuing partition failed due to unavailable receive       *  00907000
* *        buffers in the issuing logical partition.                 *  00908000
* *                                                                  *  00909000
* *      CMG3UnavailReceiveBuffersCPC                                *  00910000
* *        Unavailable Receive BuffersCPC: Word 5 contains an        *  00911000
* *        unsigned  binary integer that is an accumulated           *  00912000
* *        count of the number of times messages sent to the         *  00913000
* *        target partition failed due to unavailable receive        *  00914000
* *        buffers in the target logical partition.                  *  00915000
* *        The count includes all unsuccessful attempts by           *  00916000
* *        programs in all logical partitions that have access       *  00917000
* *        to the associated channel path.                           *  00918000
* *                                                                  *  00919000
* *      CMG3DataUnitsSent                                           *  00920000
* *        Data Units Sent: Word 6 contains an unsigned binary       *  00921000
* *        integer that is an accumulated count of the number        *  00922000
* *        of data units that have been sent by programs in the      *  00923000
* *        issuing logical partition when using the associated       *  00924000
* *        channel path.                                             *  00925000
* *                                                                  *  00926000
* *      CMG3DataUnitsSentCPC                                        *  00927000
* *        Data Units Sent (CPC): Word 7 contains an unsigned        *  00928000
* *        binary integer that is an accumulated count of the        *  00929000
* *        number of data units that have been sent using the        *  00930000
* *        associated channel path. The count includes all data      *  00931000
* *        units sent by all logical partitions that have access     *  00932000
* *        to the associated channel path.                           *  00933000
* *                                                                     00934000
* ********************************************************************  00935000
*                                                                       00936000
*                                                                       00937000
         AIF   ('&DSECT' EQ 'YES').L0023                                00938000
CPM2CMG3 DS    0F        Channel Measurement Group 3                    00939000
         AGO   .L0024                                                   00940000
.L0023   ANOP                                                           00941000
CPM2CMG3 DSECT           Channel Measurement Group 3                    00942000
.L0024   ANOP                                                           00943000
CMG3MESSAGEUNITSSENT DS F Count of message units sent by programs       00944000
CMG3MESSAGEUNITSSENTCPC DS F Count of message units sent by programs   *00945000
                         from all logical partitions using this        *00946000
                         channel path                                   00947000
CMG3UNSUCCATTEMPTSTOSEND DS F Unsuccessful attempts to send messages   *00948000
                         except when the attempts failed due to        *00949000
                         unavailable buffers in the receiving log.     *00950000
                         partition                                      00951000
CMG3UNAVAILRECEIVEBUFFERS DS F Count of unavailable receive buffers in *00952000
                         the issuing partition                          00953000
CMG3UNAVAILRECEIVEBUFFERSCPC DS F Unavailable receive buffers in the   *00954000
                         target partition including all unsucc.        *00955000
                         attempts from all partitions using the        *00956000
                         channel path                                   00957000
CMG3DATAUNITSSENT DS F   Number of data units sent by programs in the  *00958000
                         issuing logical partition                      00959000
CMG3DATAUNITSSENTCPC DS F Number of data units sent by all logical     *00960000
                         partitions which have access to the channel   *00961000
                         path                                           00962000
CPM2CMG3_LEN EQU *-CPM2CMG3                                             00963000
.L0021   ANOP                                                           00964000
         AIF   ('&CPMX' EQ 'NO').L0025                                  00965000
         AIF   ('&DSECT' EQ 'YES').L0026                                00966000
         AIF   ('&CPMX' NE 'YES').L0025                                 00967000
.L0026   ANOP                                                           00968000
*                                                                       00969000
* ********************************************************************  00970000
* *                                                                  *  00971000
* * Extended Channel Utilization block.                                 00972000
* *                                                                  *  00973000
* *    The extended-channel-utilization block contains 256,          *  00974000
* *    16-word channel-utilization entries corresponding to          *  00975000
* *    CHPIDs 0-255, in sequential order.                            *  00976000
* *                                                                  *  00977000
* ********************************************************************  00978000
*                                                                       00979000
*                                                                       00980000
         AIF   ('&DSECT' EQ 'YES').L0027                                00981000
CPMX     DS    0D        Extended Channel Utilization Block             00982000
         AGO   .L0028                                                   00983000
.L0027   ANOP                                                           00984000
CPMX     DSECT           Extended Channel Utilization Block             00985000
.L0028   ANOP                                                           00986000
CPMXCHANNELUTILIZATIONENTRY DS CL64                                     00987000
*                                                                       00988000
*                                      Extended Channel Utilization     00989000
*                                      Entry                            00990000
*                                                                       00991000
         ORG   CPMXCHANNELUTILIZATIONENTRY                              00992000
CPMXDATA DS    CL64      Extended channel measurement group data        00993000
         ORG   CPMX+X'00004000'                                         00994000
CPMX_LEN EQU   *-CPMX                                                   00995000
.L0025   ANOP                                                           00996000
         AIF   ('&CPMXCMG2' EQ 'NO').L0029                              00997000
         AIF   ('&DSECT' EQ 'YES').L002A                                00998000
         AIF   ('&CPMXCMG2' NE 'YES').L0029                             00999000
.L002A   ANOP                                                           01000000
*                                                                       01001000
* ********************************************************************  01002000
* *                                                                  *  01003000
* * The CPMXDATA field is not valid for any Channel Measurement      *  01004000
* * Group (CMC2CMG) other than 2                                     *  01005000
* *                                                                     01006000
* ********************************************************************  01007000
* ********************************************************************  01008000
* *                                                                  *  01009000
* * CPMXCMG2 maps the CPMXDATA field when the Channel Measurement    *  01010000
* * Group (CMC2CMG) for this CHPID is 2.                             *  01011000
* *                                                                  *  01012000
* *      CPMXTotalCountOps                                           *  01013000
* *        Total Count of FICON command-mode Operations (CPC):       *  01014000
* *        Word 0 contains an unsigned binary integer that specifies *  01015000
* *        the total number of FICON command-mode operations that    *  01016000
* *        have been attempted by the channel.                       *  01017000
* *        Each time a FICON command-mode device-level operation,    *  01018000
* *        excluding device reconnections but including device-level *  01019000
* *        control operations, or a FICON link-level operation is    *  01020000
* *        initiated, the channel increments this count by one.      *  01021000
* *                                                                  *  01022000
* *      CPMXTotalCountOpsDeferred                                   *  01023000
* *        Total Count of Deferred FICON command-mode                *  01024000
* *        Operations (CPC): Word 1 contains a unsigned binary       *  01025000
* *        integer that specifies the total number of FICON          *  01026000
* *        command-mode operations that could not be initiated       *  01027000
* *        the channel due to lack of available resources.           *  01028000
* *        Each time the channel receives a request to perform a     *  01029000
* *        FICON command-mode operation but does not attempt to      *  01030000
* *        initiate the operation due to a lack of resources, the    *  01031000
* *        channel increments this count by one.                     *  01032000
* *                                                                  *  01033000
* *      CPMXSummationCountOps                                       *  01034000
* *        Summation Count of FICON command-mode Operations (CPC):   *  01035000
* *        Words 2-3 contain a 64-bit unsigned binary integer that   *  01036000
* *        contains a summation of the FICON command-mode Operations *  01037000
* *        that have been attempted by the channel. When word 0 is   *  01038000
* *        incremented, the number of FICON command-mode operations  *  01039000
* *        active at the channel, including the one being initiated, *  01040000
* *        is added to this field.                                   *  01041000
* *                                                                  *  01042000
* *                                                                  *  01043000
* *      Words 4-7 are reserved and set to zero when no FCX.         *  01044000
* *                                                                  *  01045000
* *                                                                  *  01046000
* *      CPMXTotalCountOpsFCX                                        *  01047000
* *        Total Count of FICON Transport-Mode Operations (CPC):     *  01048000
* *        Word 4 contains a unsigned binary integer that specifies  *  01049000
* *        the total number of FICON transport-mode operations that  *  01050000
* *        have been attempted by the channel. Each time a FICON     *  01051000
* *        transport-mode device-level operation is initiated, the   *  01052000
* *        channel increments this count by one.                     *  01053000
* *                                                                  *  01054000
* *      CPMXTotalCountOpsDeferredFCX                                *  01055000
* *        Total Count of Deferred FICON Transport-Mode              *  01056000
* *        Operations (CPC): Word 5 contains a unsigned binary       *  01057000
* *        integer that specifies the total number of transport-mode *  01058000
* *        operations that could not be initiated by the channel due *  01059000
* *        to a lack of available resources. Each time the channel   *  01060000
* *        receives a request to perform a FICON transport-mode      *  01061000
* *        operation but does not attempt to initiate the operation  *  01062000
* *        due to a lack or resources, the channel increments this   *  01063000
* *        count by one.                                             *  01064000
* *                                                                  *  01065000
* *      CPMXSummationCountOpsFCX                                    *  01066000
* *        Summation Count of FICON Transport-Mode Operations (CPC): *  01067000
* *        Words 6-7 contain a 64-bit unsigned binary integer that   *  01068000
* *        indicates the summation of transport-mode operations      *  01069000
* *        attempted by the channel. Each time word 4 is incremented,*  01070000
* *        the number of transport-mode operations active at the     *  01071000
* *        channel, including the one being initiated, is added to   *  01072000
* *        this field.                                               *  01073000
* *                                                                  *  01074000
* *      Words 8-15 are reserved and set to zero.                    *  01075000
* *                                                                  *  01076000
* *                                                                  *  01077000
* ********************************************************************  01078000
*                                                                       01079000
*                                                                       01080000
         AIF   ('&DSECT' EQ 'YES').L002B                                01081000
CPMXCMG2 DS    0F        CMG=2 extended data                            01082000
         AGO   .L002C                                                   01083000
.L002B   ANOP                                                           01084000
CPMXCMG2 DSECT           CMG=2 extended data                            01085000
.L002C   ANOP                                                           01086000
CPMXTOTALCOUNTOPS DS F                                                  01087000
CPMXTOTALCOUNTOPSDEFERRED DS F                                          01088000
CPMXSUMMATIONCOUNTOPS DS CL8                                            01089000
CPMXTOTALCOUNTOPSFCX DS F                                               01090000
CPMXTOTALCOUNTOPSDEFERREDFCX DS F                                       01091000
CPMXSUMMATIONCOUNTOPSFCX DS CL8                                         01092000
CPMXRESERVED DS CL32                                                    01093000
CPMXCMG2_LEN EQU *-CPMXCMG2                                             01094000
.L0029   ANOP                                                           01095000
         AIF   ('&ZCBPRINT' EQ 'NO').P3                                 01096000
         AIF   ('&LIST' EQ 'YES').P4                                    01097000
.P3      ANOP                                                           01098000
         POP   PRINT                                                    01099000
.P4      ANOP                                                           01100000
.P_EXIT  ANOP                                                           01101000
         MEND                                                           01102000
**/ IRACPMB_2:;                                                         01103000
* %IRACPMB_INCLUDED = 'YES';                                            01104000
* %DCL ZCBPRINT CHAR EXT;                                               01105000
* %DEACTIVATE ZCBPRINT;                                                 01106000
* %DCL IRACPMB_LIST CHAR EXT;                                           01107000
* %DEACTIVATE IRACPMB_LIST;                                             01108000
* %IF IRACPMB_LIST = 'NO' !                                             01109000
*    ZCBPRINT = 'NO' %THEN                                              01110000
* %DO;                                                                  01111000
*   @LIST PUSH NOECHO;                                                  01112000
*   @LIST NOASSEMBLE NOECHO;                                            01113000
*   @LIST OFF C NOECHO;                                                 01114000
* %END;                                                                 01115000
*/* Start of PL/X Source                                             */ 01116000
*DCL 1 CPMB CHAR(4096) BDY(DWORD) BASED(CMCTCPMB),/* Channel Path       01117000
*                                        Measurement Block       @D1C*/ 01118000
*     5 * CHAR(4),                    /* Reserved                @D1C*/ 01119000
*     5 CPMB_SAMPLE_COUNT FIXED(32),  /* CPMF sample count - updated    01120000
*              whenever new data is stored in the CPMB.  The CPMF       01121000
*              increments this field by one each time it updates        01122000
*              the CPMB.  When the system activates or                  01123000
*              reactivates the CPMF, this field's initial value         01124000
*              is undefined.  This field wraps around to zero after     01125000
*              it reaches 4,294,967,295.  No alert will be issued       01126000
*              if a wrap occurs.  If this value does not change         01127000
*              during a 20-second interval, the CPMF has stopped.       01128000
*              If this field changes between two observations,          01129000
*              either the CPMF operated normally, incrementing this     01130000
*              field between the observations, or the system            01131000
*              deactivated the CPMF, and then reactivated it.    @P1C*/ 01132000
*     5 CPMB_CHP_DATA CHAR(4088);     /* Channel path data, comprised   01133000
*              of a list of 256 channel path measurement entries.       01134000
*              Each entry (from 0 to 255) is associated with the        01135000
*              same-numbered channel path.                       @D1C*/ 01136000
*/********************************************************************/ 01137000
*/*                                                                  */ 01138000
*/* CPMB_CHP_ENTRY                                                   */ 01139000
*/*   CPMB_CUM_CHP_BUSY - Cumulative channel path busy.              */ 01140000
*/*            In this field, the CPMF accumulates                   */ 01141000
*/*            channel-path-busy intervals in 128-microsecond        */ 01142000
*/*            units.  In Basic mode, the CPMF accumulates all       */ 01143000
*/*            channel-path-busy intervals.  In LPAR mode, the CPMF  */ 01144000
*/*            accumulates only that logical partition's             */ 01145000
*/*            channel-path-busy intervals.  When this field is      */ 01146000
*/*            negative (bit 0 set to 1), the CPMF has accumulated   */ 01147000
*/*            no channel-path-busy intervals for this logical       */ 01148000
*/*            partition.  This field's initial positive value is    */ 01149000
*/*            unpredictable either when the field changes from      */ 01150000
*/*            negative to positive or when the system activates or  */ 01151000
*/*            reactivates the CPMF.  After the value in this field  */ 01152000
*/*            reaches approximately 76.36 hours, it wraps around    */ 01153000
*/*            to zero with no alert, and the CPMF continues to      */ 01154000
*/*            accumulate channel-path-busy intervals.           @D1A*/ 01155000
*/*   CPMB_CUM_CHP_TIME - Cumulative channel path elapsed time.      */ 01156000
*/*             In this field, the CPMF accumulates total elapsed    */ 01157000
*/*             measurement time for this channel path, in           */ 01158000
*/*             128-microsecond units. The CPMF evaluates and        */ 01159000
*/*             stores this field and the CPMB_CUM_CHP_BUSY field    */ 01160000
*/*             concurrently.  The monitoring program can also view  */ 01161000
*/*             this field as a time stamp that indicates when the   */ 01162000
*/*             CPMF last evaluated the corresponding                */ 01163000
*/*             CPMB_CUM_CHP_BUSY field. The monitoring program can  */ 01164000
*/*             only use this field to calculate time intervals      */ 01165000
*/*             between measurements for this channel path.          */ 01166000
*/*             Timestamps for separate entries are independent.     */ 01167000
*/*             This field's initial value is unpredictable either   */ 01168000
*/*             when the CPMB_CUM_CHP_BUSY field changes from        */ 01169000
*/*             negative to positive or when the system activates or */ 01170000
*/*             reactivates the CPMF.  After the value in this       */ 01171000
*/*             field reaches approximately 35.79 minutes,   @YA58186*/ 01172000
*/*             it wraps around to zero with no alert, and the CPMF  */ 01173000
*/*             continues to accumulate total elapsed measurement    */ 01174000
*/*             time for this channel path.                      @D1A*/ 01175000
*/*                                                                  */ 01176000
*/********************************************************************/ 01177000
*DCL 1 CPMB_CHP_ENTRY BASED,          /* A channel path measurement     01178000
*                                        entry                   @D1A*/ 01179000
*     3 CPMB_CUM_CHP_BUSY FIXED(31),  /* Cumulative channel path        01180000
*                                        busy.                   @D1A*/ 01181000
*      5 CPMB_CHP_ENTRY_NOT_VALID BIT(1), /* Validity flag for the CHP  01182000
*                                        entry.                         01183000
*                                            0 - Entry is valid.        01184000
*                                            1 - Entry is not valid.    01185000
*                                                                @D1A*/ 01186000
*      5 * BIT(31),                   /* CHP busy count data     @D1A*/ 01187000
*     3 CPMB_CHP_FLAGS BIT(8),        /* Flags.                  @D1A*/ 01188000
*      5 CPMB_SHARED_CHANNEL BIT(1),   /* Shared Channel Indicator.     01189000
*                                          1 - The channel is shared.   01190000
*                                          0 - The channel is unshared. 01191000
*                                                                @D1A*/ 01192000
*      5 * BIT(7),                     /* Reserved               @D1A*/ 01193000
*     3 CPMB_CUM_CHP_TIME FIXED(24);   /* Cumulative channel path       01194000
*                                         elapsed time.          @D1A*/ 01195000
*                                                                       01196000
*/********************************************************************/ 01197000
*/*                                                                  */ 01198000
*/* Channel Measurement Characteristics for Extended CPMF Data       */ 01199000
*/*                                                                  */ 01200000
*/*      CMC2CMG                                                     */ 01201000
*/*        Channel-Measurement Group (CMG):  Byte 3 of word 1        */ 01202000
*/*        contains a binary value that specifies the                */ 01203000
*/*        measurement group to which the specified CHPID            */ 01204000
*/*        belongs.  This value  determines  the  contents  and      */ 01205000
*/*        format  of  the  CMG-dependent                            */ 01206000
*/*        channel-measurement-characteristics  area,  and the       */ 01207000
*/*        format and contents of the channel-utilization entry      */ 01208000
*/*        for the  associated  channel  path,  in  the              */ 01209000
*/*        channel-utilization     block.                            */ 01210000
*/*                                                          @WA38548*/ 01211000
*/********************************************************************/ 01212000
*DCL 1 CMC2 CHAR(8192) BDY(DWORD) BASED(CMCTCMC2),/* Channel            01213000
*                                        Measurement Characteristics    01214000
*                                        for CPM2            @WA38548*/ 01215000
*      3 CMC2ChanMeasurementCharBlock(0:255) CHAR(32) BDY(HWORD), /*    01216000
*                                         Channel Measurement           01217000
*                                         Characterisitics Block        01218000
*                                                            @OA22918*/ 01219000
*        5 CMC2Flags     BIT(8),       /* Channel Measurement           01220000
*                                         Characterisitics Flags        01221000
*                                                            @WA38548*/ 01222000
*          7 CMC2NotValid    BIT(1),   /* Not Valid - when 0 indicates  01223000
*                                         that information is provided  01224000
*                                         in this CMC block  @WA38548*/ 01225000
*          7 CMC2SharedCHPID BIT(1),   /* Shared channel path           01226000
*                                                            @WA38548*/ 01227000
*          7 CMC2ExtSupport BIT(1),    /* When 1 indicates that         01228000
*                                         extended-channel measurements 01229000
*                                         are supported      @OA22918*/ 01230000
*          7 *           BIT(5),       /* Reserved           @OA22918*/ 01231000
*        5 *             CHAR(2),      /* Reserved           @WA38548*/ 01232000
*        5 CMC2CHPID     FIXED(8),     /* Channel path ID    @WA38548*/ 01233000
*        5 CMC2MaskByte  BIT(8),       /* Mask               @WA38548*/ 01234000
*          7 CMC2CMCValidityMask BIT(5), /* CMC Validity mask,          01235000
*                                         bits 0-4 correspond to words  01236000
*                                         3-7 of the channel            01237000
*                                         measurements characteristics  01238000
*                                         block.  When 1, the           01239000
*                                         corresponding word has        01240000
*                                         meaning            @WA38548*/ 01241000
*          7 *           BIT(3),       /* Reserved           @WA38548*/ 01242000
*        5 CMC2Misc      BIT(8),       /*                    @ME24208*/ 01243000
*          7 *             BIT(4),     /* Reserved           @ME24208*/ 01244000
*          7 CMC2CMGP      BIT(4),     /* Channel measurement group     01245000
*                                         power. When non-zero, the     01246000
*                                         CMC2SPEED value has to be     01247000
*                                         multiplied by the factor      01248000
*                                         10 to the power of CMC2CMGP   01249000
*                                         to get the speed in units of  01250000
*                                         bits per second.   @ME24208*/ 01251000
*        5 CMC2CMGQ      FIXED(8),     /* Channel measurement group     01252000
*                                         qualifier              @Q2A*/ 01253000
*        5 CMC2CMG       FIXED(8),     /* Channel measurement group     01254000
*                                         for this CHPID     @WA38548*/ 01255000
*        5 *             CHAR(2),      /* Reserved           @OA22918*/ 01256000
*        5 CMC2SPEED     FIXED(16),    /* Channel speed. If CMC2CMGP    01257000
*                                         is zero, the value is the     01258000
*                                         channel speed in units of     01259000
*                                         100 megabits per second.      01260000
*                                         Otherwise, the value must be  01261000
*                                         multiplied by 10**CMC2CMGP    01262000
*                                         to get the speed in units of  01263000
*                                         bits per second.   @ME24208*/ 01264000
*        5 CMC2DATA      CHAR(20);     /* Channel measurement           01265000
*                                         characteristics data          01266000
*                                                            @WA38548*/ 01267000
*                                                                       01268000
*/********************************************************************/ 01269000
*/*                                                                  */ 01270000
*/* Values for the CMC2CMG field, the channel measurement group      */ 01271000
*/* types.                                                           */ 01272000
*/*                                                          @WA38548*/ 01273000
*/********************************************************************/ 01274000
*  DCL CMCCMG1 Fixed(8) Constant(1),   /* Channel Measurement Group     01275000
*                                         one                @WA38548*/ 01276000
*      CMCCMG2 Fixed(8) Constant(2),   /* Channel Measurement Group     01277000
*                                         two                @WA38548*/ 01278000
*      CMCCMG3 Fixed(8) Constant(3);   /* Channel Measurement Group     01279000
*                                         three                  @Q1A*/ 01280000
*                                                                       01281000
*                                                                       01282000
*/********************************************************************/ 01283000
*/*                                                                  */ 01284000
*/* The CMC2DATA field is not valid for any Channel Measurement      */ 01285000
*/* Group (CMC2CMG) other than 2 or 3                                */ 01286000
*/*                                                              @Q1A*/ 01287000
*/********************************************************************/ 01288000
*                                                                       01289000
*/********************************************************************/ 01290000
*/*                                                                  */ 01291000
*/* CMC2CMG2 maps the CMC2DATA field when the Channel Measurement    */ 01292000
*/* Group (CMC2CMG) for this CHPID is 2.                             */ 01293000
*/*                                                                  */ 01294000
*/*      CMC2MaxBusyCycles                                           */ 01295000
*/*        Maximum Bus Cycles:  Word 3 Contains an unsigned          */ 01296000
*/*        binary integer specifying the  maximum  internal bus      */ 01297000
*/*        cycles per second, available for I/O operations on        */ 01298000
*/*        the specified channel path.                               */ 01299000
*/*                                                                  */ 01300000
*/*      CMC2MaxChannelWorkUnits                                     */ 01301000
*/*        Maximum Channel Work Units:  Word 4 contains an           */ 01302000
*/*        unsigned  binary  integer specifying  the maximum         */ 01303000
*/*        number of channel work units that can be performed        */ 01304000
*/*        per second by the specified channel path.                 */ 01305000
*/*                                                                  */ 01306000
*/*      CMC2MaxWriteDataUnits                                       */ 01307000
*/*        Maximum Write Data Units:  Word 5  contains  an           */ 01308000
*/*        unsigned  binary  integer specifying the maximum          */ 01309000
*/*        number of data units that can be written per second       */ 01310000
*/*        using the specified channel path.                         */ 01311000
*/*                                                                  */ 01312000
*/*      CMC2MaxReadDataUnits                                        */ 01313000
*/*        Maximum  Read  Data  Units:   Word  6  contains an        */ 01314000
*/*        unsigned binary integer specifying the maximum            */ 01315000
*/*        number of data units that can be  read  per  second       */ 01316000
*/*        using the specified channel path.                         */ 01317000
*/*                                                                  */ 01318000
*/*      CMC2DataUnitSize                                            */ 01319000
*/*        Data  Unit  Size:   Word  7  contains  an  unsigned       */ 01320000
*/*        nonzero binary integer specifying the number of           */ 01321000
*/*        bytes of data that are contained in a  data  unit         */ 01322000
*/*        for the specified channel path.                           */ 01323000
*/*                                                          @WA38548*/ 01324000
*/********************************************************************/ 01325000
*DCL 1 CMC2CMG2 CHAR(20) BDY(WORD) BASED,/* Channel Measurement         01326000
*                                         Characteristics for channel   01327000
*                                         measurement group 2           01328000
*                                                            @WA38548*/ 01329000
*      3 CMC2MaxBusCycles Fixed(32),       /* Maximum bus cycles        01330000
*                                         per second         @WA38548*/ 01331000
*      3 CMC2MaxChannelWorkUnits Fixed(32),/* Maximum channel work      01332000
*                                             units per second          01333000
*                                                            @WA38548*/ 01334000
*      3 CMC2MaxWriteDataUnits Fixed(32),  /* Maximum write data units  01335000
*                                         per second         @WA38548*/ 01336000
*      3 CMC2MaxReadDataUnits  Fixed(32),  /* Maximum read data units   01337000
*                                         per second         @WA38548*/ 01338000
*      3 CMC2DataUnitSize      Fixed(32);  /* Data unit size @WA38548*/ 01339000
*                                                                       01340000
*/********************************************************************/ 01341000
*/*                                                                  */ 01342000
*/* CMC2CMG3 maps the CMC2DATA field when the Channel Measurement    */ 01343000
*/* Group (CMC2CMG) for this CHPID is 3.                             */ 01344000
*/*                                                                  */ 01345000
*/*      CMC3DataUnitSize                                            */ 01346000
*/*        Data  Unit  Size:   Word  3  contains  an  unsigned       */ 01347000
*/*        nonzero binary integer specifying the number of           */ 01348000
*/*        bytes of data that are contained in a  data  unit         */ 01349000
*/*        for the specified channel path.                           */ 01350000
*/*        When not valid indicated by CMC2MaskByte              @Q3A*/ 01351000
*/*        the associated count, CMC3DataUnitsSent, is a count   @Q3A*/ 01352000
*/*        of bytes.                                             @Q3A*/ 01353000
*/*                                                                  */ 01354000
*/*      CMC3DataUnitSizeCPC                                     @Q3A*/ 01355000
*/*        Data Unit Size (CPC): Word 4 contains an unsigned     @Q3A*/ 01356000
*/*        binary integer specifying the product of the number   @Q3A*/ 01357000
*/*        of bytes of data that are contained in a data unit    @Q3A*/ 01358000
*/*        for the specified channel path multiplied by a        @Q3A*/ 01359000
*/*        model-dependent scaling factor.                       @Q3A*/ 01360000
*/*        When not valid indicated by CMC2MaskByte              @Q3A*/ 01361000
*/*        the associated count, CMC3DataUnitsSentCPC, is a      @Q3A*/ 01362000
*/*        count of data units whose size is determined from     @Q3A*/ 01363000
*/*        word 3, CMC3DataUnitSize.                             @Q3A*/ 01364000
*/*                                                                  */ 01365000
*/*      CMC3MessageUnitSize                                     @Q3A*/ 01366000
*/*        Message Unit Size: Word 5 contains an unsigned        @Q3A*/ 01367000
*/*        binary integer specifying the number of bytes that    @Q3A*/ 01368000
*/*        are contained in a message unit for the specified     @Q3A*/ 01369000
*/*        channel path.                                         @Q3A*/ 01370000
*/*        When not valid indicated by CMC2MaskByte              @Q3A*/ 01371000
*/*        the associated count, CMC3MessageUnitsSent, is a      @Q3A*/ 01372000
*/*        count of bytes.                                       @Q3A*/ 01373000
*/*                                                                  */ 01374000
*/*      CMC3MessageUnitSizeCPC                                  @Q3A*/ 01375000
*/*        Message Unit Size (CPC): Word 6 contains an unsigned  @Q3A*/ 01376000
*/*        binary integer specifying the product of the number   @Q3A*/ 01377000
*/*        of bytes that are contained in a message unit for     @Q3A*/ 01378000
*/*        the specified channel path multiplied by a            @Q3A*/ 01379000
*/*        model-dependent scaling factor.                       @Q3A*/ 01380000
*/*        When not valid indicated by CMC2MaskByte              @Q3A*/ 01381000
*/*        the associated count, CMC3MessageUnitsSentCPC, is a   @Q3A*/ 01382000
*/*        count of message units whose size is determined from  @Q3A*/ 01383000
*/*        word 5, CMC3MessageUnitSize.                          @Q3A*/ 01384000
*/*                                                              @Q1A*/ 01385000
*/********************************************************************/ 01386000
*DCL 1 CMC2CMG3 CHAR(20) BDY(WORD) BASED,/* Channel Measurement         01387000
*                                         Characteristics for channel   01388000
*                                         measurement group 3           01389000
*                                                                @Q1A*/ 01390000
*      3 CMC3DataUnitSize      Fixed(32),  /* Data unit size     @Q1A*/ 01391000
*      3 CMC3DataUnitSizeCPC   Fixed(32),  /* Data unit size CPC        01392000
*                                                                @Q3A*/ 01393000
*      3 CMC3MessageUnitSize Fixed(32),    /* Message unit size  @Q3A*/ 01394000
*      3 CMC3MessageUnitSizeCPC Fixed(32), /* Message unit size         01395000
*                                             CPC                @Q3A*/ 01396000
*      3 *                     CHAR(4);    /* Reserved           @Q3A*/ 01397000
*                                                                       01398000
*/********************************************************************/ 01399000
*/*                                                                  */ 01400000
*/* Channel Measurement Block Extended (format 2).                   */ 01401000
*/*                                                                  */ 01402000
*/*        CPM2ChannelUtilizationEntryInfoValityMask                 */ 01403000
*/*          Channel-Utilization-Information  Validity  (CUIV):      */ 01404000
*/*          Byte  0  of  word   0 contains  a  map  that            */ 01405000
*/*          applies to the contents of the channel-utilization      */ 01406000
*/*          entry.    The  bits  of  the  CUIV  map  indicate       */ 01407000
*/*          which  words   of   the channel-utilization entry       */ 01408000
*/*          contain valid channel-utilization information.  Bits    */ 01409000
*/*          0-7   of   the   CUIV   field   correspond  to          */ 01410000
*/*          words  0-7  of  the channel-utilization entry,          */ 01411000
*/*          respectively. A special  case  is  that  bit  0         */ 01412000
*/*          corresponds  to  bytes 1-3 of word 0 (the contents      */ 01413000
*/*          of byte 0 of word 0 are always valid).   When one, a    */ 01414000
*/*          bit of the  CUIV  field  indicates  that  the           */ 01415000
*/*          corresponding  word  contains  valid                    */ 01416000
*/*          channel-utilization information. When zero, a bit of    */ 01417000
*/*          the CUIV field indicates that the corresponding         */ 01418000
*/*          word  does not contain valid channel-utilization        */ 01419000
*/*          information.                                            */ 01420000
*/*                                                                  */ 01421000
*/*        CPM2TimeStamp                                             */ 01422000
*/*          Time-stamp:   Bits  8-31  of  word  0  contain  a       */ 01423000
*/*          time-stamp  value  that identifies when                 */ 01424000
*/*          channel-utilization information was last  stored  in    */ 01425000
*/*          this channel-utilization  entry.    The time-stamp      */ 01426000
*/*          is based on a 24 bit channel subsystem timer that is    */ 01427000
*/*          incremented by adding one  to  the  rightmost  bit      */ 01428000
*/*          position  every 128 microseconds.  The accumulated      */ 01429000
*/*          value of the time-stamp is approximately modulo         */ 01430000
*/*          35.79 minutes and the program is not alerted  when      */ 01431000
*/*          an overflow occurs.  Each   channel-utilization         */ 01432000
*/*          entry   is  updated  independently  of  other           */ 01433000
*/*          channel-utilization entries. Therefore, each            */ 01434000
*/*          time-stamp  applies  only  to the                       */ 01435000
*/*          channel-utilization entry that contains it.  The        */ 01436000
*/*          initial value of the time-stamp is unpredictable.       */ 01437000
*/*                                                          @WA38548*/ 01438000
*/********************************************************************/ 01439000
*DCL 1 CPM2 CHAR(8192) BDY(DWORD) BASED(CMCTCPM2),/* Channel Path       01440000
*                                        Measurement Block - format 2   01441000
*                                                            @WA38548*/ 01442000
*      3 CPM2ChannelUtilizationEntry(0:255) Bdy(DWORD) CHAR(32), /*     01443000
*                                         Channel Utilization Entry     01444000
*                                                            @WA38548*/ 01445000
*        5 CPM2ChannelUtilInfoValityMask BIT(8), /*                     01446000
*                                         Channel utilization info      01447000
*                                         validity mask, bit positions  01448000
*                                         0-7 correspond to words 0-7   01449000
*                                         of this channel utilization   01450000
*                                         entry              @WA38548*/ 01451000
*        5 CPM2TimeStamp Fixed(24),    /* Time stamp indicating when    01452000
*                                         data was last stored in this  01453000
*                                         CUE, 128 microsecond          01454000
*                                         granularity        @WA38548*/ 01455000
*        5 CPM2DATA  CHAR(28);         /* Channel measurement group     01456000
*                                         data               @WA38548*/ 01457000
*                                                                       01458000
*/********************************************************************/ 01459000
*/*                                                                  */ 01460000
*/* CMG1 maps the CPM2DATA field when the Channel Measurement Group  */ 01461000
*/* (CMG) for this CHPID is 1.                                       */ 01462000
*/*                                                                  */ 01463000
*/*      CMG1TotalChannelBusyTime                                    */ 01464000
*/*        Channel-Path-Busy  Time  (CPC):   Bits  0-31  of          */ 01465000
*/*        word   1   contain   the accumulation   of   all          */ 01466000
*/*        measured  channel-path-busy  intervals  for  the          */ 01467000
*/*        associated channel path.  The channel path is busy        */ 01468000
*/*        when  it  is  actively communicating with an              */ 01469000
*/*        attached control unit or device.  When  the CPC is        */ 01470000
*/*        operating in LPAR mode, the CPBT value in word 1          */ 01471000
*/*        includes the channel-path intervals associated with       */ 01472000
*/*        all of the  logical  partitions that have access to       */ 01473000
*/*        the associated channel path.  The  time  intervals        */ 01474000
*/*        are stored into the channel-utilization entry using       */ 01475000
*/*        a resolution of 128 microseconds.   The accumulated       */ 01476000
*/*        value  is  approximately modulo  76.36  hours,  and       */ 01477000
*/*        the  program  is  not alerted when an overflow            */ 01478000
*/*        occurs.  The initial value in word 1 is                   */ 01479000
*/*        unpredictable.                                            */ 01480000
*/*                                                                  */ 01481000
*/*      CMG1LparChannelBusyTime                                     */ 01482000
*/*        Channel-Path-Busy Time:  When the CPC is operating        */ 01483000
*/*        in LPAR mode, bits 0-31 of word 2 contain the             */ 01484000
*/*        accumulation of measured channel-path-busy intervals      */ 01485000
*/*        for the associated channel path.  The accumulation        */ 01486000
*/*        only includes intervals that are associated with the      */ 01487000
*/*        logical partition that  has  access  to  this             */ 01488000
*/*        channel  utilization block.   The channel path is         */ 01489000
*/*        busy when it is actively communicating with an            */ 01490000
*/*        attached control unit or device.  When the CPC is         */ 01491000
*/*        operating in basic mode, the contents of word 2 have      */ 01492000
*/*        no meaning and bit 2 of the Channel Utilization           */ 01493000
*/*        Information Validity Mask is zero.                        */ 01494000
*/*                                                          @WA38548*/ 01495000
*/********************************************************************/ 01496000
*DCL 1 CPM2CMG1 CHAR(28) BDY(WORD) BASED,/* Channel Measurement Group 1 01497000
*                                                            @WA38548*/ 01498000
*      3 CMG1TotalChannelBusyTime Fixed(32),/* Channel Path Busy Time,  01499000
*                                         total for the CHPID           01500000
*                                                            @WA38548*/ 01501000
*      3 CMG1LparChannelBusyTime  Fixed(32),/* Channel Path Busy Time,  01502000
*                                         just for this LPAR @WA38548*/ 01503000
*      3 *               CHAR(20);     /* Reserved           @WA38548*/ 01504000
*                                                                       01505000
*/********************************************************************/ 01506000
*/*                                                                  */ 01507000
*/* CMG2 maps the CPM2DATA field when the Channel Measurement Group  */ 01508000
*/* (CMG) for this CHPID is 2.                                       */ 01509000
*/*                                                                  */ 01510000
*/*      CMG2TotalBusCycleCount                                      */ 01511000
*/*        Count of Bus Cycles (CPC):  Word 1 Contains an            */ 01512000
*/*        unsigned binary  integer that  is  an accumulated         */ 01513000
*/*        count of the internal bus cycles that have been           */ 01514000
*/*        used for I/O operations on the associated channel         */ 01515000
*/*        path.  When  the  count reaches 2(32)-1 it wraps          */ 01516000
*/*        back to zero.  When  the  CPC  is operating in LPAR       */ 01517000
*/*        mode, the count includes the internal bus cycles          */ 01518000
*/*        that were used for I/O operations for  all  logical       */ 01519000
*/*        partitions that have access to the associated             */ 01520000
*/*        channel path.                                             */ 01521000
*/*                                                                  */ 01522000
*/*      CMG2TotalChannelWorkUnitCount                               */ 01523000
*/*        Count  of  Channel  Work  Units (CPC):  Word 2            */ 01524000
*/*        contains an unsigned binary integer that is an            */ 01525000
*/*        accumulated count of the number of channel  work          */ 01526000
*/*        units that  have  been performed by the associated        */ 01527000
*/*        channel path.  When the count reaches 2(32)-1 it          */ 01528000
*/*        wraps back to zero.  When the CPC is operating in         */ 01529000
*/*        LPAR mode, the  count  includes  the  channel work        */ 01530000
*/*        units that were performed for all logical partitions      */ 01531000
*/*        that have access to the associated channel path.          */ 01532000
*/*                                                                  */ 01533000
*/*      CMG2LparChannelWorkUnitCount                                */ 01534000
*/*        Count of Channel Work Units:  When the CPC is             */ 01535000
*/*        operating in LPAR mode, word 3  contains an unsigned      */ 01536000
*/*        binary integer that is an accumulated count of the        */ 01537000
*/*        number of channel work units that have been               */ 01538000
*/*        performed  by  the  associated channel  path.  When       */ 01539000
*/*        the count reaches 2(32)-1 it wraps back to zero.          */ 01540000
*/*        The count includes only the channel work units that       */ 01541000
*/*        were  performed  for  the logical partition that has      */ 01542000
*/*        access to this channel utilization block.  When  the      */ 01543000
*/*        CPC  is operating in basic mode, the contents of          */ 01544000
*/*        word 3 have no meaning and bit 3 of the Channel           */ 01545000
*/*        Utilization Information Validity Mask is zero.            */ 01546000
*/*                                                                  */ 01547000
*/*      CMG2TotalWriteDataUnits                                     */ 01548000
*/*        Count of Data Units Written (CPC):  Word 4  contains      */ 01549000
*/*        an  unsigned  binary integer that is an accumulated       */ 01550000
*/*        count of the number of data units that have been          */ 01551000
*/*        written  using  the associated channel path.  When        */ 01552000
*/*        the count reaches 2(32)-1 it wraps back to zero.          */ 01553000
*/*        The channel-measurement-characteristics block for         */ 01554000
*/*        the  associated  channel path specifies the number        */ 01555000
*/*        of bytes contained in a data unit.  When  the CPC is      */ 01556000
*/*        operating in LPAR mode, the count includes the data       */ 01557000
*/*        units that were written for all logical  partitions       */ 01558000
*/*        that  have  access  to  the associated channel path.      */ 01559000
*/*                                                                  */ 01560000
*/*      CMG2LparWriteDataUnits                                      */ 01561000
*/*        Count of Data Units Written:  When the CPC is             */ 01562000
*/*        operating in LPAR mode, word 5  contains an unsigned      */ 01563000
*/*        binary integer that is an accumulated count of the        */ 01564000
*/*        number of data units that have been written using         */ 01565000
*/*        the  associated  channel path.    When  the count         */ 01566000
*/*        reaches 2(32)-1 it wraps back to zero.  The count         */ 01567000
*/*        includes only the data units that were written for        */ 01568000
*/*        the  logical  partition that has access to this           */ 01569000
*/*        channel-utilization block.  When  the  CPC  is            */ 01570000
*/*        operating in basic mode, the contents of word 5 have      */ 01571000
*/*        no meaning and bit 5 of the Channel Utilization           */ 01572000
*/*        Information Validity Mask is zero.                        */ 01573000
*/*                                                                  */ 01574000
*/*      CMG2TotalReadDataUnits                                      */ 01575000
*/*        Count of Data Units Read  (CPC):   Word  6  contains      */ 01576000
*/*        an  unsigned  binary integer that is an accumulated       */ 01577000
*/*        count of the number of data units that have been          */ 01578000
*/*        read  using  the  associated  channel path.   When        */ 01579000
*/*        the count reaches 2(32)-1 it wraps back to zero.          */ 01580000
*/*        The channel-measurement-characteristics block for         */ 01581000
*/*        the  associated  channel path specifies the number        */ 01582000
*/*        of bytes contained in a data unit.  When  the CPC is      */ 01583000
*/*        operating in LPAR mode, the count includes the data       */ 01584000
*/*        units that were read  for  all  logical  partitions       */ 01585000
*/*        that  have  access  to  the associated channel path.      */ 01586000
*/*                                                                  */ 01587000
*/*      CMG2LparReadDataUnits                                       */ 01588000
*/*        Count  of Data Units Read:  When the CPC is               */ 01589000
*/*        operating in LPAR mode, word 7 contains an unsigned       */ 01590000
*/*        binary integer that is an accumulated  count  of          */ 01591000
*/*        the number  of  data  units  that  have been read         */ 01592000
*/*        using the associated channel path.  When the count        */ 01593000
*/*        reaches 2(32)-1 it wraps back to zero.    The  count      */ 01594000
*/*        includes only the data units that were read for the       */ 01595000
*/*        logical partition that has access to this                 */ 01596000
*/*        channel-utilization block.  When  the  CPC  is            */ 01597000
*/*        operating in basic mode, the contents of word 7 have      */ 01598000
*/*        no meaning and bit 7 of the Channel Utilization           */ 01599000
*/*        Information Validity Mask is zero.                        */ 01600000
*/*                                                                  */ 01601000
*/*                                                          @WA38548*/ 01602000
*/********************************************************************/ 01603000
*                                                                       01604000
*DCL 1 CPM2CMG2 CHAR(28) BDY(WORD) BASED,/* Channel Measurement Group 2 01605000
*                                                            @WA38548*/ 01606000
*      3 CMG2TotalBusCycleCount Fixed(32),/* Count of Bus Cycles,       01607000
*                                         total for the CHPID           01608000
*                                                            @WA38548*/ 01609000
*      3 CMG2TotalChannelWorkUnitCount Fixed(32),   /*                  01610000
*                                         Count of Channel Work Units,  01611000
*                                         total for the CHPID           01612000
*                                                            @WA38548*/ 01613000
*      3 CMG2LparChannelWorkUnitCount  Fixed(32),   /*                  01614000
*                                         Count of Channel Work Units,  01615000
*                                         just for this LPAR @WA38548*/ 01616000
*      3 CMG2TotalWriteDataUnits  Fixed(32),        /*                  01617000
*                                         Count of Data Units Written,  01618000
*                                         total for the CHPID           01619000
*                                                            @WA38548*/ 01620000
*      3 CMG2LparWriteDataUnits   Fixed(32),        /*                  01621000
*                                         Count of Data Units Written,  01622000
*                                         just for this LPAR @WA38548*/ 01623000
*      3 CMG2TotalReadDataUnits   Fixed(32),        /*                  01624000
*                                         Count of Data Units Read,     01625000
*                                         total for the CHPID           01626000
*                                                            @WA38548*/ 01627000
*      3 CMG2LparReadDataUnits    Fixed(32);        /*                  01628000
*                                         Count of Data Units Read,     01629000
*                                         just for this LPAR @WA38548*/ 01630000
*                                                                       01631000
*/********************************************************************/ 01632000
*/*                                                                  */ 01633000
*/* CMG3 maps the CPM2DATA field when the Channel Measurement Group  */ 01634000
*/* (CMG) for this CHPID is 3.                                       */ 01635000
*/*                                                                  */ 01636000
*/*      CMG3MessageUnitsSent                                    @Q3A*/ 01637000
*/*        Message Units Sent: Word 1 contains an unsigned       @Q3A*/ 01638000
*/*        binary integer that is an accumulated count of the    @Q3A*/ 01639000
*/*        number of message units that have been sent by        @Q3A*/ 01640000
*/*        programs, in the issuing logical partition, when      @Q3A*/ 01641000
*/*        using the associated channel path.                    @Q3A*/ 01642000
*/*                                                                  */ 01643000
*/*      CMG3MessageUnitsSentCPC                                 @Q3A*/ 01644000
*/*        Message Units Sent (CPC): Word 2 contains an unsigned @Q3A*/ 01645000
*/*        binary integer that is an accumulated count of the    @Q3A*/ 01646000
*/*        number of message units that have been sent when      @Q3A*/ 01647000
*/*        using the associated channel path. The count includes @Q3A*/ 01648000
*/*        messages sent for all logical partitions that have    @Q3A*/ 01649000
*/*        access to the associated channel path.                @Q3A*/ 01650000
*/*                                                                  */ 01651000
*/*      CMG3UnsuccAttemptsToSend                                    */ 01652000
*/*        Unsuccessful Attempts to Send: Word 3 contains an         */ 01653000
*/*        unsigned binary integer that is an accumulated            */ 01654000
*/*        count of the number of unsuccessful attempts to send      */ 01655000
*/*        messages by programs in the issuing logical partition     */ 01656000
*/*        when using the associated channel path.                   */ 01657000
*/*        This count includes all unsuccessful attempts to send     */ 01658000
*/*        messages except when the attempt failed due to an         */ 01659000
*/*        unavailable buffer in the receiving logical partition.    */ 01660000
*/*                                                                  */ 01661000
*/*      CMG3UnavailReceiveBuffers                                   */ 01662000
*/*        Unavailable Receive Buffers: Word 4 contains an           */ 01663000
*/*        unsigned  binary integer that is an accumulated           */ 01664000
*/*        count of the number of times messages sent to the         */ 01665000
*/*        issuing partition failed due to unavailable receive       */ 01666000
*/*        buffers in the issuing logical partition.                 */ 01667000
*/*                                                                  */ 01668000
*/*      CMG3UnavailReceiveBuffersCPC                                */ 01669000
*/*        Unavailable Receive BuffersCPC: Word 5 contains an        */ 01670000
*/*        unsigned  binary integer that is an accumulated           */ 01671000
*/*        count of the number of times messages sent to the         */ 01672000
*/*        target partition failed due to unavailable receive        */ 01673000
*/*        buffers in the target logical partition.                  */ 01674000
*/*        The count includes all unsuccessful attempts by           */ 01675000
*/*        programs in all logical partitions that have access       */ 01676000
*/*        to the associated channel path.                           */ 01677000
*/*                                                                  */ 01678000
*/*      CMG3DataUnitsSent                                           */ 01679000
*/*        Data Units Sent: Word 6 contains an unsigned binary       */ 01680000
*/*        integer that is an accumulated count of the number        */ 01681000
*/*        of data units that have been sent by programs in the      */ 01682000
*/*        issuing logical partition when using the associated       */ 01683000
*/*        channel path.                                             */ 01684000
*/*                                                                  */ 01685000
*/*      CMG3DataUnitsSentCPC                                        */ 01686000
*/*        Data Units Sent (CPC): Word 7 contains an unsigned        */ 01687000
*/*        binary integer that is an accumulated count of the        */ 01688000
*/*        number of data units that have been sent using the        */ 01689000
*/*        associated channel path. The count includes all data      */ 01690000
*/*        units sent by all logical partitions that have access     */ 01691000
*/*        to the associated channel path.                           */ 01692000
*/*                                                              @Q1A*/ 01693000
*/********************************************************************/ 01694000
*                                                                       01695000
*DCL 1 CPM2CMG3 CHAR(28) BDY(WORD) BASED,/* Channel Measurement         01696000
*                                           Group 3              @Q1A*/ 01697000
*      3 CMG3MessageUnitsSent Fixed(32), /* Count of message units      01698000
*                                           sent by programs            01699000
*                                                                @Q3A*/ 01700000
*      3 CMG3MessageUnitsSentCPC Fixed(32), /* Count of message         01701000
*                                           units sent by programs      01702000
*                                           from all logical            01703000
*                                           partitions using            01704000
*                                           this channel path           01705000
*                                                                @Q3A*/ 01706000
*      3 CMG3UnsuccAttemptsToSend Fixed(32), /* Unsuccessful attempts   01707000
*                                           to send messages except     01708000
*                                           when the attempts failed    01709000
*                                           due to                      01710000
*                                           unavailable buffers in the  01711000
*                                           receiving log. partition    01712000
*                                                                @Q3A*/ 01713000
*      3 CMG3UnavailReceiveBuffers Fixed(32), /* Count of unavailable   01714000
*                                           receive buffers in the      01715000
*                                           issuing partition           01716000
*                                                                @Q1A*/ 01717000
*      3 CMG3UnavailReceiveBuffersCPC Fixed(32), /* Unavailable         01718000
*                                           receive buffers in the      01719000
*                                           target partition including  01720000
*                                           all unsucc. attempts from   01721000
*                                           all partitions using the    01722000
*                                           channel path                01723000
*                                                                @Q1A*/ 01724000
*      3 CMG3DataUnitsSent Fixed(32),    /* Number of data units sent   01725000
*                                           by programs in the issuing  01726000
*                                           logical partition           01727000
*                                                                @Q1A*/ 01728000
*      3 CMG3DataUnitsSentCPC Fixed(32); /* Number of data units sent   01729000
*                                           by all logical partitions   01730000
*                                           which have access to the    01731000
*                                           channel path                01732000
*                                                                @Q1A*/ 01733000
*                                                                       01734000
*/********************************************************************/ 01735000
*/*                                                                  */ 01736000
*/* Extended Channel Utilization block.                      @OA22918*/ 01737000
*/*                                                                  */ 01738000
*/*    The extended-channel-utilization block contains 256,          */ 01739000
*/*    16-word channel-utilization entries corresponding to          */ 01740000
*/*    CHPIDs 0-255, in sequential order.                            */ 01741000
*/*                                                                  */ 01742000
*/********************************************************************/ 01743000
*DCL 1 CPMX CHAR(16384) BDY(DWORD) BASED(CMCTCPMX),/* Extended          01744000
*                                         Channel Utilization Block     01745000
*                                                            @OA22918*/ 01746000
*      3 CPMXChannelUtilizationEntry(0:255) Bdy(DWORD) CHAR(64), /*     01747000
*                                         Extended Channel              01748000
*                                         Utilization Entry  @OA22918*/ 01749000
*        5 CPMXDATA  CHAR(64);         /* Extended channel measurement  01750000
*                                         group data         @OA22918*/ 01751000
*                                                                       01752000
*/********************************************************************/ 01753000
*/*                                                                  */ 01754000
*/* The CPMXDATA field is not valid for any Channel Measurement      */ 01755000
*/* Group (CMC2CMG) other than 2                                     */ 01756000
*/*                                                          @OA22918*/ 01757000
*/********************************************************************/ 01758000
*                                                                       01759000
*/********************************************************************/ 01760000
*/*                                                                  */ 01761000
*/* CPMXCMG2 maps the CPMXDATA field when the Channel Measurement    */ 01762000
*/* Group (CMC2CMG) for this CHPID is 2.                             */ 01763000
*/*                                                                  */ 01764000
*/*      CPMXTotalCountOps                                           */ 01765000
*/*        Total Count of FICON command-mode Operations (CPC):       */ 01766000
*/*        Word 0 contains an unsigned binary integer that specifies */ 01767000
*/*        the total number of FICON command-mode operations that    */ 01768000
*/*        have been attempted by the channel.                       */ 01769000
*/*        Each time a FICON command-mode device-level operation,    */ 01770000
*/*        excluding device reconnections but including device-level */ 01771000
*/*        control operations, or a FICON link-level operation is    */ 01772000
*/*        initiated, the channel increments this count by one.      */ 01773000
*/*                                                                  */ 01774000
*/*      CPMXTotalCountOpsDeferred                                   */ 01775000
*/*        Total Count of Deferred FICON command-mode                */ 01776000
*/*        Operations (CPC): Word 1 contains a unsigned binary       */ 01777000
*/*        integer that specifies the total number of FICON          */ 01778000
*/*        command-mode operations that could not be initiated       */ 01779000
*/*        the channel due to lack of available resources.           */ 01780000
*/*        Each time the channel receives a request to perform a     */ 01781000
*/*        FICON command-mode operation but does not attempt to      */ 01782000
*/*        initiate the operation due to a lack of resources, the    */ 01783000
*/*        channel increments this count by one.                     */ 01784000
*/*                                                                  */ 01785000
*/*      CPMXSummationCountOps                                       */ 01786000
*/*        Summation Count of FICON command-mode Operations (CPC):   */ 01787000
*/*        Words 2-3 contain a 64-bit unsigned binary integer that   */ 01788000
*/*        contains a summation of the FICON command-mode Operations */ 01789000
*/*        that have been attempted by the channel. When word 0 is   */ 01790000
*/*        incremented, the number of FICON command-mode operations  */ 01791000
*/*        active at the channel, including the one being initiated, */ 01792000
*/*        is added to this field.                                   */ 01793000
*/*                                                                  */ 01794000
*/*                                                                  */ 01795000
*/*      Words 4-7 are reserved and set to zero when no FCX.         */ 01796000
*/*                                                                  */ 01797000
*/*                                                                  */ 01798000
*/*      CPMXTotalCountOpsFCX                                        */ 01799000
*/*        Total Count of FICON Transport-Mode Operations (CPC):     */ 01800000
*/*        Word 4 contains a unsigned binary integer that specifies  */ 01801000
*/*        the total number of FICON transport-mode operations that  */ 01802000
*/*        have been attempted by the channel. Each time a FICON     */ 01803000
*/*        transport-mode device-level operation is initiated, the   */ 01804000
*/*        channel increments this count by one.                     */ 01805000
*/*                                                                  */ 01806000
*/*      CPMXTotalCountOpsDeferredFCX                                */ 01807000
*/*        Total Count of Deferred FICON Transport-Mode              */ 01808000
*/*        Operations (CPC): Word 5 contains a unsigned binary       */ 01809000
*/*        integer that specifies the total number of transport-mode */ 01810000
*/*        operations that could not be initiated by the channel due */ 01811000
*/*        to a lack of available resources. Each time the channel   */ 01812000
*/*        receives a request to perform a FICON transport-mode      */ 01813000
*/*        operation but does not attempt to initiate the operation  */ 01814000
*/*        due to a lack or resources, the channel increments this   */ 01815000
*/*        count by one.                                             */ 01816000
*/*                                                                  */ 01817000
*/*      CPMXSummationCountOpsFCX                                    */ 01818000
*/*        Summation Count of FICON Transport-Mode Operations (CPC): */ 01819000
*/*        Words 6-7 contain a 64-bit unsigned binary integer that   */ 01820000
*/*        indicates the summation of transport-mode operations      */ 01821000
*/*        attempted by the channel. Each time word 4 is incremented,*/ 01822000
*/*        the number of transport-mode operations active at the     */ 01823000
*/*        channel, including the one being initiated, is added to   */ 01824000
*/*        this field.                                               */ 01825000
*/*                                                                  */ 01826000
*/*      Words 8-15 are reserved and set to zero.                    */ 01827000
*/*                                                                  */ 01828000
*/*                                                                  */ 01829000
*/********************************************************************/ 01830000
*DCL 1 CPMXCMG2 CHAR(64) BDY(WORD) BASED,/* CMG=2 extended data         01831000
*                                                            @OA22918*/ 01832000
*      3 CPMXTotalCountOps            Fixed(32), /*          @OA22918*/ 01833000
*      3 CPMXTotalCountOpsDeferred    Fixed(32), /*          @OA22918*/ 01834000
*      3 CPMXSummationCountOps        Char(8),   /*          @OA22918*/ 01835000
*      3 CPMXTotalCountOpsFCX         Fixed(32), /*          @OA22918*/ 01836000
*      3 CPMXTotalCountOpsDeferredFCX Fixed(32), /*          @OA22918*/ 01837000
*      3 CPMXSummationCountOpsFCX     Char(8),   /*          @OA22918*/ 01838000
*      3 CPMXReserved                 Char(32);  /*          @OA22918*/ 01839000
*                                                                       01840000
*/* End of PL/X Source                                               */ 01841000
* %IF IRACPMB_LIST = 'NO' !                                             01842000
*    ZCBPRINT = 'NO' %THEN                                              01843000
* %DO;                                                                  01844000
*   @LIST POP NOECHO;                                                   01845000
* %END;                                                                 01846000
* %END;                                                                 01847000
