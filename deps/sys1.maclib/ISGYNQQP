*                                                                       00001000
* %DCL ISGYNQQP_INCLUDED CHAR EXT;                                      00002000
* %DEACTIVATE ISGYNQQP_INCLUDED;                                        00003000
* %IF ISGYNQQP_INCLUDED = '' %THEN                                      00004000
* %DO;                                                                  00005000
*/* Macro made bi-lingual on 15217. CBGEN compile date 12258         */ 00006000
*% /*                                                                   00007000
         MACRO                                                          00008000
         ISGYNQQP &DSECT=YES,&LIST=YES,&TITLE=YES,&NQQP=YES,           *00009000
               &NQQPRSC_ENTRY=COND                                      00010000
         GBLC  &ISGYNQQP_INCLUDED                                       00011000
         GBLC  &ZCBPRINT                                                00012000
&ISGYNQQP_INCLUDED SETC 'YES'                                           00013000
         AIF   ('&LIST' EQ 'NONE').P0                                   00014000
         AIF   ('&TITLE' EQ 'NO').P5                                    00015000
 TITLE   'ISGYNQQP  - Queued ENQ Exit Parameter List                 '  00016000
.P5      ANOP                                                           00017000
**/ ISGYNQQP_1:;                                                        00018000
*/* START OF SPECIFICATIONS ******************************************* 00019000
*                                                                       00020000
*01* DESCRIPTIVE NAME:  Queued ENQ Exit Parameter List                  00021000
*02*  ACRONYM:  NQQP                                                    00022000
*                                                                       00023000
*01* PROPRIETARY STATEMENT =                                            00024000
*                                                                       00025000
*    LICENSED MATERIALS - PROPERTY OF IBM                               00026000
*    5650-ZOS COPYRIGHT IBM CORP. 2001,2013                             00027000
*                                                                       00028000
*01* STATUS = HBB7790                                                   00029000
*                                                                       00030000
*01* EXTERNAL CLASSIFICATION: PI                                        00031000
*01* END OF EXTERNAL CLASSIFICATION:                                    00032000
*                                                                       00033000
*01* MACRO NAME: ISGYNQQP                                               00034000
*                                                                       00035000
*01* DSECT NAME: NQQP                                                   00036000
*                                                                       00037000
*01* COMPONENT:  Global Resource Serialization (SCSDS)                  00038000
*                                                                       00039000
*01* EYE-CATCHER:  NQQP                                                 00040000
*02*  OFFSET:  0                                                        00041000
*02*  LENGTH:  4                                                        00042000
*                                                                       00043000
*01* STORAGE ATTRIBUTES:                                                00044000
*02*  SUBPOOL:  229 or 215                                              00045000
*02*  KEY:  0                                                           00046000
*02*  RESIDENCY:  Above the 16M line                                    00047000
*                                                                       00048000
*01* SIZE:  LENGTH(NQQP)                                                00049000
*            NQQP          -- X'0060' bytes                             00050000
*            NQQPRSC_ENTRY -- X'0078' bytes                             00051000
*                                                                       00052000
*01* FREQUENCY:  1 per active ENQ, RESERVE, ISGENQ REQUEST=OBTAIN,      00053000
*                and ISGENQ REQUEST=CHANGE request. This includes       00054000
*                both successful and unsuccessful requests. Note        00055000
*                that this exit is only called when either the          00056000
*                ISGNQXITBATCH or ISGNQXITBATCHCND is called for        00057000
*                the same request.                              @L5C    00058000
*                                                                       00059000
*                Note: During an RNL change this exit might be          00060000
*                called multiple times for the same request.            00061000
*                See bit Nqqp_SF1_RedriveForRnlChange for more          00062000
*                details.                                       @L4A    00063000
*                                                                       00064000
*01* CREATED BY: ISGGNX                                         @L3C    00065000
*                                                                       00066000
*01* POINTED TO BY: R1 points to the NQQP on entry to the exit routine  00067000
*                                                                       00068000
*01* SERIALIZATION: N/A                                                 00069000
*                                                                       00070000
*01* FUNCTION:                                                          00071000
*                                                                       00072000
*    The Queued ENQ parameter list is passed to an installation         00073000
*    provided exit routine (installed at the ISGNQXITQUEUED1 or         00074000
*    ISGNQXITQUEUED2 exits) to indicate that all of the elements        00075000
*    have been queued. At the time of the ISGNQXITQUEUED1 exit          00076000
*    local processing has completed and global requests have been       00077000
*    queued to the global processor. When ISGNQXITQUEUED2 is invoked    00078000
*    all requests have been processed. These exits are called just      00079000
*    prior to waiting for contention (for unconditional requests        00080000
*    that have not been promoted) or returning to the ENQ requester.    00081000
*                                                                       00082000
*    The request data presented in this exit are read only.             00083000
*                                                                       00084000
*    Most of the exits that are driven for a request are provided a     00085000
*    unique "request token" which allows the exits to correlate any     00086000
*    required user information between exit callers. For example, the   00087000
*    Nqqp_RD_RequestToken will be the same as the Nqxp_RequestToken if  00088000
*    both the ISGNQXITQUEUED1 and ISGNQXITFAST exits are driven for     00089000
*    the same request.                                                  00090000
*                                                                       00091000
*01* METHOD OF ACCESS: DECLARE NQQPPTR PTR(31)                          00092000
*                      %INCLUDE SYSLIB(ISGYNQQP)                        00093000
*                                                                       00094000
*01* DELETED BY: ISGGNX                                                 00095000
*                                                                       00096000
*01* NOTES: None                                                        00097000
*                                                                       00098000
*02*  DEPENDENCIES:                                                     00099000
*                                                                       00100000
*     The length of a NqbpRsc entry must be the same as the length of a 00101000
*     NqqpRsc entry                                                     00102000
*     The length of a NqbpRname entry must be the same as the length of 00103000
*     a NqqpRname entry                                                 00104000
*                                                                       00105000
*01* DISTRIBUTION LIBRARY: AMACLIB                                      00106000
*                                                                       00107000
*01* CHANGE ACTIVITY:                                                   00108000
*                                                                       00109000
*    $L0=GRSWC   ,HBB7705,010117,PDBD: GRS Wildcard                     00110000
*    $L1=GRSWC   ,HBB7705,010907,PDDV: Add original scope               00111000
*    $P1=64GRS   ,HBB7709,031215,PD2V: Add ISGENQ bit                   00112000
*       =ME01463 ,HBB7730,050808,PDCJ: Fix copyright                    00113000
*    $L2=GRSTOR2 ,HBB7740,060404,PDGA: Storage Constraint Relief II     00114000
*    $L3=GRSTOR2 ,HBB7740,060523,PDBC: Add tokens                       00115000
*    $P2=ME07880 ,HBB7740,060919,PDBC: Sync up RNL descriptions         00116000
*    $P3=ME08369 ,HBB7740,070308,PDFX: Clean up ABENDCd comments        00117000
*    $L4=GRSRSNS ,HBB7750,070403,PDFX: Add more ISGENQ data             00118000
*    $01=OA21410 ,HBB7740,070717,PDRY: Add Nqqp_kRetEcb                 00119000
*    $P2=ME10689 ,HBB7750,070731,PDFY: Clean up comments                00120000
*    $L5=GRSISVCP,HBB7760,070910,PDFX: Create Queued2 exit              00121000
*    $L6=GRSCHNG ,HBB7790,110217,PDFY: Change to shared indication      00122000
*                                                                       00123000
**** END OF SPECIFICATIONS *******************************************/ 00124000
*% /*                                                                   00125000
.P0      ANOP                                                           00126000
         AIF   ('&ZCBPRINT' EQ 'NO').P1                                 00127000
         AIF   ('&LIST' EQ 'YES').P2                                    00128000
.P1      ANOP                                                           00129000
         PUSH  PRINT                                                    00130000
         PRINT OFF                                                      00131000
.P2      ANOP                                                           00132000
         AIF   ('&NQQP' EQ 'NO').L0002                                  00133000
         AIF   ('&DSECT' EQ 'YES').L0003                                00134000
         AIF   ('&NQQP' NE 'YES').L0002                                 00135000
NQQP     DS    0D                                                       00136000
         AGO   .L0004                                                   00137000
.L0003   ANOP                                                           00138000
NQQP     DSECT                                                          00139000
.L0004   ANOP                                                           00140000
NQQP_ID  DS    CL4       Eyecatcher                                     00141000
NQQP_VERSION DS X        Version. See version constants below e.g.     *00142000
                         Nqqp_kVersion#1                                00143000
NQQP_EXITTYPE DS X       Indicates which exit is being called. See     *00144000
                         ExitType constants below e.g.                 *00145000
                         Nqqp_kExitTypeQ1. Valid for Nqqp_Version of   *00146000
                         Nqqp_kVersion#5 or higher.                     00147000
         DS    CL2       Reserved                                       00148000
NQQP_WORKAREA@ DS A      Pointer to a 4K work area, usable by exit     *00149000
                         routines                                       00150000
NQQP_REQUESTDATA DS 0CL56 ENQ request state information, these values  *00151000
                         cannot be changed                              00152000
NQQP_RD_REQUESTTOKEN DS CL16 Unique token identifying the GRS exit     *00153000
                         call processing for the request. If needed,   *00154000
                         all exits driven for this request can use     *00155000
                         this token to identify the same request. See  *00156000
                         the prologue for more information.             00157000
NQQP_RD_ASCB@ DS A       Pointer to requester's ASCB                    00158000
NQQP_RD_TCB@ DS A        Pointer to requester's TCB or directed TCB if *00159000
                         TCB= was specified                             00160000
NQQP_RD_MASID DS H       Request MASID value                            00161000
         DS    CL2       Reserved                                       00162000
NQQP_RD_MTCB DS A        Request MTCB value                             00163000
NQQP_RD_JOBNAME DS CL8   Requester's Jobname                            00164000
NQQP_RD_SYSNAME DS CL8   Requester's Sysname                            00165000
NQQP_RD_NSI@ DS 0A       Requester's next sequential instruction       *00166000
                         address, when ENQ ends, this is address of    *00167000
                         the next instruction in the calling program   *00168000
                         that will be executed                          00169000
NQQP_RD_AMODE31 EQU X'80' When set, ENQ caller is AMODE 31              00170000
         ORG   NQQP_RD_NSI@+4                                           00171000
NQQP_RD_ECB@ DS A        Pointer to original request ECB (set when     *00172000
                         ECB= specified on the request)                 00173000
NQQP_STATEFLAGS DS 0CL4  ENQ request state flags, these values cannot  *00174000
                         be changed                                     00175000
NQQP_STATEFLAGS1 DS 0B   First byte of state flags                      00176000
NQQP_SF1_ENQ EQU X'80'   When 1, request is ENQ/RESERVE. This bit is   *00177000
                         never off. If Nqqp_SF1_ISGENQ is set then     *00178000
                         when 1, ISGENQ REQUEST=OBTAIN or CHANGE. See  *00179000
                         Nqqp_SF2_Change to distinguish between ISGENQ *00180000
                         REQUEST=OBTAIN and REQUEST=CHANGE.             00181000
NQQP_SF1_AUTHORIZED EQU X'40' Caller is authorized                      00182000
NQQP_SF1_MATCHTASK EQU X'20' When 1, request specified MASID/MTCB       00183000
NQQP_SF1_SMCORRMC EQU X'10'                                             00184000
NQQP_SF1_STEPMUSTCOMPLETE EQU X'10' When 1, ENQ request specified      *00185000
                         SMC=YES                                        00186000
NQQP_SF1_RESETMUSTCOMPLETE EQU X'10' Unused                             00187000
NQQP_SF1_LINKAGE EQU X'08' When 1, request is PC entered when 0,       *00188000
                         request is SVC entered. As ISGENQ requests    *00189000
                         are all PC entered, this bit will be 1 for    *00190000
                         all ISGENQ requests.                           00191000
NQQP_SF1_REDRIVEFORRNLCHANGE EQU X'04' When 1, this request is being   *00192000
                         redriven because a dynamic RNL change has     *00193000
                         occurred. Note that none of the Rsc entries   *00194000
                         associated with this Nqqp will contain valid  *00195000
                         return code information as none of the        *00196000
                         resource requests were queued. If a batch     *00197000
                         exit exists when the request is redriven, it  *00198000
                         will get control with a new request token and *00199000
                         each of the Rsc entries will reflect the      *00200000
                         resource scope using the new RNLs.             00201000
NQQP_SF1_ISGENQ EQU X'02' When 1, request via ISGENQ service            00202000
NQQP_SF1_ISGENQCONDYES EQU X'01' When 1, request is a conditional      *00203000
                         ISGENQ request (ISGENQ COND=YES)               00204000
         ORG   NQQP_STATEFLAGS1+1                                       00205000
NQQP_STATEFLAGS2 DS 0B   State flags byte two                           00206000
NQQP_SF2_CHANGE EQU X'20' When 1, request is a change (i.e. ENQ        *00207000
                         RET=CHNG or ISGENQ REQUEST=CHANGE).            00208000
NQQP_SF2_TEST_YES EQU X'10' When 1, ISGENQ with TEST=YES. When 0, Not  *00209000
                         ISGENQ with TEST=YES (i.e. TEST=NO if         *00210000
                         Nqqp_SF1_ISGENQ is set).                       00211000
NQQP_SF2_CONTENTIONACT_FAIL EQU X'08' When 1, ISGENQ with              *00212000
                         CONTENTIONACT=FAIL. When 0, not               *00213000
                         CONTENTIONACT=FAIL (i.e. CONTENTIONACT=WAIT   *00214000
                         if Nqqp_SF1_ISGENQ is set and                 *00215000
                         Nqqp_SF2_TEST_YES is off).                     00216000
NQQP_SF2_ECB EQU X'04'   When 1, ECB keyword specified (i.e. ISGENQ    *00217000
                         WAITTYPE=ECB or or ENQ with ECB). When 0, No  *00218000
                         ECB specified (i.e. WAITTYPE=SUSPEND if       *00219000
                         Nqqp_SF1_ISGENQ is set and Nqqp_SF2_TEST_YES  *00220000
                         and Nqqp_SF2_CONTENTIONACT_FAIL are off).      00221000
NQQP_SF2_CHANGETOSHARED EQU X'02' When 1, ISGENQ REQUEST=CHANGE        *00222000
                         specified CONTROL=SHARED. If the request is   *00223000
                         successful, the requester will be converted   *00224000
                         from an exclusive owner to a shared owner.    *00225000
                         Only valid when Nqqp_SF2_Change is 1           00226000
         ORG   NQQP_STATEFLAGS2+1                                       00227000
         DS    CL2       Reserved                                       00228000
NQQP_REQUESTFLAGS DS 0CL4 Batch request flags                           00229000
NQQP_REQUESTFLAGS1 DS 0B First byte of flags                            00230000
NQQP_RF1_SETRSCREQUEST EQU X'80' When 1, indicates that a module on    *00231000
                         the ISGNQXITBATCH exit requested a change to  *00232000
                         one or more NqqpRsc entries                    00233000
NQQP_RF1_SETABEND EQU X'40' When 1, indicates that a module on the     *00234000
                         ISGNQXITBATCH exit requested to ABEND         *00235000
                         mainline processing. See                      *00236000
                         Nqqp_ABENDInformation for the requested ABEND  00237000
         ORG   NQQP_REQUESTFLAGS1+1                                     00238000
         DS    CL3       Reserved                                       00239000
NQQP_#RESOURCES DS F     Number of resources in the request             00240000
NQQP_FIRSTNQQPRSC@ DS A  Pointer to first NqqpRsc entry                 00241000
NQQP_ABENDINFORMATION DS 0CL4 ABEND state of request                    00242000
NQQP_ABENDCD DS 0H       Abend code. Zero if the request is not        *00243000
                         ABENDing                                       00244000
NQQP_ABENDCODE DS X      First digit of the ABEND code                  00245000
NQQP_ABENDCODELO DS X    Second and third digits of the ABEND code      00246000
NQQP_ABENDREASON DS H    ABEND Reason Code                              00247000
         DS    CL8       Reserved                                       00248000
NQQP_END DS    0C                                                       00249000
NQQP_LEN EQU   *-NQQP                                                   00250000
.L0002   ANOP                                                           00251000
         AIF   ('&NQQPRSC_ENTRY' EQ 'NO').L0005                         00252000
         AIF   ('&DSECT' EQ 'YES').L0006                                00253000
         AIF   ('&NQQPRSC_ENTRY' NE 'YES').L0005                        00254000
.L0006   ANOP                                                           00255000
*                                                                       00256000
*   ******************************************************************  00257000
*                                                                       00258000
*                        Nqqp Resource Entry                            00259000
*                                                                       00260000
*   ******************************************************************  00261000
*                                                                       00262000
*                                                                       00263000
         AIF   ('&DSECT' EQ 'YES').L0007                                00264000
NQQPRSC_ENTRY DS 0D                                                     00265000
         AGO   .L0008                                                   00266000
.L0007   ANOP                                                           00267000
NQQPRSC_ENTRY DSECT                                                     00268000
.L0008   ANOP                                                           00269000
NQQPRSC_NEXTNQQPRSC@ DS A Pointer to next NqqpRsc entry, 0 indicates   *00270000
                         end of list                                    00271000
NQQPRSC_TOKEN DS CL8     For control program use only - defines which  *00272000
                         entry in the request corresponds to this      *00273000
                         NqqpRsc_Entry                                  00274000
NQQPRSC_QNAME DS CL8     Request QName                                  00275000
NQQPRSC_RNAME@ DS A      Pointer to Nqqp RNAME                          00276000
NQQPRSC_SCOPE DS X       Request scope, see Nqqp_kScope values          00277000
NQQPRSC_RET DS 0X        Request RET value, see Nqqp_kRET values Note  *00278000
                         that this field will be the same for every    *00279000
                         NqqpRsc entry in the list.                     00280000
NQQPRSC_RET1 EQU X'04'   Maps to PELRET1                                00281000
NQQPRSC_RET2 EQU X'02'   Maps to PELRET2                                00282000
NQQPRSC_RET3 EQU X'01'   Maps to PELRET3                                00283000
         ORG   NQQPRSC_RET+1                                            00284000
NQQPRSC_RNAMELEN DS X    Length of the RName.                           00285000
NQQPRSC_ORIGINALSCOPE DS X Original scope specified on the GRS API.    *00286000
                         See Nqqp_kScope for possible values.           00287000
NQQPRSC_STATEFLAGS DS 0CL4 Resource state flags                         00288000
NQQPRSC_STATEFLAGS1 DS 0B First byte of resource state flags            00289000
NQQPRSC_SF1_SHARE EQU X'80' For ENQ/RESERVE requests, when 1 request   *00290000
                         is for shared access, when 0, request is for  *00291000
                         exclusive access                               00292000
NQQPRSC_SF1_RNLEQNO EQU X'40' RNL=NO was specified on the request       00293000
         ORG   NQQPRSC_STATEFLAGS1+1                                    00294000
NQQPRSC_STATEFLAGS2 DS 0B Second byte of resource flags                 00295000
NQQPRSC_SF2_INCLUDED EQU X'80' RNL history indicator: The Resource was *00296000
                         promoted to SYSTEMS scope. It may have also   *00297000
                         been demoted back to SYSTEM level. See        *00298000
                         NqqpRsc_Scope for the final scope.             00299000
NQQPRSC_SF2_CONVERTED EQU X'40' RNL history indicator: The Resource    *00300000
                         was converted from a RESERVE to SYSTEMS ENQ   *00301000
                         only. Note that NqqpRsc_Ucb@ will still be    *00302000
                         set.                                           00303000
NQQPRSC_SF2_EXCLUDED EQU X'20' RNL history indicator: The Resource was *00304000
                         demoted to SYSTEM scope. Note that the        *00305000
                         NqqpRsc_Scope is the final scope.              00306000
NQQPRSC_SF2_GLOBAL EQU X'10' Resource request will be processed        *00307000
                         globally by GRS. Note NqqpRsc_SF2_Global will *00308000
                         always be off in GRS=NONE mode even though    *00309000
                         NqqpRsc_Scope may be SYSTEMS.                  00310000
NQQPRSC_SF2_CONTENTION EQU X'08' Contention was encountered for this   *00311000
                         request. This bit is set for any request      *00312000
                         where contention exists or would have been    *00313000
                         created for the resource. This includes TEST  *00314000
                         requests where the resource is already owned. *00315000
                         Likewise it includes RET=USE and              *00316000
                         CONTENTIONACT=FAIL requests that encountered  *00317000
                         a resource that was already owned. Valid for  *00318000
                         Nqqp_Version of Nqqp_kVersion#5 or higher.     00319000
         ORG   NQQPRSC_STATEFLAGS2+1                                    00320000
         DS    CL2                                                      00321000
NQQPRSC_UCB@ DS A        Request UCB address                            00322000
NQQPRSC_REQUESTFLAGS DS 0CL4 Batch request flags                        00323000
NQQPRSC_REQUESTFLAGS1 DS 0B First flags byte                            00324000
NQQPRSC_RF1_SETRETURNCODE EQU X'80' When 1, indicates that a module on *00325000
                         the ISGNQXITBATCH exit requested a change to  *00326000
                         the return code for this conditional/test     *00327000
                         request                                        00328000
NQQPRSC_RF1_CONVERTRESERVE EQU X'40' When 1, indicates that a module   *00329000
                         on the ISGNQXITBATCH exit requested that this *00330000
                         RESERVE be converted to a SYSTEMS ENQ only     00331000
NQQPRSC_RF1_SETREASONCODE EQU X'20' When 1, indicates that a module on *00332000
                         the ISGNQXITBATCH exit requested a change to  *00333000
                         the reason code for this conditional/test     *00334000
                         request.                                       00335000
         ORG   NQQPRSC_REQUESTFLAGS1+1                                  00336000
         DS    X         Reserved                                       00337000
         DS    CL2       Reserved                                       00338000
NQQPRSC_RETURNCODE DS X  Return code to the requester, if applicable.  *00339000
                         Note that for ENQ/RESERVE this will be an     *00340000
                         ENQ-style return code and for ISGENQ this     *00341000
                         will be an ISGENQ-style return code which     *00342000
                         corresponds to the reason in                  *00343000
                         NqqpRsc_ReasonCode. However, a value of 1     *00344000
                         indicates that this resource is global and a  *00345000
                         return code has not yet been determined. This *00346000
                         value should be ignored if Nqqp_ABENDCd is    *00347000
                         non-zero.                                      00348000
         DS    CL3       Unused                                         00349000
NQQPRSC_REASONCODE DS 0F Reason code for ISGENQ request. Only valid    *00350000
                         when Nqqp_SF1_ISGENQ is set. This value       *00351000
                         should be ignored if Nqqp_ABENDCd is          *00352000
                         non-zero.                                      00353000
         DS    H         Internal diag field                            00354000
NQQPRSC_LORSNCODE DS H                                                  00355000
         DS    CL1       Reserved (see ISGYNQBP)                        00356000
         DS    CL7       Unused                                         00357000
NQQPRSC_RSCTOKEN DS CL32 Token uniquely identifying the resource.      *00358000
                         Valid for Nqqp_Version of Nqqp_kVersion#3 or  *00359000
                         higher and when its value is non-zero          00360000
NQQPRSC_ENQTOKEN DS CL32 Token uniquely identifying the queued request *00361000
                         to the resource. Valid for Nqqp_Version of    *00362000
                         Nqqp_kVersion#3 or higher and when its value  *00363000
                         is non-zero                                    00364000
NQQPRSC_END DS 0C                                                       00365000
*                                                                       00366000
*   ******************************************************************  00367000
*                                                                       00368000
*                          Nqqp Constants                               00369000
*                                                                       00370000
*   ******************************************************************  00371000
*                                                                       00372000
*                                                                       00373000
NQQP_KID EQU   C'NQQP'   Used to identify control block                 00374000
NQQP_KVERSION#1 EQU 1    Version - HBB7705                              00375000
NQQP_KVERSION#2 EQU 2    Version - HBB7709                              00376000
NQQP_KVERSION#3 EQU 3    Version - HBB7740                              00377000
NQQP_KVERSION#4 EQU 4    Version - HBB7750                              00378000
NQQP_KVERSION#5 EQU 5    Version - HBB7760                              00379000
NQQP_KCURRENTVERSION EQU 5 Current version                              00380000
NQQP_KEXITTYPEQ1 EQU 1   Exit ISGNQXITQUEUED1                           00381000
NQQP_KEXITTYPEQ2 EQU 2   Exit ISGNQXITQUEUED2                           00382000
NQQP_KSCOPESTEP EQU 0    Scope=Step                                     00383000
NQQP_KSCOPESYSTEM EQU 1  Scope=System                                   00384000
NQQP_KSCOPESYSTEMS EQU 2 Scope=Systems                                  00385000
NQQP_KRETNONE EQU 0      Ret=None                                       00386000
NQQP_KRETHAVE EQU 1      Ret=Have                                       00387000
NQQP_KRETCHNG EQU 2      Ret=Chng                                       00388000
NQQP_KRETUSE EQU 3       Ret=Use                                        00389000
NQQP_KRETECB EQU 4       An ECB is specified for this ENQ request, via *00390000
                         either the ECB= parameter on ENQ or the       *00391000
                         WAITTYPE=ECB parameter on ISGENQ              *00392000
                         REQUEST=OBTAIN                                 00393000
NQQP_KRETTEST EQU 7      Ret=Test                                       00394000
NQQP_KRCGLOBAL EQU 1     Return code value when a request is global    *00395000
                         and not yet been determined                    00396000
NQQP_KLENGTH EQU 96      Maximum length of Nqqp                         00397000
NQQPRSC_ENTRY_LEN EQU *-NQQPRSC_ENTRY                                   00398000
.L0005   ANOP                                                           00399000
         AIF   ('&ZCBPRINT' EQ 'NO').P3                                 00400000
         AIF   ('&LIST' EQ 'YES').P4                                    00401000
.P3      ANOP                                                           00402000
         POP   PRINT                                                    00403000
.P4      ANOP                                                           00404000
.P_EXIT  ANOP                                                           00405000
         MEND                                                           00406000
**/ ISGYNQQP_2:;                                                        00407000
* %ISGYNQQP_INCLUDED = 'YES';                                           00408000
* %DCL ZCBPRINT CHAR EXT;                                               00409000
* %DEACTIVATE ZCBPRINT;                                                 00410000
* %DCL ISGYNQQP_LIST CHAR EXT;                                          00411000
* %DEACTIVATE ISGYNQQP_LIST;                                            00412000
* %IF ISGYNQQP_LIST ^= 'NO' &                                           00413000
*    ZCBPRINT ^= 'NO' %THEN                                             00414000
*   %GOTO ISGYNQQP_3;                                                   00415000
*   @LIST PUSH NOECHO;                                                  00416000
*   @LIST NOASSEMBLE NOECHO;                                            00417000
*   @LIST OFF C NOECHO;                                                 00418000
* %ISGYNQQP_3:;                                                         00419000
*/* Start of PL/X Source                                             */ 00420000
*@LOGIC;                                                      /* @01A*/ 00421000
*#PRAGMA TOOL=CBGEN.                                                    00422000
*#DELETE.NqqpRsc_KId                                                    00423000
*#EPRAGMA.                                                              00424000
*@ENDLOGIC;                                                   /* @01A*/ 00425000
*%if NqqpAttr = '' %then                                                00426000
*  %NqqpAttr = 'based(NqqpPtr) bdy(dword)';                             00427000
*dcl                                                                    00428000
*   1 Nqqp NqqpAttr                                                     00429000
*  ,  3 Nqqp_Id char(4)             /* Eyecatcher                    */ 00430000
*  ,  3 Nqqp_Version fixed(8)       /* Version. See version constants   00431000
*                                      below e.g. Nqqp_kVersion#1       00432000
*                                                                @L4C*/ 00433000
*  ,  3 Nqqp_ExitType fixed(8)      /* Indicates which exit is being    00434000
*                                      called. See ExitType constants   00435000
*                                      below e.g. Nqqp_kExitTypeQ1.     00436000
*                                      Valid for Nqqp_Version of        00437000
*                                      Nqqp_kVersion#5 or higher.       00438000
*                                                                @L5A*/ 00439000
*  ,  3 * char(2)                   /* Reserved                  @L5C*/ 00440000
*  ,  3 Nqqp_WorkArea@ ptr(31)      /* Pointer to a 4K work area,       00441000
*                                      usable by exit routines       */ 00442000
*  ,  3 Nqqp_RequestData            /* ENQ request state                00443000
*                                      information, these values        00444000
*                                      cannot be changed             */ 00445000
*  ,    5 Nqqp_RD_RequestToken char(16) /* Unique token identifying     00446000
*                                      the GRS exit call processing for 00447000
*                                      the request. If needed, all      00448000
*                                      exits driven for this request    00449000
*                                      can use this token to identify   00450000
*                                      the same request.  See the       00451000
*                                      prologue for more information.   00452000
*                                                                @L2C*/ 00453000
*  ,    5 Nqqp_RD_Ascb@ ptr(31)     /* Pointer to requester's ASCB   */ 00454000
*  ,    5 Nqqp_RD_Tcb@ ptr(31)      /* Pointer to requester's TCB or    00455000
*                                      directed TCB if TCB= was         00456000
*                                      specified                     */ 00457000
*  ,    5 Nqqp_RD_MAsid fixed(15)   /* Request MASID value           */ 00458000
*  ,    5 * char(2)                 /* Reserved                      */ 00459000
*  ,    5 Nqqp_RD_MTcb ptr(31)      /* Request MTCB value            */ 00460000
*  ,    5 Nqqp_RD_Jobname char(8)   /* Requester's Jobname           */ 00461000
*  ,    5 Nqqp_RD_Sysname char(8)   /* Requester's Sysname           */ 00462000
*  ,    5 Nqqp_RD_NSI@ ptr(31)      /* Requester's next sequential      00463000
*                                      instruction address, when        00464000
*                                      ENQ ends, this is address        00465000
*                                      of the next instruction in the   00466000
*                                      calling program that will be     00467000
*                                      executed                      */ 00468000
*  ,      7 Nqqp_RD_AMode31 bit(1)  /* When set, ENQ caller is AMODE    00469000
*                                      31                            */ 00470000
*  ,    5 Nqqp_RD_Ecb@ ptr(31)      /* Pointer to original request ECB  00471000
*                                      (set when ECB= specified on the  00472000
*                                      request)                      */ 00473000
*  ,  3 Nqqp_StateFlags             /* ENQ request state flags,         00474000
*                                      these values cannot be changed   00475000
*                                                                    */ 00476000
*  ,    5 Nqqp_StateFlags1 bit(8)   /* First byte of state flags     */ 00477000
*  ,      7 Nqqp_SF1_ENQ bit(1)     /* When 1, request is ENQ/RESERVE.  00478000
*                                      This bit is never off.           00479000
*                                      If Nqqp_SF1_ISGENQ is set then   00480000
*                                      when 1, ISGENQ REQUEST=OBTAIN or 00481000
*                                      CHANGE.                          00482000
*                                      See Nqqp_SF2_Change to           00483000
*                                      distinguish between ISGENQ       00484000
*                                      REQUEST=OBTAIN and               00485000
*                                      REQUEST=CHANGE.           @L4C*/ 00486000
*  ,      7 Nqqp_SF1_Authorized bit(1) /* Caller is authorized       */ 00487000
*  ,      7 Nqqp_SF1_MatchTask bit(1) /* When 1, request specified      00488000
*                                      MASID/MTCB                    */ 00489000
*  ,      7 Nqqp_SF1_SMCorRMC bit(1)                          /* @L2C*/ 00490000
*  ,        9 Nqqp_SF1_StepMustComplete bit(1) /* When 1, ENQ request   00491000
*                                      specified SMC=YES             */ 00492000
*  ,          11 Nqqp_SF1_ResetMustComplete bit(1) /* Unused     @L5C*/ 00493000
*  ,      7 Nqqp_SF1_Linkage bit(1) /* When 1, request is PC entered    00494000
*                                      when 0, request is SVC entered.  00495000
*                                      As ISGENQ requests are all PC    00496000
*                                      entered, this bit will be 1 for  00497000
*                                      all ISGENQ requests.      @P2C*/ 00498000
*  ,      7 Nqqp_SF1_RedriveForRnlChange bit(1) /* When 1, this request 00499000
*                                      is being redriven because a      00500000
*                                      dynamic RNL change has occurred. 00501000
*                                      Note that none of the Rsc        00502000
*                                      entries associated with this     00503000
*                                      Nqqp will contain valid return   00504000
*                                      code information as none of the  00505000
*                                      resource requests were queued.   00506000
*                                      If a batch exit exists when the  00507000
*                                      request is redriven, it will     00508000
*                                      get control with a new request   00509000
*                                      token and each of the Rsc        00510000
*                                      entries will reflect the         00511000
*                                      resource scope using the new     00512000
*                                      RNLs.                         */ 00513000
*  ,      7 Nqqp_SF1_ISGENQ bit(1)  /* When 1, request via ISGENQ       00514000
*                                      service                   @L4C*/ 00515000
*  ,      7 Nqqp_SF1_IsgEnqCondYes bit(1) /* When 1, request is a       00516000
*                                      conditional ISGENQ request       00517000
*                                      (ISGENQ COND=YES)         @L4A*/ 00518000
*  ,    5 Nqqp_StateFlags2 bit(8)   /* State flags byte two      @L4A*/ 00519000
*  ,      7 * bit(2)                /* Reserved                  @L4A*/ 00520000
*  ,      7 Nqqp_SF2_Change bit(1)  /* When 1, request is a change      00521000
*                                      (i.e. ENQ RET=CHNG or ISGENQ     00522000
*                                      REQUEST=CHANGE).          @L4A*/ 00523000
*  ,      7 Nqqp_SF2_TEST_YES bit(1) /* When 1, ISGENQ with TEST=YES.   00524000
*                                      When 0, Not ISGENQ with TEST=YES 00525000
*                                      (i.e. TEST=NO if                 00526000
*                                      Nqqp_SF1_ISGENQ is set).  @L4A*/ 00527000
*  ,      7 Nqqp_SF2_CONTENTIONACT_FAIL bit(1) /* When 1, ISGENQ with   00528000
*                                      CONTENTIONACT=FAIL.              00529000
*                                      When 0, not CONTENTIONACT=FAIL   00530000
*                                      (i.e. CONTENTIONACT=WAIT if      00531000
*                                      Nqqp_SF1_ISGENQ is set and       00532000
*                                      Nqqp_SF2_TEST_YES is off).       00533000
*                                                                @L4A*/ 00534000
*  ,      7 Nqqp_SF2_ECB bit(1)     /* When 1, ECB keyword specified    00535000
*                                      (i.e. ISGENQ WAITTYPE=ECB or     00536000
*                                      or ENQ with ECB).                00537000
*                                      When 0, No ECB specified         00538000
*                                      (i.e. WAITTYPE=SUSPEND if        00539000
*                                      Nqqp_SF1_ISGENQ is set and       00540000
*                                      Nqqp_SF2_TEST_YES and            00541000
*                                      Nqqp_SF2_CONTENTIONACT_FAIL      00542000
*                                      are off).                 @L4A*/ 00543000
*  ,      7 Nqqp_SF2_ChangeToShared bit(1) /* When 1, ISGENQ            00544000
*                                      REQUEST=CHANGE specified         00545000
*                                      CONTROL=SHARED. If the request   00546000
*                                      is successful, the requester     00547000
*                                      will be converted from an        00548000
*                                      exclusive owner to a shared      00549000
*                                      owner. Only valid when           00550000
*                                      Nqqp_SF2_Change is 1      @L6A*/ 00551000
*  ,      7 * bit(1)                /* Reserved                  @L6C*/ 00552000
*  ,    5 * char(2)                 /* Reserved                  @L4C*/ 00553000
*  ,  3 Nqqp_RequestFlags           /* Batch request flags       @L4A*/ 00554000
*  ,    5 Nqqp_RequestFlags1 bit(8) /* First byte of flags       @L4A*/ 00555000
*  ,      7 Nqqp_RF1_SetRscRequest bit(1) /* When 1, indicates that a   00556000
*                                      module on the ISGNQXITBATCH      00557000
*                                      exit requested a change to one   00558000
*                                      or more NqqpRsc entries   @L4A*/ 00559000
*  ,      7 Nqqp_RF1_SetABEND bit(1) /* When 1, indicates that a        00560000
*                                      module on the ISGNQXITBATCH      00561000
*                                      exit requested to ABEND          00562000
*                                      mainline processing.             00563000
*                                      See Nqqp_ABENDInformation        00564000
*                                      for the requested ABEND   @L4A*/ 00565000
*  ,      7 * bit(6)                /* Reserved                      */ 00566000
*  ,    5 * char(3)                 /* Reserved                  @L4C*/ 00567000
*  ,  3 Nqqp_#Resources fixed(31)   /* Number of resources in the       00568000
*                                      request                       */ 00569000
*  ,  3 Nqqp_FirstNqqpRsc@ ptr(31)  /* Pointer to first NqqpRsc entry   00570000
*                                                                    */ 00571000
*  ,  3 Nqqp_ABENDInformation       /* ABEND state of request        */ 00572000
*  ,    5 Nqqp_ABENDCd   fixed(16)  /* Abend code. Zero if the          00573000
*                                      request is not ABENDing   @P2C*/ 00574000
*  ,      7 Nqqp_ABENDCode fixed(8) /* First digit of the ABEND code    00575000
*                                                                @P3C*/ 00576000
*  ,      7 Nqqp_AbendCodeLo fixed(8) /* Second and third digits of     00577000
*                                      the ABEND code            @P3C*/ 00578000
*  ,    5 Nqqp_ABENDReason fixed(16) /* ABEND Reason Code            */ 00579000
*  ,  3 * char(8)                   /* Reserved                      */ 00580000
*  ,  3 Nqqp_End char(0) bdy(dword)                                     00581000
*  ;                                                                    00582000
* /*******************************************************************/ 00583000
* /*                                                                 */ 00584000
* /*                     Nqqp Resource Entry                         */ 00585000
* /*                                                                 */ 00586000
* /*******************************************************************/ 00587000
*%if NqqpRscAttr = '' %then                                             00588000
*  %NqqpRscAttr = 'based(NqqpRscPtr) bdy(dword)';                       00589000
*dcl                                                                    00590000
*   1 NqqpRsc_Entry NqqpRscAttr                                         00591000
*  ,  3 NqqpRsc_NextNqqpRsc@ ptr(31) /* Pointer to next NqqpRsc entry,  00592000
*                                      0 indicates end of list   @L4C*/ 00593000
*  ,  3 NqqpRsc_Token char(8) bdy(word)/* For control program use only  00594000
*                                      - defines which entry in the     00595000
*                                      request corresponds to this      00596000
*                                      NqqpRsc_Entry                 */ 00597000
*  ,  3 NqqpRsc_QName char(8)       /* Request QName                 */ 00598000
*  ,  3 NqqpRsc_RName@ ptr(31)      /* Pointer to Nqqp RNAME         */ 00599000
*  ,  3 NqqpRsc_Scope fixed(8)      /* Request scope, see Nqqp_kScope   00600000
*                                      values                        */ 00601000
*  ,  3 NqqpRsc_Ret fixed(8)        /* Request RET value, see           00602000
*                                      Nqqp_kRET values                 00603000
*                                      Note that this field will be     00604000
*                                      the same for every NqqpRsc entry 00605000
*                                      in the list.              @L4C*/ 00606000
*  ,    5 * bit(5)                  /* Reserved. Do not use          */ 00607000
*  ,    5 NqqpRsc_Ret1 bit(1)       /* Maps to PELRET1               */ 00608000
*  ,    5 NqqpRsc_Ret2 bit(1)       /* Maps to PELRET2               */ 00609000
*  ,    5 NqqpRsc_Ret3 bit(1)       /* Maps to PELRET3               */ 00610000
*  ,  3 NqqpRsc_RNameLen fixed(8)   /* Length of the RName.      @L5C*/ 00611000
*  ,  3 NqqpRsc_OriginalScope fixed(8) /* Original scope specified on   00612000
*                                      the GRS API. See Nqqp_kScope     00613000
*                                      for possible values.      @L4C*/ 00614000
*  ,  3 NqqpRsc_StateFlags          /* Resource state flags          */ 00615000
*  ,    5 NqqpRsc_StateFlags1 bit(8) /* First byte of resource state    00616000
*                                      flags                         */ 00617000
*  ,      7 NqqpRsc_SF1_Share bit(1) /* For ENQ/RESERVE requests, when  00618000
*                                      1 request is for shared access,  00619000
*                                      when 0, request is for           00620000
*                                      exclusive access              */ 00621000
*  ,      7 NqqpRsc_SF1_RnlEqNo bit(1) /* RNL=NO was specified on the   00622000
*                                      request                       */ 00623000
*  ,    5 NqqpRsc_StateFlags2 bit(8) /* Second byte of resource flags   00624000
*                                                                    */ 00625000
*  ,      7 NqqpRsc_SF2_Included bit(1) /* RNL history indicator:       00626000
*                                      The Resource was promoted to     00627000
*                                      SYSTEMS scope.  It may have also 00628000
*                                      been demoted back to SYSTEM      00629000
*                                      level. See NqqpRsc_Scope for the 00630000
*                                      final scope.              @P2C*/ 00631000
*                                                                       00632000
*  ,      7 NqqpRsc_SF2_Converted bit(1) /* RNL history indicator:      00633000
*                                      The Resource was converted       00634000
*                                      from a RESERVE to SYSTEMS ENQ    00635000
*                                      only.  Note that NqqpRsc_Ucb@    00636000
*                                      will still be set.        @P2C*/ 00637000
*                                                                       00638000
*  ,      7 NqqpRsc_SF2_Excluded bit(1) /* RNL history indicator:       00639000
*                                      The Resource was                 00640000
*                                      demoted to SYSTEM scope.         00641000
*                                      Note that the NqqpRsc_Scope is   00642000
*                                      the final scope.          @P2C*/ 00643000
*                                                                       00644000
*  ,      7 NqqpRsc_SF2_Global bit(1) /* Resource request will be       00645000
*                                      processed globally by GRS. Note  00646000
*                                      NqqpRsc_SF2_Global will          00647000
*                                      always be off in GRS=NONE        00648000
*                                      mode even though NqqpRsc_Scope   00649000
*                                      may be SYSTEMS.           @P2C*/ 00650000
*  ,      7 NqqpRsc_SF2_Contention bit(1) /* Contention was encountered 00651000
*                                      for this request. This bit is    00652000
*                                      set for any request where        00653000
*                                      contention exists or would have  00654000
*                                      been created for the resource.   00655000
*                                      This includes TEST requests      00656000
*                                      where the resource is already    00657000
*                                      owned. Likewise it includes      00658000
*                                      RET=USE and CONTENTIONACT=FAIL   00659000
*                                      requests that encountered a      00660000
*                                      resource that was already owned. 00661000
*                                      Valid for Nqqp_Version of        00662000
*                                      Nqqp_kVersion#5 or higher.       00663000
*                                                                @L5A*/ 00664000
*  ,    5 * char(2)                                                     00665000
*  ,  3 NqqpRsc_Ucb@ ptr(31)        /* Request UCB address           */ 00666000
*                                                               @space; 00667000
*  ,  3 NqqpRsc_RequestFlags        /* Batch request flags       @L4A*/ 00668000
*  ,    5 NqqpRsc_RequestFlags1 bit(8) /* First flags byte       @L4A*/ 00669000
*  ,                                                                    00670000
*         7 NqqpRsc_RF1_SetReturnCode bit(1) /* When 1, indicates that  00671000
*                                      a module on the ISGNQXITBATCH    00672000
*                                      exit requested a change to       00673000
*                                      the return code for this         00674000
*                                      conditional/test request  @L4A*/ 00675000
*  ,                                                                    00676000
*         7 NqqpRsc_RF1_ConvertReserve bit(1) /* When 1, indicates that 00677000
*                                      a module on the ISGNQXITBATCH    00678000
*                                      exit requested that this         00679000
*                                      RESERVE be converted to          00680000
*                                      a SYSTEMS ENQ only        @L4A*/ 00681000
*  ,                                                                    00682000
*         7 NqqpRsc_RF1_SetReasonCode bit(1) /* When 1, indicates that  00683000
*                                      a module on the ISGNQXITBATCH    00684000
*                                      exit requested a change to       00685000
*                                      the reason code for this         00686000
*                                      conditional/test request. @L4A*/ 00687000
*  ,                                                                    00688000
*         7 * bit(1)                /* Reserved                  @L4A*/ 00689000
*  ,                                                                    00690000
*       5 * fixed(8)                /* Reserved                  @L4A*/ 00691000
*  ,    5 * char(2)                 /* Reserved                  @L4C*/ 00692000
*  ,  3 NqqpRsc_ReturnCode fixed(8) /* Return code to the requester,    00693000
*                                      if applicable. Note that         00694000
*                                      for ENQ/RESERVE this will be     00695000
*                                      an ENQ-style return code and     00696000
*                                      for ISGENQ this will be an       00697000
*                                      ISGENQ-style return code which   00698000
*                                      corresponds to the reason in     00699000
*                                      NqqpRsc_ReasonCode. However, a   00700000
*                                      value of 1 indicates that this   00701000
*                                      resource is global and a return  00702000
*                                      code has not yet been            00703000
*                                      determined. This value should be 00704000
*                                      ignored if Nqqp_ABENDCd is       00705000
*                                      non-zero.                 @P2C*/ 00706000
*  ,  3 * char(3)                   /* Unused                        */ 00707000
*  ,  3 NqqpRsc_ReasonCode fixed(32) /* Reason code for ISGENQ request. 00708000
*                                      Only valid when Nqqp_SF1_ISGENQ  00709000
*                                      is set. This value should be     00710000
*                                      ignored if Nqqp_ABENDCd is       00711000
*                                      non-zero.                 @P2C*/ 00712000
*  ,    5 * fixed(16)               /* Internal diag field       @L4A*/ 00713000
*  ,    5 NqqpRsc_LoRsnCode fixed(16) /*                         @L4A*/ 00714000
*  ,  3 * char(1)                   /* Reserved (see ISGYNQBP)   @L3A*/ 00715000
*  ,  3 * char(7)                   /* Unused                    @L3A*/ 00716000
*  ,  3 NqqpRsc_RscToken char(32)   /* Token uniquely identifying       00717000
*                                      the resource.  Valid for         00718000
*                                      Nqqp_Version of Nqqp_kVersion#3  00719000
*                                      or higher and when its value     00720000
*                                      is non-zero               @P2C*/ 00721000
*  ,  3 NqqpRsc_ENQToken char(32)   /* Token uniquely identifying       00722000
*                                      the queued request to the        00723000
*                                      resource.  Valid for             00724000
*                                      Nqqp_Version of                  00725000
*                                      Nqqp_kVersion#3 or higher and    00726000
*                                      when its value is non-zero       00727000
*                                                                @P2C*/ 00728000
*  ,  3 NqqpRsc_End char(0) bdy(dword)                                  00729000
*  ;                                                                    00730000
* /*******************************************************************/ 00731000
* /*                                                                 */ 00732000
* /*                       Nqqp RName Entry                          */ 00733000
* /*             (Note:  These entries are read only)                */ 00734000
* /*                                                                 */ 00735000
* /*******************************************************************/ 00736000
*%Dcl NqqpRscRnameAttr char ext;                                        00737000
*%if NqqpRscRnameAttr = ''                                              00738000
*%then                                                                  00739000
*  %NqqpRscRnameAttr = 'based(NqqpRsc_RName@) bdy(word)';               00740000
*dcl                                                                    00741000
*   NqqpRscRname char(*) NqqpRscRnameAttr         /* Resource RName  */ 00742000
*  ;                                                                    00743000
* /*******************************************************************/ 00744000
* /*                                                                 */ 00745000
* /*                       Nqqp Constants                            */ 00746000
* /*                                                                 */ 00747000
* /*******************************************************************/ 00748000
* dcl                                                                   00749000
*    Nqqp_kId char(4) constant('NQQP') /* Used to identify control      00750000
*                                      block                         */ 00751000
*   ,Nqqp_kVersion#1 constant(1)    /* Version - HBB7705             */ 00752000
*   ,Nqqp_kVersion#2 constant(2)    /* Version - HBB7709         @P1A*/ 00753000
*   ,Nqqp_kVersion#3 constant(3)    /* Version - HBB7740         @L3A*/ 00754000
*   ,Nqqp_kVersion#4 constant(4)    /* Version - HBB7750         @L4A*/ 00755000
*   ,Nqqp_kVersion#5 constant(5)    /* Version - HBB7760         @L5A*/ 00756000
*   ,Nqqp_kCurrentVersion constant(Nqqp_kVersion#5) /* Current version  00757000
*                                                                @L5C*/ 00758000
*   ,Nqqp_kExitTypeQ1 constant(1)   /* Exit ISGNQXITQUEUED1      @L5A*/ 00759000
*   ,Nqqp_kExitTypeQ2 constant(2)   /* Exit ISGNQXITQUEUED2      @L5A*/ 00760000
*   ,Nqqp_kScopeStep   constant(0)  /* Scope=Step                @L1A*/ 00761000
*   ,Nqqp_kScopeSystem constant(1)  /* Scope=System                  */ 00762000
*   ,Nqqp_kScopeSystems constant(2) /* Scope=Systems                 */ 00763000
*   ,Nqqp_kRetNone constant('00000000'b) /* Ret=None                 */ 00764000
*   ,Nqqp_kRetHave constant('00000001'b) /* Ret=Have                 */ 00765000
*   ,Nqqp_kRetChng constant('00000010'b) /* Ret=Chng                 */ 00766000
*   ,Nqqp_kRetUse constant('00000011'b) /* Ret=Use                   */ 00767000
*   ,Nqqp_kRetEcb constant('00000100'b) /* An ECB is specified          00768000
*                                      for this ENQ request, via        00769000
*                                      either the ECB= parameter on     00770000
*                                      ENQ or the WAITTYPE=ECB          00771000
*                                      parameter on                     00772000
*                                      ISGENQ REQUEST=OBTAIN     @01A*/ 00773000
*   ,Nqqp_kRetTest constant('00000111'b) /* Ret=Test                 */ 00774000
*   ,Nqqp_kRCGlobal constant(1)     /* Return code value when a         00775000
*                                      request is global and not yet    00776000
*                                      been determined               */ 00777000
*   ,Nqqp_kLength constant(length(Nqqp)) /* Maximum length of Nqqp   */ 00778000
*   ,NqqpRsc_KId char(16) constant('NQQPRSC_ENTRIES '); /* Id to        00779000
*                                    signify that NQQP Resource         00780000
*                                    Entries follow             @L2P*/  00781000
*   ;                                                                   00782000
*/* End of PL/X Source                                               */ 00783000
* %IF ISGYNQQP_LIST ^= 'NO' &                                           00784000
*    ZCBPRINT ^= 'NO' %THEN                                             00785000
*   %GOTO ISGYNQQP_4;                                                   00786000
*   @LIST POP NOECHO;                                                   00787000
* %ISGYNQQP_4:;                                                         00788000
* %END;                                                                 00789000
