*                                                                       00001000
* %DCL IFAR1154_INCLUDED CHAR EXT;                                      00002000
* %DEACTIVATE IFAR1154_INCLUDED;                                        00003000
* %IF IFAR1154_INCLUDED = '' %THEN                                      00004000
* %DO;                                                                  00005000
*/* Macro made bi-lingual on 22124. CBGEN compile date 21138         */ 00006000
*% /*                                                                   00007000
         MACRO                                                          00008000
         IFAR1154 &DSECT=YES,&LIST=YES,&TITLE=YES,&SMF1154=YES,        *00009000
               &SMF1154_CTRP=COND,&SMF1154_C_HDR=COND                   00010000
                      GBLC  &IFAR1154_INCLUDED                          00011000
                      GBLC  &ZCBPRINT                                   00012000
&IFAR1154_INCLUDED    SETC  'YES'                                       00013000
                      AIF   ('&LIST' EQ 'NONE').P0                      00014000
                      AIF   ('&TITLE' EQ 'NO').P5                       00015000
 TITLE                'IFAR1154  - SMF record type 1154 compliance evid*00016000
               ence        '                                            00017000
.P5                   ANOP                                              00018000
**/ ;                                                                   00019000
*/**** START OF SPECIFICATIONS **************************************** 00020000
*                                                                       00021000
*01* Macro Name: IFAR1154                                               00022000
*                                                                       00023000
*01* Descriptive Name: SMF record type 1154 compliance evidence         00024000
*                       common sections mapping                         00025000
*                                                                       00026000
*02*  DSECT Name: IFAR1154                                              00027000
*                                                                       00028000
*01* Proprietary Statement:                                             00029000
*                                                                       00030000
*    LICENSED MATERIALS - PROPERTY OF IBM                               00031000
*    5650-ZOS COPYRIGHT IBM CORP. 2022                                  00032000
*                                                                       00033000
*    STATUS=HBB77C0                                                     00034000
*                                                                       00035000
*01* End Of Proprietary Statement:                                      00036000
*                                                                       00037000
*01* Component: System Management Facilities (SC100)                    00038000
*                                                                       00039000
*01* Eye-Catcher:  None                                                 00040000
*                                                                       00041000
*01* Storage Attributes:                                                00042000
*02*   Subpool/Dataspace:  N/A                                          00043000
*02*   Key:                N/A                                          00044000
*02*   Residency:          N/A                                          00045000
*                                                                       00046000
*01* Size:                                                              00047000
*          SMF1154       -- X'0000' bytes                               00048000
*          SMF1154_CTRP  -- X'0014' bytes                               00049000
*          SMF1154_C_HDR -- X'003C' bytes                               00050000
*                                                                       00051000
*01* Created by: N/A                                                    00052000
*                                                                       00053000
*01* Pointed to by: N/A                                                 00054000
*                                                                       00055000
*01* Serialization: N/A                                                 00056000
*                                                                       00057000
*01* Function: This macro maps the SMF record type 1154 common          00058000
*              self defining section and the common header. These       00059000
*              sections are common to all of the type 1154 subtypes.    00060000
*                                                                       00061000
*01* Method of Access:                                                  00062000
*                                                                       00063000
*02*  ASM:                                                              00064000
*       IFASMFR 1154                                                    00065000
*          This invocation provides the default values of the IFAR1154  00066000
*          parameters listed below.                                     00067000
*      - or -                                                           00068000
*       IFAR1154                                                        00069000
*         DSECT=YES!NO                                                  00070000
*           YES - Provides a DSECT of SMF1154 and requested sections    00071000
*           No  - Does not provide a DSECT of SMF1154 and requested     00072000
*                 sections                                              00073000
*         SMF1154_CTRP=YES!NO!COND                                      00074000
*           YES - Provides mapping of the SMF1154_CTRP section          00075000
*           No  - does not provide mapping of the SMF1154_CTRP section  00076000
*           COND- provides mapping of the SMF1154_CTRP section          00077000
*                 if DSECT=YES is also specified or defaulted to YES    00078000
*         SMF1154_C_HDR=YES!NO!COND                                     00079000
*           YES - Provides mapping of the SMF1154_C_HDR section         00080000
*           No  - does not provide mapping of the SMF1154_C_HDR section 00081000
*           COND- provides mapping of the SMF1154_C_HDR section         00082000
*                 if DSECT=YES is also specified or defaulted to YES    00083000
*                            USING on SMF1154_C_HDR                     00084000
*       Default: DSECT=YES,SMF1154_CTRP=YES,SMF1154_C_HDR=COND          00085000
*                                                                       00086000
*02*  PL/X: Include thdse macros                                        00087000
*       %INCLUDE SYSLIB(IFAR1154)                                       00088000
*       %SMF1154_CTRP_Base=xxx   where xxx is the BASED string          00089000
*         Base SMF1154 on the beginning of the SMF 1154 record header.  00090000
*         The default is Based(ADDR(SMFHDR1)).                          00091000
*       %INCLUDE SYSLIB(IFASMFH)                                        00092000
*                                                                       00093000
*01* Distribution Library: AMACLIB                                      00094000
*                                                                       00095000
*01* External Classification: PI                                        00096000
*02* End of External Classification:                                    00097000
*                                                                       00098000
*01* Change Activity:                                                   00099000
* $00=OA61444C HBB77C0 220415 PD00OO: New                               00100000
* $01=OA61444  HBB77C0 220415 PD00OO: New                               00101000
*                                                                       00102000
**** END OF SPECIFICATIONS *******************************************/ 00103000
*% /*                                                                   00104000
.P0                   ANOP                                              00105000
                      AIF   ('&ZCBPRINT' EQ 'NO').P1                    00106000
                      AIF   ('&LIST' EQ 'YES').P2                       00107000
.P1                   ANOP                                              00108000
                      PUSH  PRINT                                       00109000
                      PRINT OFF                                         00110000
.P2                   ANOP                                              00111000
                      AIF   ('&SMF1154' EQ 'NO').L0002                  00112000
                      AIF   ('&DSECT' EQ 'YES').L0003                   00113000
                      AIF   ('&SMF1154' NE 'YES').L0002                 00114000
.L0003                ANOP                                              00115000
*                                                                       00116000
* ********************************************************************  00117000
* *                                                                  *  00118000
* * Standard layout of the Type 1154 record with <y> number of       *  00119000
* * sections associated with the subtype <x>:                        *  00120000
* *                                                                  *  00121000
* * ---------------------------------------------------------------- *  00122000
* * ! Start of record                                              ! *  00123000
* * ---------------------------------------------------------------- *  00124000
* * ! Standard extended SMF header                                 ! *  00125000
* * !--------------------------------------------------------------! *  00126000
* * ! Type 1154 common self defining section                       ! *  00127000
* * !--------------------------------------------------------------! *  00128000
* * ! Type 1154 common header section                              ! *  00129000
* * !--------------------------------------------------------------! *  00130000
* * ! Type 1154 subtype <x> self defining section                  ! *  00131000
* * !--------------------------------------------------------------! *  00132000
* * ! type 1154 subtype <x> data section 1                         ! *  00133000
* * ---------------------------------------------------------------- *  00134000
* *   ...                                                            *  00135000
* * ---------------------------------------------------------------- *  00136000
* * ! type 1154 subtype <x> data section <y>                       ! *  00137000
* * ---------------------------------------------------------------- *  00138000
* * ! End of record                                                ! *  00139000
* * ---------------------------------------------------------------- *  00140000
* *                                                                  *  00141000
* * The mapping provided in this macro is for the portion of the     *  00142000
* * record that is common to all 1154 subtypes.                      *  00143000
* *                                                                  *  00144000
* * The Type 1154 record begins with an extended SMF header. The     *  00145000
* * structure named SMFHDR1 of the IFASMFH mapping macro maps the    *  00146000
* * extended SMF header. For type 1154 records, the SMFHDR1_Ext_Rty  *  00147000
* * field is set to 1154 (decimal) which is defined by the           *  00148000
* * SMF1154HD_EXT_RTY_Value equate (constant).                       *  00149000
* *                                                                  *  00150000
* * The maping for the Type 1154 common self defining section        *  00151000
* * directly follows the SMF extended header. It has these 2         *  00152000
* * triplets:                                                        *  00153000
* *   1.  Triplet for the 1154 common header section                 *  00154000
* *   2.  Triplet for the 1154 subtype specific self defining        *  00155000
* *       section                                                    *  00156000
* *                                                                  *  00157000
* ********************************************************************  00158000
*                                                                       00159000
*                                                                       00160000
                      AIF   ('&DSECT' EQ 'YES').L0004                   00161000
SMF1154               DS    0X                                          00162000
                      AGO   .L0005                                      00163000
.L0004                ANOP                                              00164000
SMF1154               DSECT                                             00165000
.L0005                ANOP                                              00166000
SMF1154_Record        DS    0C                                          00167000
SMF1154_Len           EQU   *-SMF1154                                   00168000
.L0002                ANOP                                              00169000
                      AIF   ('&SMF1154_CTRP' EQ 'NO').L0006             00170000
                      AIF   ('&DSECT' EQ 'YES').L0007                   00171000
                      AIF   ('&SMF1154_CTRP' NE 'YES').L0006            00172000
.L0007                ANOP                                              00173000
*                                                                       00174000
* ********************************************************************  00175000
* * Start of the 1154 self defining section. A program can locate    *  00176000
* * this section by adding the following values to the address of    *  00177000
* * the start of the 1154 record:                                    *  00178000
* * - the length of the standard SMF header which is defined by the  *  00179000
* *   IFASMFH equate (constant) named SMFHDR_Std_Len                 *  00180000
* * - the length of the extended SMF header that is mapped beyond    *  00181000
* *   the standard SMF header. This value resides in the 1154 record *  00182000
* *   in the IFASMFH field named SMFHDR1_Ext_Len                     *  00183000
* ********************************************************************  00184000
*                                                                       00185000
*                                                                       00186000
                      AIF   ('&DSECT' EQ 'YES').L0008                   00187000
SMF1154_CTRP          DS    0F     Common self defining section         00188000
                      AGO   .L0009                                      00189000
.L0008                ANOP                                              00190000
SMF1154_CTRP          DSECT        Common self defining section         00191000
.L0009                ANOP                                              00192000
SMF1154_CTRP_TRN      DS    H      Number of triplets(2)                00193000
SMF1154_CTRP_Rsvd     DS    H      Reserved, set to 0                   00194000
*                                                                       00195000
*      ***************************************************************  00196000
*      *                                                             *  00197000
*      * The first triplet points to the 1154 Common Header section  *  00198000
*      * that is used by all Type 1154 records.                      *  00199000
*      *                                                             *  00200000
*      ***************************************************************  00201000
*                                                                       00202000
*                                                                       00203000
SMF1154_C_Offset      DS    F      Offset from record start to the     *00204000
                                   1154 common header section           00205000
SMF1154_C_Length      DS    H      Length of the 1154 common header    *00206000
                                   section                              00207000
SMF1154_C_Number      DS    H      Number of 1154 common header        *00208000
                                   sections                             00209000
*                                                                       00210000
*      ***************************************************************  00211000
*      *                                                             *  00212000
*      * The second triplet points to the 1154 subtype specific self *  00213000
*      * defining section.                                           *  00214000
*      *                                                             *  00215000
*      ***************************************************************  00216000
*                                                                       00217000
*                                                                       00218000
SMF1154_SubSpec_Offset DS   F      Offset from record start to the     *00219000
                                   subtype specific self defining      *00220000
                                   section                              00221000
SMF1154_SubSpec_Length DS   H      Length of the subtype specific self *00222000
                                   defining section                     00223000
SMF1154_SubSpec_Number DS   H      Number of subtype specific self     *00224000
                                   defining sections                    00225000
SMF1154_CTRP_END      DS    0C     End of common self defining section  00226000
SMF1154_CTRP_Len      EQU   *-SMF1154_CTRP                              00227000
.L0006                ANOP                                              00228000
                      AIF   ('&SMF1154_C_HDR' EQ 'NO').L000A            00229000
                      AIF   ('&DSECT' EQ 'YES').L000B                   00230000
                      AIF   ('&SMF1154_C_HDR' NE 'YES').L000A           00231000
.L000B                ANOP                                              00232000
*                                                                       00233000
* ********************************************************************  00234000
* * Start of the 1154 common header section. This section is         *  00235000
* * included in all subtypes of the 1154 record. A program can       *  00236000
* * locate this section by adding the value in the field named       *  00237000
* * SMF1154_C_Offset to the address of the start of the 1154 record. *  00238000
* ********************************************************************  00239000
*                                                                       00240000
*                                                                       00241000
                      AIF   ('&DSECT' EQ 'YES').L000C                   00242000
SMF1154_C_HDR         DS    0F     Common header section                00243000
                      AGO   .L000D                                      00244000
.L000C                ANOP                                              00245000
SMF1154_C_HDR         DSECT        Common header section                00246000
.L000D                ANOP                                              00247000
SMF1154_C_Version     DS    H      Version of common hdr, Refer to     *00248000
                                   constant: SMF1154_C_Version_Current  00249000
SMF1154_C_RecordInd   DS    X      1 = more records follow 0 = last or *00250000
                                   only record in the set               00251000
SMF1154_C_SeqNumber   DS    X      Sequence number, starting with 0,   *00252000
                                   incremented for each additional     *00253000
                                   record in the set                    00254000
SMF1154_C_Release     DS    F      z/OS release (as ECVTPSEQ product   *00255000
                                   sequence number)                     00256000
SMF1154_C_SystemName  DS    CL8    System name (EBCDIC)                 00257000
SMF1154_C_SysplexName DS    CL8    Sysplex name (EBCDIC)                00258000
SMF1154_C_UserID      DS    CL8    SAF user ID or blanks                00259000
SMF1154_C_Jobname     DS    CL8    Jobname associated with the SMF     *00260000
                                   data (EBCDIC).                       00261000
SMF1154_C_RequestID   DS    CL16   Request ID as provided via the ENF  *00262000
                                   86 parameter list.                   00263000
SMF1154_C_Correlator  DS    CL4    Value used to correlate records in  *00264000
                                   a set, along with subtype, system   *00265000
                                   name, sysplex name, jobname, and    *00266000
                                   request ID. Set to binary zeroes if *00267000
                                   not needed.                          00268000
SMF1154_C_HDR_END     DS    0C     End of common header section.        00269000
*                                                                       00270000
* ********************************************************************  00271000
* * Constant used to set or check the extended record type,          *  00272000
* * SMFHDR1_EXT_RTY, defined in IFASMFH                              *  00273000
* ********************************************************************  00274000
*                                                                       00275000
*                                                                       00276000
SMF1154HD_EXT_RTY_Value EQU 1154                                        00277000
*                                                                       00278000
* ********************************************************************  00279000
* ********************************************************************  00280000
* * Constants for SMF1154_C_Version Field                            *  00281000
* ********************************************************************  00282000
*                                                                       00283000
*                                                                       00284000
SMF1154C_Version_Current EQU 1                                          00285000
SMF1154C_Version_1    EQU   1                                           00286000
*                                                                       00287000
* ********************************************************************  00288000
* * When the information for an SMF 1154 record exceeds 32,756       *  00289000
* * bytes, multiple records are created to provide the complete set  *  00290000
* * of information.                                                  *  00291000
* * Each record contains:                                            *  00292000
* * - Standard extended SMF header                                   *  00293000
* * - 1154 common self defining section                              *  00294000
* * - 1154 common header section                                     *  00295000
* * - 1154 subtype specific self defining section                    *  00296000
* *                                                                  *  00297000
* * In the 1154 common  header, if there is a set of records:        *  00298000
* * - SMF1154_C_RecordInd indicates if more records follow           *  00299000
* *   (SMF1154C_More_Records)                                        *  00300000
* * - SMF1154_C_SeqNum indicates the sequence number, which starts   *  00301000
* *   at 0 and is incremented for each record in the set             *  00302000
* * - SMF1154_C_Correlator is a value that can be used as an         *  00303000
* *   additional piece of information to correlate records within    *  00304000
* *   a set. If subtype, system name, sysplex name, jobname,         *  00305000
* *   and request ID uniquely identify a set of records, the         *  00306000
* *   correlator can be set to 0.                                    *  00307000
* *                                                                  *  00308000
* * The triplets in the 1154 subtype specific section indicate which *  00309000
* * sections (and how many instances of the section) are included    *  00310000
* * in the record. Individual instances of a section will not be     *  00311000
* * split across records. For a section with multiple instances,     *  00312000
* * some instances can be included in one record and the remaining   *  00313000
* * instances can be included in a subsequent record(s).             *  00314000
* *                                                                  *  00315000
* * Records within a set can be correlated using the subtype         *  00316000
* * (SMFHDR1_STP) from the extended SMF header and the system name,  *  00317000
* * sysplex name, jobname, request ID, and correlator from the 1154  *  00318000
* * common header.                                                   *  00319000
* ********************************************************************  00320000
* ********************************************************************  00321000
* * Constants for SMF1154_C_RecordInd Field                          *  00322000
* ********************************************************************  00323000
*                                                                       00324000
*                                                                       00325000
SMF1154C_More_Records EQU   1                                           00326000
SMF1154C_LastOrOnly_Record EQU 0                                        00327000
*                                                                       00328000
* ********************************************************************  00329000
* * IBM reserved 1154 subtypes and user reserved 1154 subtypes       *  00330000
* * boundary indicators:                                             *  00331000
* *   IBM assigned 1154 subtypes: x'0' - x'1FFF' (0-8191)            *  00332000
* *  User assigned 1154 subtypes: x'2000' - x'2FFF' (8192-12287)     *  00333000
* ********************************************************************  00334000
* ********************************************************************  00335000
* *                                                                  *  00336000
* * Mappings for the subtype specific section of the 1154 are        *  00337000
* * provided by the product that builds the subtype.                 *  00338000
* *                                                                  *  00339000
* * For extensibility, the subtype specific section MUST provide     *  00340000
* * the number of triplets associated with the subtype:              *  00341000
* *                                                                  *  00342000
* * ---------------------------------------------------------------- *  00343000
* * ! Name                     ! Len. ! Description                ! *  00344000
* * !==========================!======!============================! *  00345000
* * ! SMF1154_<x>_TRN          ! 2    ! Number of triplets in the  ! *  00346000
* * !                          !      ! subtype <x> data section   ! *  00347000
* * !--------------------------!------!----------------------------! *  00348000
* * ! *                        ! 2    ! Reserved, set to 0         ! *  00349000
* * ---------------------------------------------------------------- *  00350000
* *                                                                  *  00351000
* * This is followed by an array of triplets for each section in the *  00352000
* * subtype, with <y> as a placeholder for the section number:       *  00353000
* *                                                                  *  00354000
* * ---------------------------------------------------------------- *  00355000
* * ! Name                     ! Len. ! Description                ! *  00356000
* * !==========================!======!============================! *  00357000
* * ! SMF1154_<x>_S<y>_Offset  ! 4    ! 1154 subtype <x> section   ! *  00358000
* * !                          !      ! <y> offset from the start  ! *  00359000
* * !                          !      ! of the record              ! *  00360000
* * !--------------------------!------!----------------------------! *  00361000
* * ! SMF1154_<x>_S<y>_Length  ! 2    ! Length of a single instance! *  00362000
* * !                          !      ! of a1 1154 subtype (x)     ! *  00363000
* * !                          !      ! section <y>                ! *  00364000
* * !--------------------------!------!----------------------------! *  00365000
* * ! SMF1154_<x>_S<y>_Number  ! 2    ! 1154 subtype <x> section   ! *  00366000
* * !                          !      ! <y> number of instances    ! *  00367000
* * ---------------------------------------------------------------- *  00368000
* *                                                                  *  00369000
* * To ensure uniqueness, all fields in the subtype specific         *  00370000
* * sections of the record MUST begin with SMF1154_<x>, with <x> as  *  00371000
* * a placeholder for the subtype number.                            *  00372000
* *                                                                  *  00373000
* ********************************************************************  00374000
*                                                                       00375000
*                                                                       00376000
SMF1154_Dummy1        EQU   0      Used by IBM for the purpose of      *00377000
                                   generating code                      00378000
SMF1154_C_HDR_Len     EQU   *-SMF1154_C_HDR                             00379000
.L000A                ANOP                                              00380000
                      AIF   ('&ZCBPRINT' EQ 'NO').P3                    00381000
                      AIF   ('&LIST' EQ 'YES').P4                       00382000
.P3                   ANOP                                              00383000
                      POP   PRINT                                       00384000
.P4                   ANOP                                              00385000
.P_EXIT               ANOP                                              00386000
                      MEND                                              00387000
**/ ;                                                                   00388000
* %IFAR1154_INCLUDED = 'YES';                                           00389000
* %DCL ZCBPRINT CHAR EXT;                                               00390000
* %DEACTIVATE ZCBPRINT;                                                 00391000
* %DCL IFAR1154_LIST CHAR EXT;                                          00392000
* %DEACTIVATE IFAR1154_LIST;                                            00393000
* %IF IFAR1154_LIST = 'NO' !                                            00394000
*    ZCBPRINT = 'NO' %THEN                                              00395000
* %DO;                                                                  00396000
*   @LIST PUSH NOECHO;                                                  00397000
*   @LIST NOASSEMBLE NOECHO;                                            00398000
*   @LIST OFF C NOECHO;                                                 00399000
* %END;                                                                 00400000
*/* Start of PL/X Source                                             */ 00401000
*/********************************************************************/ 00402000
*/*                                                                  */ 00403000
*/* Standard layout of the Type 1154 record with <y> number of       */ 00404000
*/* sections associated with the subtype <x>:                        */ 00405000
*/*                                                                  */ 00406000
*/* ---------------------------------------------------------------- */ 00407000
*/* ! Start of record                                              ! */ 00408000
*/* ---------------------------------------------------------------- */ 00409000
*/* ! Standard extended SMF header                                 ! */ 00410000
*/* !--------------------------------------------------------------! */ 00411000
*/* ! Type 1154 common self defining section                       ! */ 00412000
*/* !--------------------------------------------------------------! */ 00413000
*/* ! Type 1154 common header section                              ! */ 00414000
*/* !--------------------------------------------------------------! */ 00415000
*/* ! Type 1154 subtype <x> self defining section                  ! */ 00416000
*/* !--------------------------------------------------------------! */ 00417000
*/* ! type 1154 subtype <x> data section 1                         ! */ 00418000
*/* ---------------------------------------------------------------- */ 00419000
*/*   ...                                                            */ 00420000
*/* ---------------------------------------------------------------- */ 00421000
*/* ! type 1154 subtype <x> data section <y>                       ! */ 00422000
*/* ---------------------------------------------------------------- */ 00423000
*/* ! End of record                                                ! */ 00424000
*/* ---------------------------------------------------------------- */ 00425000
*/*                                                                  */ 00426000
*/* The mapping provided in this macro is for the portion of the     */ 00427000
*/* record that is common to all 1154 subtypes.                      */ 00428000
*/*                                                                  */ 00429000
*/* The Type 1154 record begins with an extended SMF header. The     */ 00430000
*/* structure named SMFHDR1 of the IFASMFH mapping macro maps the    */ 00431000
*/* extended SMF header. For type 1154 records, the SMFHDR1_Ext_Rty  */ 00432000
*/* field is set to 1154 (decimal) which is defined by the           */ 00433000
*/* SMF1154HD_EXT_RTY_Value equate (constant).                       */ 00434000
*/*                                                                  */ 00435000
*/* The maping for the Type 1154 common self defining section        */ 00436000
*/* directly follows the SMF extended header. It has these 2         */ 00437000
*/* triplets:                                                        */ 00438000
*/*   1.  Triplet for the 1154 common header section                 */ 00439000
*/*   2.  Triplet for the 1154 subtype specific self defining        */ 00440000
*/*       section                                                    */ 00441000
*/*                                                                  */ 00442000
*/********************************************************************/ 00443000
* Declare 1 SMF1154 Based(ADDR(SMFHDR1)),                               00444000
*          3 SMF1154_Record Char(*);                                    00445000
*/********************************************************************/ 00446000
*/* Start of the 1154 self defining section. A program can locate    */ 00447000
*/* this section by adding the following values to the address of    */ 00448000
*/* the start of the 1154 record:                                    */ 00449000
*/* - the length of the standard SMF header which is defined by the  */ 00450000
*/*   IFASMFH equate (constant) named SMFHDR_Std_Len                 */ 00451000
*/* - the length of the extended SMF header that is mapped beyond    */ 00452000
*/*   the standard SMF header. This value resides in the 1154 record */ 00453000
*/*   in the IFASMFH field named SMFHDR1_Ext_Len                     */ 00454000
*/********************************************************************/ 00455000
* %IF SMF1154_CTRP_Base = '' %Then                                      00456000
* %Do;                                                                  00457000
*   %SMF1154_CTRP_Base =                                                00458000
*   'Based(Addr(SMF1154) + SMFHDR_Std_Len + SMFHDR1_Ext_Len)';          00459000
* %End;                                                                 00460000
* Declare                                                               00461000
*  1 SMF1154_CTRP SMF1154_CTRP_Base,    /* Common self defining         00462000
*                                          section                   */ 00463000
*    3 SMF1154_CTRP_TRN      Fixed(16), /* Number of triplets(2)     */ 00464000
*    3 SMF1154_CTRP_Rsvd     Fixed(16), /* Reserved, set to 0        */ 00465000
*                                                                       00466000
*    /* The first triplet points to the 1154 Common Header           */ 00467000
*    /* section that is used by all Type 1154 records.               */ 00468000
*                                                                       00469000
*    3 SMF1154_C_Offset      Fixed(32), /* Offset from record start     00470000
*                                     to the 1154 common header         00471000
*                                     section                        */ 00472000
*    3 SMF1154_C_Length      Fixed(16), /* Length of the                00473000
*                                     1154 common header section     */ 00474000
*    3 SMF1154_C_Number      Fixed(16), /* Number of 1154 common        00475000
*                                     header sections                */ 00476000
*                                                                       00477000
*    /* The second triplet points to the 1154 subtype specific       */ 00478000
*    /* self defining section.                                       */ 00479000
*                                                                       00480000
*    3 SMF1154_SubSpec_Offset Fixed(32), /* Offset from record start    00481000
*                                     to the subtype specific self      00482000
*                                     defining section               */ 00483000
*    3 SMF1154_SubSpec_Length Fixed(16), /* Length of the subtype       00484000
*                                     specific self defining section */ 00485000
*    3 SMF1154_SubSpec_Number Fixed(16), /* Number of subtype specific  00486000
*                                     self defining sections         */ 00487000
*    3 SMF1154_CTRP_END       Char(0); /* End of common self defining   00488000
*                                         section                    */ 00489000
*                                                                       00490000
*/********************************************************************/ 00491000
*/* Start of the 1154 common header section. This section is         */ 00492000
*/* included in all subtypes of the 1154 record. A program can       */ 00493000
*/* locate this section by adding the value in the field named       */ 00494000
*/* SMF1154_C_Offset to the address of the start of the 1154 record. */ 00495000
*/********************************************************************/ 00496000
* %IF SMF1154_C_Hdr_Base = '' %Then                                     00497000
* %Do;                                                                  00498000
*   %SMF1154_C_Hdr_Base =                                               00499000
*      'Based(Addr(SMF1154) + SMF1154_C_Offset)';                       00500000
* %End;                                                                 00501000
* Declare                                                               00502000
*  1 SMF1154_C_HDR SMF1154_C_Hdr_Base,  /* Common header section     */ 00503000
*    3 SMF1154_C_Version     Fixed(16), /* Version of common hdr,       00504000
*                                     Refer to constant:                00505000
*                                     SMF1154_C_Version_Current      */ 00506000
*    3 SMF1154_C_RecordInd   Fixed(8),  /* 1 = more records follow      00507000
*                                          0 = last or only record      00508000
*                                              in the set            */ 00509000
*    3 SMF1154_C_SeqNumber   Fixed(8),  /* Sequence number, starting    00510000
*                                   with 0, incremented for each        00511000
*                                   additional record in the set     */ 00512000
*    3 SMF1154_C_Release     Fixed(32), /* z/OS release (as ECVTPSEQ    00513000
*                                       product sequence number)     */ 00514000
*    3 SMF1154_C_SystemName  Char(8),   /* System name (EBCDIC)      */ 00515000
*    3 SMF1154_C_SysplexName Char(8),   /* Sysplex name (EBCDIC)     */ 00516000
*    3 SMF1154_C_UserID      Char(8),   /* SAF user ID or blanks     */ 00517000
*    3 SMF1154_C_Jobname     Char(8),   /* Jobname associated with      00518000
*                                          the SMF data (EBCDIC).    */ 00519000
*    3 SMF1154_C_RequestID   Char(16),  /* Request ID as provided via   00520000
*                                          the ENF 86 parameter list.   00521000
*                                                                    */ 00522000
*    3 SMF1154_C_Correlator  Char(4),   /* Value used to correlate      00523000
*                                          records in a set, along      00524000
*                                          with subtype, system name,   00525000
*                                          sysplex name, jobname,       00526000
*                                          and request ID. Set to       00527000
*                                          binary zeroes if not         00528000
*                                          needed.                   */ 00529000
*    3 SMF1154_C_HDR_END     Char(0);  /* End of common header          00530000
*                                         section.                   */ 00531000
*                                                                       00532000
*/********************************************************************/ 00533000
*/* Constant used to set or check the extended record type,          */ 00534000
*/* SMFHDR1_EXT_RTY, defined in IFASMFH                              */ 00535000
*/********************************************************************/ 00536000
* Declare                                                               00537000
*   SMF1154HD_EXT_RTY_Value Fixed(16) Constant(1154);                   00538000
*                                                                       00539000
*/********************************************************************/ 00540000
*                                                                       00541000
*/********************************************************************/ 00542000
*/* Constants for SMF1154_C_Version Field                            */ 00543000
*/********************************************************************/ 00544000
* Declare                                                               00545000
*   SMF1154C_Version_Current   Fixed(16) Constant(1);                   00546000
* Declare                                                               00547000
*   SMF1154C_Version_1         Fixed(16) Constant(1);                   00548000
*/********************************************************************/ 00549000
*/* When the information for an SMF 1154 record exceeds 32,756       */ 00550000
*/* bytes, multiple records are created to provide the complete set  */ 00551000
*/* of information.                                                  */ 00552000
*/* Each record contains:                                            */ 00553000
*/* - Standard extended SMF header                                   */ 00554000
*/* - 1154 common self defining section                              */ 00555000
*/* - 1154 common header section                                     */ 00556000
*/* - 1154 subtype specific self defining section                    */ 00557000
*/*                                                                  */ 00558000
*/* In the 1154 common  header, if there is a set of records:        */ 00559000
*/* - SMF1154_C_RecordInd indicates if more records follow           */ 00560000
*/*   (SMF1154C_More_Records)                                        */ 00561000
*/* - SMF1154_C_SeqNum indicates the sequence number, which starts   */ 00562000
*/*   at 0 and is incremented for each record in the set             */ 00563000
*/* - SMF1154_C_Correlator is a value that can be used as an         */ 00564000
*/*   additional piece of information to correlate records within    */ 00565000
*/*   a set. If subtype, system name, sysplex name, jobname,         */ 00566000
*/*   and request ID uniquely identify a set of records, the         */ 00567000
*/*   correlator can be set to 0.                                    */ 00568000
*/*                                                                  */ 00569000
*/* The triplets in the 1154 subtype specific section indicate which */ 00570000
*/* sections (and how many instances of the section) are included    */ 00571000
*/* in the record. Individual instances of a section will not be     */ 00572000
*/* split across records. For a section with multiple instances,     */ 00573000
*/* some instances can be included in one record and the remaining   */ 00574000
*/* instances can be included in a subsequent record(s).             */ 00575000
*/*                                                                  */ 00576000
*/* Records within a set can be correlated using the subtype         */ 00577000
*/* (SMFHDR1_STP) from the extended SMF header and the system name,  */ 00578000
*/* sysplex name, jobname, request ID, and correlator from the 1154  */ 00579000
*/* common header.                                                   */ 00580000
*/********************************************************************/ 00581000
*/********************************************************************/ 00582000
*/* Constants for SMF1154_C_RecordInd Field                          */ 00583000
*/********************************************************************/ 00584000
* Declare                                                               00585000
*   SMF1154C_More_Records      Fixed(8) Constant(1);          /*     */ 00586000
* Declare                                                               00587000
*   SMF1154C_LastOrOnly_Record Fixed(8) Constant(0);          /*     */ 00588000
*                                                                       00589000
*/********************************************************************/ 00590000
*/* IBM reserved 1154 subtypes and user reserved 1154 subtypes       */ 00591000
*/* boundary indicators:                                             */ 00592000
*/*   IBM assigned 1154 subtypes: x'0' - x'1FFF' (0-8191)            */ 00593000
*/*  User assigned 1154 subtypes: x'2000' - x'2FFF' (8192-12287)     */ 00594000
*/********************************************************************/ 00595000
*                                                                       00596000
*/********************************************************************/ 00597000
*/*                                                                  */ 00598000
*/* Mappings for the subtype specific section of the 1154 are        */ 00599000
*/* provided by the product that builds the subtype.                 */ 00600000
*/*                                                                  */ 00601000
*/* For extensibility, the subtype specific section MUST provide     */ 00602000
*/* the number of triplets associated with the subtype:              */ 00603000
*/*                                                                  */ 00604000
*/* ---------------------------------------------------------------- */ 00605000
*/* ! Name                     ! Len. ! Description                ! */ 00606000
*/* !==========================!======!============================! */ 00607000
*/* ! SMF1154_<x>_TRN          ! 2    ! Number of triplets in the  ! */ 00608000
*/* !                          !      ! subtype <x> data section   ! */ 00609000
*/* !--------------------------!------!----------------------------! */ 00610000
*/* ! *                        ! 2    ! Reserved, set to 0         ! */ 00611000
*/* ---------------------------------------------------------------- */ 00612000
*/*                                                                  */ 00613000
*/* This is followed by an array of triplets for each section in the */ 00614000
*/* subtype, with <y> as a placeholder for the section number:       */ 00615000
*/*                                                                  */ 00616000
*/* ---------------------------------------------------------------- */ 00617000
*/* ! Name                     ! Len. ! Description                ! */ 00618000
*/* !==========================!======!============================! */ 00619000
*/* ! SMF1154_<x>_S<y>_Offset  ! 4    ! 1154 subtype <x> section   ! */ 00620000
*/* !                          !      ! <y> offset from the start  ! */ 00621000
*/* !                          !      ! of the record              ! */ 00622000
*/* !--------------------------!------!----------------------------! */ 00623000
*/* ! SMF1154_<x>_S<y>_Length  ! 2    ! Length of a single instance! */ 00624000
*/* !                          !      ! of a1 1154 subtype (x)     ! */ 00625000
*/* !                          !      ! section <y>                ! */ 00626000
*/* !--------------------------!------!----------------------------! */ 00627000
*/* ! SMF1154_<x>_S<y>_Number  ! 2    ! 1154 subtype <x> section   ! */ 00628000
*/* !                          !      ! <y> number of instances    ! */ 00629000
*/* ---------------------------------------------------------------- */ 00630000
*/*                                                                  */ 00631000
*/* To ensure uniqueness, all fields in the subtype specific         */ 00632000
*/* sections of the record MUST begin with SMF1154_<x>, with <x> as  */ 00633000
*/* a placeholder for the subtype number.                            */ 00634000
*/*                                                                  */ 00635000
*/********************************************************************/ 00636000
*  Declare SMF1154_Dummy1 Constant(0);  /* Used by IBM for the purpose  00637000
*                                          of generating code        */ 00638000
* @LOGIC;                                                               00639000
* #PRAGMA TOOL=CBGEN.                                                   00640000
* #USEORG.                                                              00641000
* #AlignOp.                                                             00642000
* #NotUpper.                                                            00643000
* #EPRAGMA.                                                             00644000
* @ENDLOGIC;                                                            00645000
*/* End of PL/X Source                                               */ 00646000
* %IF IFAR1154_LIST = 'NO' !                                            00647000
*    ZCBPRINT = 'NO' %THEN                                              00648000
* %DO;                                                                  00649000
*   @LIST POP NOECHO;                                                   00650000
* %END;                                                                 00651000
* %END;                                                                 00652000
