 #ifndef _sock_chain_                                                   00010000
 #define _sock_chain_  /*                                               00020000
         AGO  .SOCK                                                     00030000
*//****** START OF SPECIFICATIONS ****************************          00040000
.***PROPRIETARY_STATEMENT*************************************          00041000
.*01* PROPRIETARY STATEMENT:                                 *          00042000
.*                                                           *          00043000
.*    Licensed Materials-Property of IBM                     *          00044000
.*    5650-ZOS Copyright IBM Corp. 2005, 2017                *          00045000
.*                                                           *          00046000
.*    Status= HBB77B0                                        *          00047000
.*                                                           *          00048000
.***END_OF_PROPRIETARY_STATEMENT******************************          00049000
*                                                            *          00050000
*01* DESCRIPTIVE NAME:  IAZ Socket chain element             *          00060000
*02*  ACRONYM:  IAZCSOCK                                     *          00080000
*                                                            *          00090000
*01* MACRO NAME:  IAZCSOCK                                   *          00100000
*                                                            *          00110000
*01* DSECT NAME:  SOCK                                       *          00111000
*01* LABEL PREFIX:  SOCK                                     *          00114000
*01* STRUCT NAME: sock_chain                                 *          00120000
*                                                            *          00150000
*01* COMPONENT ID:  JES Common (SC141)                       *          00160000
*                                                            *          00170000
*01* EXTERNAL CLASSIFICATION: DMTI                           * @Z23D099 00340000
*01* END OF EXTERNAL CLASSIFICATION:                         *          00370000
*                                                            *          00380000
*01* EYE-CATCHER: INSOCK/OUTSOCK                             *          00390000
*02*  OFFSET:0                                               *          00400000
*02*  LENGTH:8                                               *          00410000
*                                                            *          00420000
*01* STORAGE ATTRIBUTES:                                     *          00430000
*02*  SUBPOOL:  0                                            *          00440000
*02*  KEY:  0                                                *          00450000
*02*  RESIDENCY: Any                                         *          00460000
*      Virtual storage below 2G, real storage anywhere,      *          00470000
*      in the private storage of the IAZNJTCP address space. *          00480000
*                                                            *          00490000
*01* SIZE:                                                   *          00500000
*     See SOCKLEN                                            *          00501000
*                                                            *          00504000
*01* CREATED BY:                                             *          00510000
*     IAZNJSTK initialization processing                     *          00513000
*                                                            *          00516000
*01* POINTED TO BY:                                          *          00520000
*     SOCK_CHN field of the IAZNJSTK local data area         *          00522000
*                                                            *          00525000
*01* SERIALIZATION:                                          *          00530000
*     None required                                          *          00540000
*                                                                       00541000
*01* FUNCTION:                                               *          00542000
*                                                            *          00543000
*     Socket chain structure representing a NETSRV socket.   *          00544000
*                                                            *          00545000
*01* METHOD OF ACCESS:                                       *          00550000
*                                                            *          00560000
*02*  C:                                                     *          00570000
*      Header file #include <iazcsock.h>                     *          00580000
*02*  ASM:                                                   *          00590000
*      COPY IAZCSOCK  (for assembler version)                *          00600000
*      COPY IAZDUMOP  which contains the opcodes for #ifndef,*          00610000
*                     #define,#endif                         *          00620000
*                                                            *          00630000
*01* DELETED BY:                                             *          00640000
*                                                            *          00650000
*     Task deletion                                          *          00660000
*                                                            *          00670000
*01* FREQUENCY:                                              *          00680000
*                                                            *          00690000
*     1 per each task in NJE/TCP address space               *          00700000
*                                                            *          00710000
*01* RESTRICTIONS:                                           *          00720000
*                                                            *          00730000
*     IAZCMSTR has to be included before including           *          00740000
*     IAZCSOCK as a header file since IAZCSOCK contains      *          00750000
*     pointers to structures defined in IAZCMSTR.            *          00760000
*                                                            *          00770000
**************************************************************          00780000
*********************************************************************** 00785000
*01* CHANGE ACTIVITY:                                                 * 00790000
*                                                                     * 00800000
* $Z07LTCP=NJETCP   HBB7720 031120 NRS:  IAZCSOCK                     * 00810000
* $Z07LTCP=NJETCP   HBB7720 040726 NRS:  Trace changes                * 00820000
* $Z07LTCP=NJETCP   HBB7720 040730 NRS:  Ctl record changes           * 00830000
* $Z07LTCP=NJETCP   HBB7720 040806 NRS:  Buffering changes            * 00840000
* $ME02010=NJETCP   HBB7720 041014 NRS:  BSC NJE Enhancements         * 00850000
*                                        ME02010                      * 00860000
* $Z07LTCP=NJETCP   HBB7720 041119 NRS:  FCS mask creation            * 00870000
* $Z07LTCP=NJETCP   HBB7720 041129 NRS:  Spnd rcds acr bufs           * 00880000
* $Z07LTCP=NJETCP   HBB7720 050207 NRS:  Code review comments         * 00890000
* $Z07LTCP=NJETCP   HBB7720 050214 NRS:  $ELINEx/$PLINEx              * 00900000
* $ME03123=NJETCP   HBB7720 050315 NRS:  $ELx.STx/SRx chngs           * 00910000
*                                        ME03123                      * 00920000
* $ME03233=NJETCP   HBB7720 050329 NRS:  Chng mult RB procng          * 00930000
*                                        ME03233                      * 00940000
* $ME05189=NJETCP   HBB7720 051214 CLW:  Don't wait for ctl           * 00942000
*                                        ME05189                      * 00945000
* $ME05015=NJETCP   HBB7720 060204 CLW:  IPCS formatting              * 00946000
*                                        ME05015                      * 00947000
* $ME05910=NJETCP   HBB7720 060323 CLW:  RI/PI/RC sequencing          * 00948000
*                                        ME05910                      * 00949000
*                                                                     * 00950000
*01* A000000-999999    Created for z/OS Release 7              @Z07LTCP 00960000
****** END OF SPECIFICATIONS *****************************************/ 00970000
                                                                        00980000
#pragma pack(1)                                                         00990000
struct sock_chain {                                                     01000000
  char           sock_eyeÝ8¨;                                           01010000
                 /* Eye catcher - INSOCK/OUTSOCK             */         01020000
  struct sock_chain   *sock_next;                                       01030000
                 /* ptr to next element                      */         01040000
  struct sock_chain   *sock_prev;                                       01050000
                 /* ptr to prev element                      */         01060000
  void           *sock_mtcbp;                                           01070000
                 /* Pointer to the IAZCMTCB data area        */         01080000
  void           *sock_mtstp;                                           01090000
                 /* Pointer to the IAZCMTST data area for               01100000
                    this connection                          */         01110000
  void           *sock_nrqp;                                            01120000
                 /* Pointer to the dequeued NRQ              */         01130000
  void           *sock_nmsp;                                            01140000
                 /* Pointer to the dequeued NMS              */         01150000
  int            sock_bufsz;                                            01160000
                 /* Negotiated buffer size for the socket    */         01170000
                                                                        01180000
/*-----------------------------------------------------------*          01190000
 * Pointer to the DBC stuctures for each of the transmitter  *          01200000
 * receiver in the socket.                                   *          01210000
 *                                                           *          01220000
 *             INT SOCK_DBC_XMTRÝ8¨                          *          01230000
 *  IAZYTPRM   +-------------+---------------+------+        *          01240000
 *  +------+   ! DBC  ! DBC  !               ! DBC  !        *          01250000
 *  ........   ! PTR1 ! PTR2 !:::::::::::::::! PTR8 !        *          01260000
 *  ........   +------+------+---------------+------+        *          01270000
 *  .      .    !      !                      !              *          01280000
 *  +------+    !      !        ..........    +-----> DBC8   *          01290000
 *  ! DBC  !    !      +---> DBC2                            *          01300000
 *  ! PTR  !    !                                            *          01310000
 *  +--+---+    !    DBC1                   data buffer      *          01320000
 *     V        ! 0 +-------+       +----->+---------+       *          01330000
 *     !        +-> ! RCB   !       !   +->!data.....!       *          01340000
 *     V       }  1 +-------+       !   !  !.........!       *          01350000
 *  Can be     }    ! SRCB  !    +--!---+  !.........!       *          01360000
 *  any one of }  2 +-------+    !  !   !  !.........!       *          01370000
 *  DBC1,...,  }    !.......!    !  !   !  !.........!       *          01380000
 *  ...,DBC8   }  4 +-------+    !  !   +->!.end-data!       *          01390000
 *  depending  }    ! DBLEN !<---+  !      !         !       *          01400000
 *  on the RCB }  8 +-------+       !      !         !       *          01410000
 *  for which  }    ! DBPTR !-------+      !         !       *          01420000
 *  TPRM is    }  12+-------+              +---------+       *          01430000
 *  setup.     }                                             *          01440000
 *                                                           *          01450000
 * Similarly SOCK_DBC_RCVRÝ8¨ exists for all the receivers.  *          01460000
 *                                                           *          01470000
 *-----------------------------------------------------------*/         01480000
                                                                        01490000
  struct dbc     *sock_dbc_xmtrÝ8¨;   /* Array of 8 DBC ptrs            01500000
                                        for each of the 8               01510000
                                        transmitters         */         01520000
  struct dbc     *sock_dbc_rcvrÝ8¨;   /* Array of 8 DBC ptrs            01530000
                                        for each of the 8               01540000
                                        receivers            */         01550000
  struct dbcst   sock_xmtr_dbcstÝ8¨;                                    01560000
                                      /* DBC related status             01570000
                                         flags that indicate            01580000
                                         the steps to be                01590000
                                         taken depending on             01600000
                                         the DBC status of the          01610000
                                         transmitters        */         01620000
  struct dbcst   sock_rcvr_dbcstÝ8¨;                                    01630000
                                      /* DBC related status             01640000
                                         flags that indicate            01650000
                                         the steps to be                01660000
                                         taken depending on             01670000
                                         the DBC status of the          01680000
                                         receivers           */         01690000
  struct dbcst   sock_allstrm_dbcstÝ8¨;                    /*@Z07LTCP*/ 01700000
                                      /* DBC related status *@Z07LTCP*  01710000
                                         flags that indicate*@Z07LTCP*  01720000
                                         the steps to be    *@Z07LTCP*  01730000
                                         taken depending on *@Z07LTCP*  01740000
                                         the DBC status of  *@Z07LTCP*  01750000
                                         the receivers      *@Z07LTCP*/ 01760000
                                                                        01770000
/*-----------------------------------------------------------*          01780000
 * The following are pointers to structures containing       *          01790000
 * pointers of TCP/IP buffers used to send/receive data.     *          01800000
 *                                                           *          01810000
 * The transmit buffers are used to send data to TCP/IP after*          01820000
 * the data received from the transmitters is compressed in  *          01830000
 * BSC/NJE format.                                           *          01840000
 *                                                           *          01850000
 * The receiver buffers are used to receive data from TCP/IP *          01860000
 * and send it to the decompression routine to decompress    *          01870000
 * the data and build a SPOOL data record from the NJE data  *          01880000
 * segments. The SPOOL record is then sent to the respective *          01890000
 * JES receiver based on the RCB, SRCB of the data.          *          01900000
 *-----------------------------------------------------------*/         01910000
                                                                        01920000
  struct xrbstr *sock_xrb_send_ptrsÝTCPSBCT¨;  /* Array of              01930000
                          pointers to XRBSTR structures used            01940000
                                   to send data to TCP/IP    */         01950000
  struct xrbstr *sock_xrb_recv_ptrsÝTCPRBCT¨; /* Array of               01960000
                          pointers to XRBSTR structures used            01970000
                                   to receive data to TCP/IP */         01980000
  void          *sock_comp_warea_pt; /* Pointer to the work *@Z07LTCP*  01990000
                                        area used by the    *@Z07LTCP*  02000000
                                        compression routine  */         02010000
  void          *sock_dcmp_warea_pt; /* Pointer to the work *@Z07LTCP*  02020000
                                        area used by the    *@Z07LTCP*  02030000
                                        decompression routine*/         02040000
  void          *sock_splt_warea_pt; /* Pointer to the work *@Z07LTCP*  02050000
                                        area used by the    *@Z07LTCP*  02060000
                                        spltdrec routine     */         02070000
  unsigned int  sock_tcp_retcde;     /* TCP/IP error code   *@Z07LTCP*  02080000
                                        used by IAZNJTCP and*@Z07LTCP*  02090000
                                       IAZNJSTK             *@Z07LTCP*/ 02100000
  unsigned char  sock_currcb;        /* RCB of data for which           02110000
                                        a check would be made           02120000
                                        to see if there is any          02130000
                                        transmission buffer             02140000
                                        that is currently being         02150000
                                        filled up            */         02160000
  unsigned char  sock_jfcsmskÝ14¨;   /* FCS mask of all the *@Z07LTCP*  02170000
                                        Job streams         *@Z07LTCP*/ 02180000
  unsigned char  sock_sfcsmskÝ14¨;   /* FCS mask of all the *@Z07LTCP*  02190000
                                        SYSOUT streams      *@Z07LTCP*/ 02200000
  unsigned char  sock_srvipadÝ16¨;                                      02210000
                 /* 128-bit IP address of this server        */         02220000
  unsigned char  sock_rmtipadÝ16¨;                                      02230000
                 /* 128-bit IP address of remote peer        */         02240000
  unsigned char  sock_rmt_hostnmÝ255¨;                                  02250000
                 /* Host name of the remote peer             */         02260000
  unsigned char  sock_rmtndnmÝ8¨;                                       02270000
                 /* Node name of remote peer - Populated                02280000
                    from OPEN record for inbound requests               02290000
                    and from IAZYTNRQ for outbound requests  */         02300000
  unsigned short sock_srvport;                                          02310000
                 /* Port number of this server               */         02320000
  unsigned short sock_rmtport;                                          02330000
                 /* Ephemeral port number of the remote peer */         02340000
  struct {                                                              02350000
    unsigned int _socknjt;                                              02360000
                 /* JTNUM (outbound SYSIN streams)           */         02370000
    unsigned int _socknjr;                                              02380000
                 /* JRNUM (inbound SYSIN streams)            */         02390000
    unsigned int _socknst;                                              02400000
                 /* STNUM (outbound SYSOUT streams)          */         02410000
    unsigned int _socknsr;                                              02420000
                 /* SRNUM (inbound SYSOUT streams)           */         02430000
    unsigned char _xmtrmskÝ8¨;                                          02440000
                 /* RCB mask of the transmitters for the                02450000
                    socket                                   */         02460000
    unsigned char  _rcvrmskÝ8¨;                                         02470000
                 /* RCB mask of the receivers for the                   02480000
                    socket                                   */         02490000
    unsigned char  _allstrmskÝ8¨;                          /*@Z07LTCP*/ 02500000
                 /* RCB mask for all the possible streams   *@Z07LTCP*  02510000
                    for the socket                          *@Z07LTCP*/ 02520000
  } socknldv;    /* Number of logical Devices for this                  02530000
                    socket                                   */         02540000
  unsigned char  sock_flg1;                                             02550000
                 /* Flag byte                                */         02560000
  unsigned char  sock_flg2;                                             02570000
                 /* Flag byte                                */         02580000
  unsigned char  sock_flg3;                                             02590000
                 /* Flag byte                                */         02600000
  unsigned char  sock_family;                                           02610000
                 /* Domain name of the remote peer           */         02620000
  unsigned int   sock_id;                                  /*@Z23D025*/ 02630000
                 /* Socket identifier                       *@Z23D025*/ 02640000
  unsigned int   sock_tcp_rsncde;    /* TCP/IP reason code              02642000
                                        used by IAZNJTCP and            02644000
                                       IAZNJSTK              @OA48306*/ 02646000
  char *sock_curinrec;            /* Pointer to current char            02646400
                                     in input record         @OA49163*/ 02646800
  char *sock_curoubuf;            /* Pointer to current char            02647200
                                     in output buffer        @OA49163*/ 02647600
  char *sock_curinbuf;            /* Pointer to current char            02648000
                                     in input buffer         @OA49163*/ 02648400
  char *sock_curourec;            /* Pointer to current char            02648800
                                     in output record        @OA49163*/ 02649200
};                                                                      02650000
                                                                        02660000
/* Values for field "sock_flg1"                              */         02670000
#define sock_f1_connect_issued  0x80  /* Connect() has been             02680000
                                  issued but Connect() did              02690000
                                  not return                 */         02700000
#define sock_f1_connected   0x40  /* Connect successful with            02710000
                                  remote peer                */         02720000
#define sock_f1_dup_connect 0x20  /* Duplicate socket chain             02730000
                                  element                    */         02740000
#define sock_f1_reserved_10 0x10  /* Reserved for IBM        */         02750000
                                                                        02760000
#define sock_f1_dup_error   0x08  /* Duplicate already set   */         02770000
#define sock_f1_diag_active 0x04  /* Socket is in diag mode -           02780000
                                  Tracing is active.         */         02790000
#define sock_f1_send_init   0x02  /* Send initiated on socket*/         02800000
#define sock_f1_recv_init   0x01  /* Recv initiated on socket*/         02810000
                                                                        02820000
/* Values for field "sock_flg2"                              */         02830000
#define sock_f2_allwmrcb    0x80  /* Multiple RCBs are      *@Z07LTCP*  02840000
                                     allowed in (NCCIMRCB)  *@Z23D028*  02850000
                                     transmission buffer    *@Z07LTCP*/ 02860000
#define sock_f2_NJE_signed_ON   0x40  /* The socket has     *@Z07LTCP*  02870000
                                         Signed-On NJE wise *@Z07LTCP*/ 02880000
#define sock_f2_JES_trace   0x20  /* JES event and record   *@Z07LTCP*  02890000
                                     trace active for conn. *@Z07LTCP*/ 02900000
#define sock_f2_INT_trace   0x10  /* IAZ Internal trace -   *@Z07LTCP*  02910000
                                     Trace data supplied to *@Z07LTCP*  02920000
                                     JES in IAZHTTRC format *@Z07LTCP*/ 02930000
#define sock_f2_VRB_trace   0x08  /* Verbose trace -Controls*@Z07LTCP*  02940000
                                     message verbosity      *@Z07LTCP*/ 02950000
#define sock_f2_RC_to_send  0x04  /* Indicate RC has to be  *@Z07LTCP*  02960000
                                     sent on an unsupported *@Z07LTCP*  02970000
                                     stream                 *@Z07LTCP*/ 02980000
#define sock_f2_1st_buffer_sent 0x02 /*Indicate the first   *@Z23D008*  02990000
                                       buffer is sent on    *@Z23D008*  03000000
                                       socket               *@Z23D008*/ 03010000
#define sock_f2_allwmhdrs   0x01  /* NRQIPACK is set in "I" *@Z07LTCP*  03020000
                                     rcd to allow multiple  *@Z07LTCP*  03030000
                                     NJE headers in a single*@Z07LTCP*  03040000
                                     buffer                 *@Z07LTCP*/ 03050000
/* Values for field "sock_flg3"                              */         03060000
#define sock_f3_stop_conn   0x80  /* Stop connection request*@Z07LTCP*  03070000
                                     received for the conn. *@Z07LTCP*/ 03080000
#define sock_f3_no_RIPI     0x40  /* NCCIRIF set during NJE *@Z23D028*  03090000
                                     signon                 *@Z23D028*/ 03100000
#define sock_f3_sp_send_ini 0x20  /* Send initiated in special          03110000
                                     control record buffer  *@Z23D067*/ 03115000
#define sock_f3_no_xrb_send_avail 0x10  /* No XRB send      *@OA31464*  03120000
                                     buffers available      *@OA31464*/ 03125000
#define sock_f3_res_flg3_08 0x08  /* Reserved for IBM       *@Z07LTCP*/ 03130000
#define sock_f3_res_flg3_04 0x04  /* Reserved for IBM       *@Z07LTCP*/ 03140000
#define sock_f3_res_flg3_02 0x02  /* Reserved for IBM       *@Z07LTCP*/ 03150000
#define sock_f3_res_flg3_01 0x01  /* Reserved for IBM       *@Z07LTCP*/ 03160000
                                                                        03170000
#define socknjt socknldv._socknjt                                       03180000
#define socknjr socknldv._socknjr                                       03190000
#define socknst socknldv._socknst                                       03200000
#define socknsr socknldv._socknsr                                       03210000
#define sock_xmtrmsk socknldv._xmtrmsk                                  03220000
#define sock_rcvrmsk socknldv._rcvrmsk                                  03230000
#define sock_allstrmsk socknldv._allstrmsk                 /*@Z07LTCP*/ 03240000
                                                                        03250000
#pragma pack(reset)                                                     03260000
#endif                           /*                                     03270000
.SOCK              ANOP                                                 03280000
SOCK               DSECT                                                03290000
SOCK_EYE           DS CL8      Eye catcher                              03300000
SOCK_NEXT          DS A        Ptr to NEXT element                      03310000
SOCK_PREV          DS A        Ptr to PREV element                      03320000
SOCK_MTCBP         DS A        Pointer to the IAZCMTCB data area        03330000
SOCK_MTSTP         DS A        Pointer to the IAZCMTST data area       C03340000
                               for this connection                      03350000
SOCK_NRQP          DS A        Pointer to the dequeued NRQ              03360000
SOCK_NMSP          DS A        Pointer to the dequeued NMS              03370000
SOCK_BUFSZ         DS F        Negotiated buffer size for the socket    03380000
SOCK_DBC_XMTR      DS 8A       8 DBC ptrs for each of the 8 transmiters 03390000
SOCK_DBC_RCVR      DS 8A       8 DBC ptrs for each of the 8 receivers   03400000
SOCK_XMTR_DBCST    DS 8CL(DBCSTLEN)    DBC status flags for transmiters 03410000
SOCK_RCVR_DBCST    DS 8CL(DBCSTLEN)    DBC status flags for receivers   03420000
SOCK_ALLSTRM_DBCST DS 8CL(DBCSTLEN)    DBC status flags for unassigned C03430000
                                        subdevices             @Z23D062 03435000
*                                                                       03440000
*                                                                       03450000
*--------------------*=========*-------------------*                    03460000
*                    *IMPORTANT*                   *                    03470000
*--------------------*=========*-------------------*                    03480000
*                                                  *                    03490000
* TCPSBCT and TCPRBCT are fields defined in        *                    03500000
* IAZCDEFS. If they are changed in IAZCDEFS, they  *                    03510000
* have to be changed here.                         *                    03520000
*--------------------*=========*-------------------*                    03530000
*                                                                       03540000
TCPSBCT            EQU 8                                                03550000
TCPRBCT            EQU 8                                                03560000
*                                                                       03570000
SOCK_XRB_SEND_PTRS DS (TCPSBCT)AL4                                      03580000
*                              Pointers to XRBSTR structures used to   C03590000
                               send data                                03600000
SOCK_XRB_RECV_PTRS DS (TCPRBCT)AL4                                      03610000
*                              Pointers to XRBSTR structures used to   C03620000
                               receive data                             03630000
SOCK_COMP_WAREA_PT DS A        A pointer to the work buffer used by    C03640000
                               compression routine                      03650000
SOCK_DCMP_WAREA_PT DS A        Pointer to the work buffer used by      C03660000
                               decompression routine                    03670000
SOCK_SPLT_WAREA_PT DS A        POINTER TO THE WORK buffer used by      C03680000
                               spltdrec routine                         03690000
SOCK_TCP_RETCDE    DS F        TCP/IP error code used by IAZNJTCP      C03700000
                               and IAZNJSTK                             03710000
SOCK_CURRCB        DS CL1      RCB of data for which a check           C03720000
                               would be made to see if there           C03730000
                               is any transmission buffer that         C03740000
                               is currently being filled up             03750000
SOCK_JFCSMSK       DS CL14     FCS mask to be sent during              C03760000
                               transmitter sends                        03770000
SOCK_SFCSMSK       DS CL14     FCS MASK OF ALL THE receivers           C03780000
                               on the local node                        03790000
SOCK_SRVIPAD       DS CL16     128-BIT IP address of this server        03800000
SOCK_RMTIPAD       DS CL16     128-BIT IP address of remote peer        03810000
SOCK_RMT_HOSTNM    DS CL255    Host name of the remote peer             03820000
SOCK_RMTNDNM       DS CL8      Node name of remote peer - populated    C03830000
                               from open record for inbound requests   C03840000
                               AND FROM IAZYTNRQ FOR OUTBOUND REQUESTS  03850000
SOCK_SRVPORT       DS H        Port number of this server               03860000
SOCK_RMTPORT       DS H        Port number of the remote peer           03870000
SOCKNLDV           DS 0CL40                                             03880000
_SOCKNJT           DS F        JTNUM (Outbound SYSIN STREAMS)           03890000
_SOCKNJR           DS F        JRNUM (Inbound SYSIN streams)            03900000
_SOCKNST           DS F        STNUM (Outbound SYSOUT streams)          03910000
_SOCKNSR           DS F        SRNUM (Inbound SYSOUT streams)           03920000
_XMTRMSK           DS CL8      RCB mask of the transmitters for the    C03930000
                               socket                                   03940000
_RCVRMSK           DS CL8      RCB mask of the receivers for the       C03950000
                               socket                                   03960000
_ALLSTRMSK         DS CL8      RCB mask for all the possible streams   C03970000
                               for the socket                           03980000
SOCK_FLG1          DS B        FLAG BYTE ONE                            03990000
*    Values for field "SOCK_FLG1"                                       04000000
SOCK_F1_CONNECT_ISSUED  EQU B'10000000' connect() has been             C04010000
                                      issued but connect() did not     C04020000
                                      return                            04030000
SOCK_F1_CONNECTED       EQU B'01000000' Connect successful with        C04040000
                                      remote peer                       04050000
SOCK_F1_DUP_CONNECT     EQU B'00100000' Duplicate socket chain         C04060000
                                      element                           04070000
SOCK_F1_RESERVED_10     EQU B'00010000' Reserved for IBM                04080000
SOCK_F1_DUP_ERROR       EQU B'00001000' Duplicate already set           04090000
SOCK_F1_DIAG_ACTIVE     EQU B'00000100' Socket is in diag mode -       C04100000
                                      Tracing is active.                04110000
SOCK_F1_SEND_INIT       EQU B'00000010' Send initiated on socket        04120000
SOCK_F1_RECV_INIT       EQU B'00000001' Recv initiated on socket        04130000
SOCK_FLG2          DS B        Flag byte                                04140000
*    Values for field "SOCK_FLG2"                                       04150000
SOCK_F2_ALLWMRCB        EQU B'10000000' Multiple RCBs are              C04160000
                                      allowed in the                   C04170000
                                      transmission buffer               04180000
SOCK_F2_NJE_SIGNED_ON   EQU B'01000000' The socket has                 C04190000
                                      signed-on NJE wise                04200000
SOCK_F2_JES_TRACE       EQU B'00100000' JES event and record           C04210000
                                      trace active for conn.            04220000
SOCK_F2_INT_TRACE       EQU B'00010000' IAZ internal trace -           C04230000
                                      trace data supplied to           C04240000
                                      JES in IAZHTTRC format            04250000
SOCK_F2_VRB_TRACE       EQU B'00001000' Verbose trace -controls        C04260000
                                      message verbosity                 04270000
SOCK_F2_RC_TO_SEND      EQU B'00000100' Indicate RC has to be          C04280000
                                      sent on an unsupported           C04290000
                                      stream                            04300000
SOCK_F2_1ST_BUFFER_SENT EQU B'00000010' Indicate the first             C04310000
                                      buffer is sent on socket          04320000
SOCK_F2_ALLWMHDRS       EQU B'00000001' NRQIPACK is set in "I"         C04330000
                                      rcd to allow multiple            C04340000
                                      NJE headers in a single          C04350000
                                      buffer                            04370000
SOCK_FLG3          DS B        Flag byte                                04380000
SOCK_F3_STOP_CONN       EQU B'10000000' Stop connection request        C04390000
                                      Received for the connection       04400000
SOCK_F3_NO_RIPI         EQU B'01000000' NCCIRIF set during NJE         C04410000
                                          signon                        04420000
SOCK_F3_SP_SEND_INI     EQU B'00100000' Send initiated in        @Z23BEC04430000
                                          special control        @Z23BEC04431000
                                          record buffer          @Z23BE 04434000
SOCK_F3_NO_XRB_SEND_AVAIL EQU B'00010000' No XRB send buffers    @Z23BEC04440000
                                            available            @Z23BE 04445000
SOCK_F3_RES_FLG3_08     EQU B'00001000' Reserved for IBM                04450000
SOCK_F3_RES_FLG3_04     EQU B'00000100' Reserved for IBM                04460000
SOCK_F3_RES_FLG3_02     EQU B'00000010' Reserved for IBM                04470000
SOCK_F3_RES_FLG3_01     EQU B'00000001' Reserved for IBM                04480000
*                                                                       04490000
SOCK_FAMILY        DS CL1      DOMAIN NAME OF THE REMOTE PEER           04500000
SOCK_ID            DS F        Socket ID                       @Z23D085 04505000
SOCK_TCP_RSNCDE    DS F        TCP/IP reason code                @Z23DN 04506000
SOCK_CURINREC      DS A        Pointer to current char           @Z23EDC04506400
                                 in input record                 @Z23ED 04506800
SOCK_CUROUBUF      DS A        Pointer to current char           @Z23EDC04507200
                                 in output buffer                @Z23ED 04507600
SOCK_CURINBUF      DS A        Pointer to current char           @Z23EDC04508000
                                 in input buffer                 @Z23ED 04508400
SOCK_CUROUREC      DS A        Pointer to current char           @Z23EDC04508800
                                 in output record                @Z23ED 04509200
SOCKLEN                 EQU    *-SOCK                          @Z23D062 04510000
*                                                              @Z23D062 04520000
*    DBCST structure (C structure is in IAZCMSTR)              @Z23D062 04530000
*                                                              @Z23D062 04540000
DBCST              DSECT ,                                     @Z23D062 04550000
DBCST_STRMTYP      DS   CL1           Stream type              @Z23D062 04560000
DBCST_RCB          DS   XL1           RCB                      @Z23D062 04570000
DBCST_CTLREC       DS   CL1           Control record to be     @Z23D062 04580000
DBCST_INPROG       DS   XL1           In progress indicator    @Z23D062 04590000
DBCST_RMBFLEN      DS   F             Remaining buffer length  @Z23D062 04600000
DBCST_DBCOFF       DS   F             Offset in buffer         @Z23D062 04610000
DBCST_SEGNUM       DS   H             Segment number           @Z23D062 04620000
DBCST_LASTBUF      DS   H             Last buffer with data    @Z23D085C04630000
                                       for this stream         @Z23D085 04640000
DBCSTLEN                EQU    *-DBCST                            */    99999999
