*                                                                       00001000
* %DCL IOSDS983_INCLUDED CHAR EXT;                                      00002000
* %DEACTIVATE IOSDS983_INCLUDED;                                        00003000
* %IF IOSDS983_INCLUDED = '' %THEN                                      00004000
* %DO;                                                                  00005000
*/* Macro made bi-lingual on 23215. CBGEN compile date 23032         */ 00006000
*% /*                                                                   00007000
         MACRO                                                          00008000
         IOSDS983 &DSECT=YES,&LIST=YES,&TITLE=YES,&SMF98_3_DAT=YES,    *00009000
               &SMF98_3_AggBkt1=COND,&SMF98_3_AggBkt1Data=COND,        *00010000
               &SMF98_3_JobIdx=COND,&SMF98_3_JobList=COND               00011000
         GBLC  &IOSDS983_INCLUDED                                       00012000
         GBLC  &ZCBPRINT                                                00013000
&IOSDS983_INCLUDED SETC 'YES'                                           00014000
         AIF   ('&LIST' EQ 'NONE').P0                                   00015000
         AIF   ('&TITLE' EQ 'NO').P5                                    00016000
 TITLE   'IOSDS983  - zWIC IOS SMF record format for Type 98 subtype 3 *00017000
                          '                                             00018000
.P5      ANOP                                                           00019000
**/ ;                                                                   00020000
*/* Start of Specifications ******************************************/ 00021000
*/*                                                                  */ 00022000
*/*01* Macro Name: IOSDS983                                          */ 00023000
*/*                                                                  */ 00024000
*/*01* Descriptive Name =                                            */ 00025000
*/*                                                                  */ 00026000
*/*      zWIC IOS SMF record format for Type 98 subtype 3            */ 00027000
*/*                                                                  */ 00028000
*/*02*   Acronym:  N/A                                               */ 00029000
*/*                                                                  */ 00030000
*/*02*   DSECT Name: SMF98_3_DAT                                     */ 00031000
*/*                                                                  */ 00032000
*/*01* PROPRIETARY_STATEMENT *****************************************/ 00033000
*/*                                                                  */ 00034000
*/*  LICENSED MATERIALS - PROPERTY OF IBM                            */ 00035000
*/*  5650-ZOS COPYRIGHT IBM CORP. 2022                               */ 00036000
*/*                                                                  */ 00037000
*/*01* STATUS = HBB77D0                                              */ 00038000
*/*                                                                  */ 00039000
*/**** END_OF_PROPRIETARY_STATEMENT **********************************/ 00040000
*/* */                                                                  00041000
*/*01* Status= HBB77D0                                               */ 00042000
*/*                                                                  */ 00043000
*/*01* Component: I/O Supervisor (SC1C3)                             */ 00044000
*/*                                                                  */ 00045000
*/*01* Function =                                                    */ 00046000
*/*                                                                  */ 00047000
*/*02* IOSDS983 maps the structure of SMF (System Management         */ 00048000
*/*    Facilities) record type 98 subtype 3.                         */ 00049000
*/*                                                                  */ 00050000
*/*    Type 98 subtype 3 contains performance information for the    */ 00051000
*/*    z/OS IOS component for asynchronous (FICON) I/O.              */ 00052000
*/*                                                                  */ 00053000
*/*                                                                  */ 00054000
*/*                                                                  */ 00055000
*/*01* Notes = None                                                  */ 00056000
*/*                                                                  */ 00057000
*/*01* Eye-Catcher: None                                             */ 00058000
*/*                                                                  */ 00059000
*/*01* Created By: IOSVZWIC - IOS zWIC exit                          */ 00060000
*/*                                                                  */ 00061000
*/*01* Deleted By: IOSVZWIC - IOS zWIC exit                          */ 00062000
*/*                                                                  */ 00063000
*/*01* Pointed to By: IOCzWICInstrBuffer                             */ 00064000
*/*                                                                  */ 00065000
*/*01* Size: See assembler listing                                   */ 00066000
*/*            SMF98_3_DAT         -- X'0028' bytes                  */ 00067000
*/*            SMF98_3_AggBkt1     -- X'0028' bytes                  */ 00068000
*/*            SMF98_3_AggBkt1Data -- X'0022' bytes                  */ 00069000
*/*            SMF98_3_JobIdx      -- X'0016' bytes                  */ 00070000
*/*            SMF98_3_JobList     -- X'004C' bytes                  */ 00071000
*/*                                                                  */ 00072000
*/*01* Module Type: Mapping macro                                    */ 00073000
*/*                                                                  */ 00074000
*/*01* Method of Access:                                             */ 00075000
*/*                                                                  */ 00076000
*/*02*   ASM:                                                        */ 00077000
*/*       IOSDS983                                                   */ 00078000
*/*            DSECT=YES!NO  -- Request DSECT definition             */ 00079000
*/*            LIST=YES!NONE -- Request in Listing                   */ 00080000
*/*            TITLE=YES!NO  -- Provide a title                      */ 00081000
*/*                                                                  */ 00082000
*/*02*   PL/X:                                                       */ 00083000
*/*       %INCLUDE SYSLIB(IOSDS983)                                  */ 00084000
*/*                                                                  */ 00085000
*/*                                                                  */ 00086000
*/*01* Frequency:                                                    */ 00087000
*/*       1 per system when data is being collected, otherwise       */ 00088000
*/*       0.                                                         */ 00089000
*/*                                                                  */ 00090000
*/*01* Dependencies: None                                            */ 00091000
*/*                                                                  */ 00092000
*/*01* Restrictions: None                                            */ 00093000
*/*                                                                  */ 00094000
*/*01* Serialization: None                                           */ 00095000
*/*                                                                  */ 00096000
*/*01* Storage Attributes:                                           */ 00097000
*/*02*  Subpool:   0                                                 */ 00098000
*/*02*  Key:       0                                                 */ 00099000
*/*02*  Residency: Below 2G Bar                                      */ 00100000
*/*                                                                  */ 00101000
*/*01* Distribution Library: AMACLIB                                 */ 00102000
*/*                                                                  */ 00103000
*/*01* External Classification:                                      */ 00104000
*/*02*   PI:    Base                                                 */ 00105000
*/*                                                                  */ 00106000
*/*01* End of External Classification:                               */ 00107000
*/*                                                                  */ 00108000
*/*01* Notes:                                                        */ 00109000
*/*      - The header for the SMF type 98 record is defined in       */ 00110000
*/*        IHAHR098.                                                 */ 00111000
*/*                                                                  */ 00112000
*/*                                                                  */ 00113000
*/*01* Change Activity:                                              */ 00114000
*/*                                                                  */ 00115000
*/* $MAC(IOSDS983),COMP(SC1C3): zWIC IOS SMF Type 98 Subtype 3       */ 00116000
*/*                                                                  */ 00117000
*/*  PN REASON  RELEASE  DATE   ORG   COMMENTS                       */ 00118000
*/* $00=OA62963 HBB77D0  230601 PDSK: IOS support for zWIC           */ 00119000
*/*                                                                  */ 00120000
*/* End of Specifications*********************************************/ 00121000
*% /*                                                                   00122000
.P0      ANOP                                                           00123000
         AIF   ('&ZCBPRINT' EQ 'NO').P1                                 00124000
         AIF   ('&LIST' EQ 'YES').P2                                    00125000
.P1      ANOP                                                           00126000
         PUSH  PRINT                                                    00127000
         PRINT OFF                                                      00128000
.P2      ANOP                                                           00129000
         AIF   ('&SMF98_3_DAT' EQ 'NO').L0002                           00130000
         AIF   ('&DSECT' EQ 'YES').L0003                                00131000
         AIF   ('&SMF98_3_DAT' NE 'YES').L0002                          00132000
.L0003   ANOP                                                           00133000
*                                                                       00134000
*  ------------------------------------------------------------------   00135000
*    Data Section for IOSAS WIC data (subtype 3)                        00136000
*                                                                       00137000
*    Its location in the SMF record is calculated by (Address of        00138000
*    SMFR98 record + offset value in SMF98DOF).                         00139000
*  ------------------------------------------------------------------   00140000
*                                                                       00141000
*                                                                       00142000
         AIF   ('&DSECT' EQ 'YES').L0004                                00143000
SMF98_3_DAT DS 0F        Subtype 3 record control data                  00144000
         AGO   .L0005                                                   00145000
.L0004   ANOP                                                           00146000
SMF98_3_DAT DSECT        Subtype 3 record control data                  00147000
.L0005   ANOP                                                           00148000
SMF98_3_DataTripletsNum DS F Number of data triplets that follows       00149000
SMF98_3_DataTripletsLen DS F Length of data triplets area              *00150000
                         SMF98_3_DataTripletsArea                       00151000
SMF98_3_DataTripletsArea DS CL32 Data triplets area -------------------*00152000
                         ----------------------------------------------*00153000
                         - Start of IOS buckets The location in the    *00154000
                         SMF record is calculated by (Address of       *00155000
                         SMFR98 record + offset value in SMF98DOF).    *00156000
                         SMF98DOF located in IHAHR098 is the offset of *00157000
                         the data section from the beginning of the    *00158000
                         SMF98 record mapping. ------------------------*00159000
                         -------------------------------------- The    *00160000
                         "buckets" in general consist of - 2 Aggregate  00161000
*                        buckets - Aggregate bucket 1 consists of      *00162000
                         general activities not tied to CPU-specific   *00163000
                         activities - Aggregate bucket 2 consists of   *00164000
                         CPU-specific activities - 1 Exceptional job   *00165000
                         bucket - Job index section that consists of   *00166000
                         maximum job information for each recorded     *00167000
                         activity - Job list section that consists of  *00168000
                         unique ASIDs and jobnames --------------------*00169000
                         ------------------------------------------    *00170000
                         Note: For the asynchronous (FICON) data, only  00171000
*                        one aggregate bucket is used. ----------------*00172000
                         ----------------------------------------------*00173000
                         ---- -----------------------------------------*00174000
                         ------------------------- First Triplet       *00175000
                         Aggregate bucket 1 data triplet area (DTA) ---*00176000
                         ----------------------------------------------*00177000
                         -----------------                              00178000
         ORG   SMF98_3_DataTripletsArea                                 00179000
SMF98_3_DTA_AggBkt1 DS CL8                                              00180000
         ORG   SMF98_3_DTA_AggBkt1                                      00181000
SMF98_3_DTA_AggBkt1OF DS F Offset to Bucket1 sections. Data mapped by: *00182000
                         SMF98_3_AggBkt1                                00183000
SMF98_3_DTA_AggBkt1LN DS H Length of first aggregate bucket             00184000
SMF98_3_DTA_AggBkt1ON DS H Number of first aggregate bucket sections --*00185000
                         ----------------------------------------------*00186000
                         ------------------ Second Triplet Aggregate   *00187000
                         bucket 2 data triplet area (DTA) - Unused and *00188000
                         not declared. Reserved for IBM use only.      *00189000
                         Note: When (and if) a second aggregate bucket *00190000
                         is defined, copy and paste the declarations   *00191000
                         for the first aggregate bucket then changes   *00192000
                         the names to protect the innocent. Remember   *00193000
                         to delete the declare below. ----------------- 00194000
*                        ----------------------------------------------*00195000
                         ---                                            00196000
         DS    CL8       Aggregate bucket 2 triplet -------------------*00197000
                         ----------------------------------------------*00198000
                         - Third Triplet Exceptional Job bucket - Job  *00199000
                         index data triplet area (DTA) ----------------*00200000
                         ----------------------------------------------*00201000
                         ----                                           00202000
SMF98_3_DTA_JobIdx DS CL8                                               00203000
         ORG   SMF98_3_DTA_JobIdx                                       00204000
SMF98_3_DTA_JobIdxOF DS F Offset to consumption sections. Data mapped  *00205000
                         by: SMF98_3_JobIdx                             00206000
SMF98_3_DTA_JobIdxLN DS H Length of Job Index section                   00207000
SMF98_3_DTA_JobIdxON DS H Number of Job Index sections ----------------*00208000
                         ----------------------------------------------*00209000
                         ---- Fourth Triplet Exceptional Job bucket -  *00210000
                         Job list data triplet area (DTA) -------------*00211000
                         ----------------------------------------------*00212000
                         -------                                        00213000
SMF98_3_DTA_JobList DS CL8                                              00214000
         ORG   SMF98_3_DTA_JobList                                      00215000
SMF98_3_DTA_JobListOF DS F Job sections mapped by: SMF98_3_JobList      00216000
SMF98_3_DTA_JobListLN DS H Length of Job List section                   00217000
SMF98_3_DTA_JobListON DS H Number of Job List sections                  00218000
*                                                                       00219000
*  ------------------------------------------------------------------   00220000
*   Constants                                                           00221000
*  ------------------------------------------------------------------   00222000
*                                                                       00223000
*                                                                       00224000
SMF98_3_kReleaseIndex EQU 1 Current release index value. When this     *00225000
                         constant is the same as the previous release  *00226000
                         and this macro introduces new data which does *00227000
                         not exist at the previous release, increment  *00228000
                         SMF98_3_kReleaseIndex . Last release constant *00229000
                         changed: HBB77D0                               00230000
SMF98_3_kWithinReleaseIndex EQU 0 Current within-release index value    00231000
SMF98_3_kPrototypeIndex EQU 0 Current prototype index value             00232000
SMF98_3_DAT_Len EQU *-SMF98_3_DAT                                       00233000
.L0002   ANOP                                                           00234000
         AIF   ('&SMF98_3_AggBkt1' EQ 'NO').L0006                       00235000
         AIF   ('&DSECT' EQ 'YES').L0007                                00236000
         AIF   ('&SMF98_3_AggBkt1' NE 'YES').L0006                      00237000
.L0007   ANOP                                                           00238000
*                                                                       00239000
*  ------------------------------------------------------------------   00240000
*   First triplet                                                       00241000
*    Aggregate Bucket 1                                                 00242000
*  ------------------------------------------------------------------   00243000
*                                                                       00244000
*                                                                       00245000
         AIF   ('&DSECT' EQ 'YES').L0008                                00246000
SMF98_3_AggBkt1 DS 0F    Asynchronous (FICON) I/O section -------------*00247000
                         ----------------------------------------------*00248000
                         ------- Aggregate Bucket 1 Header -           *00249000
                         Asynchronous (FICON) I/O ---------------------*00250000
                         ---------------------------------------------  00251000
         AGO   .L0009                                                   00252000
.L0008   ANOP                                                           00253000
SMF98_3_AggBkt1 DSECT    Asynchronous (FICON) I/O section -------------*00254000
                         ----------------------------------------------*00255000
                         ------- Aggregate Bucket 1 Header -           *00256000
                         Asynchronous (FICON) I/O ---------------------*00257000
                         ---------------------------------------------  00258000
.L0009   ANOP                                                           00259000
SMF98_3_AggBkt1Header DS CL6                                            00260000
         ORG   SMF98_3_AggBkt1Header                                    00261000
SMF98_3_AggBkt1_CpuType DS H CPU Type of this output. Can be one of:   *00262000
                         Value: Meaning: Constant: 0 CP                *00263000
                         PSAProcClass_CP 4 zIIP PSAProcClass_zIIP       00264000
SMF98_3_AggBkt1_JobPriority DS H Job priority, can be one of: Value:   *00265000
                         Meaning: Constant: FFFF All                   *00266000
                         SMF98_kPriorityBucket_All 1 Critical          *00267000
                         SMF98_kPriorityBucket_1 2 High                *00268000
                         SMF98_kPriorityBucket_2 3 Low                 *00269000
                         SMF98_kPriorityBucket_3 4 Discretionary       *00270000
                         SMF98_kPriorityBucket_4                        00271000
SMF98_3_AggBkt1_JobSize DS H Job Size relative to other jobs in the    *00272000
                         system for this CPU type, can be one of:      *00273000
                         Value: Meaning: Constant: FFFF All            *00274000
                         SMF98_kConsume_SubBucket_All 1 Large          *00275000
                         SMF98_kConsume_SubBucket_1 2 Medium           *00276000
                         SMF98_kConsume_SubBucket_2 3 Small            *00277000
                         SMF98_kConsume_SubBucket_3 4 Tiny             *00278000
                         SMF98_kConsume_SubBucket_4                     00279000
SMF98_3_AggBkt1_ExpArea DS CL34 Aggregate bucket 1 exploiter area,     *00280000
                         contains number of contributors and activity  *00281000
                         data                                           00282000
         ORG   SMF98_3_AggBkt1_ExpArea                                  00283000
SMF98_3_AggBkt1_ExpArea_Data DS CL34 Mapped by SMF98_3_AggBkt1Data      00284000
SMF98_3_AggBkt1_Len EQU *-SMF98_3_AggBkt1                               00285000
.L0006   ANOP                                                           00286000
         AIF   ('&SMF98_3_AggBkt1Data' EQ 'NO').L000A                   00287000
         AIF   ('&DSECT' EQ 'YES').L000B                                00288000
         AIF   ('&SMF98_3_AggBkt1Data' NE 'YES').L000A                  00289000
.L000B   ANOP                                                           00290000
*                                                                       00291000
*  ------------------------------------------------------------------   00292000
*    Aggregate Bucket 1 Data - Asynchronous (FICON) I/O                 00293000
*  ------------------------------------------------------------------   00294000
*                                                                       00295000
*                                                                       00296000
         AIF   ('&DSECT' EQ 'YES').L000C                                00297000
SMF98_3_AggBkt1Data DS 0F                                               00298000
         AGO   .L000D                                                   00299000
.L000C   ANOP                                                           00300000
SMF98_3_AggBkt1Data DSECT                                               00301000
.L000D   ANOP                                                           00302000
SMF98_3_AggBkt1_Contributors DS H Number of address spaces in this     *00303000
                         analysis -------------------------------------*00304000
                         ----------------------------- Aggregate       *00305000
                         bucket 1 data - Asynch (FICON) I/O Section ---*00306000
                         ----------------------------------------------*00307000
                         -----------------                              00308000
SMF98_3_AggBkt1_Data DS CL32 ------------------------------------------*00309000
                         ------------------------ Aggregate bucket 1   *00310000
                         data - Asynch I/O Section - Read -------------*00311000
                         ----------------------------------------------*00312000
                         -------                                        00313000
         ORG   SMF98_3_AggBkt1_Data                                     00314000
SMF98_3_AggBkt1_Read DS CL16                                            00315000
         ORG   SMF98_3_AggBkt1_Read                                     00316000
SMF98_3_AggBkt1_IOIRead DS FL4 The read I/O intensity during this      *00317000
                         interval                                       00318000
SMF98_3_AggBkt1_TotalIORead DS FL4 Total number of read I/Os during    *00319000
                         this interval                                  00320000
SMF98_3_AggBkt1_AvgRspTimeRead DS FL4 Average read response time in    *00321000
                         microseconds during this interval              00322000
SMF98_3_AggBkt1_MaxRspTimeRead DS FL4 Maximum read response time in    *00323000
                         microseconds during this interval ------------*00324000
                         ----------------------------------------------*00325000
                         -------- Aggregate bucket 1 data - Asynch I/O *00326000
                         Section - Write ------------------------------*00327000
                         ------------------------------------           00328000
SMF98_3_AggBkt1_Write DS CL16                                           00329000
         ORG   SMF98_3_AggBkt1_Write                                    00330000
SMF98_3_AggBkt1_IOIWrite DS FL4 The write I/O intensity during this    *00331000
                         interval                                       00332000
SMF98_3_AggBkt1_TotalIOWrite DS FL4 Total number of write I/Os during  *00333000
                         this interval                                  00334000
SMF98_3_AggBkt1_AvgRspTimeWrite DS FL4 Average write response time in  *00335000
                         microseconds during this interval              00336000
SMF98_3_AggBkt1_MaxRspTimeWrite DS FL4 Maximum write response time in  *00337000
                         microseconds during this interval              00338000
SMF98_3_AggBkt1Data_Len EQU *-SMF98_3_AggBkt1Data                       00339000
.L000A   ANOP                                                           00340000
         AIF   ('&SMF98_3_JobIdx' EQ 'NO').L000E                        00341000
         AIF   ('&DSECT' EQ 'YES').L000F                                00342000
         AIF   ('&SMF98_3_JobIdx' NE 'YES').L000E                       00343000
.L000F   ANOP                                                           00344000
*                                                                       00345000
*  ------------------------------------------------------------------   00346000
*   Second triplet                                                      00347000
*    Aggregate Bucket 2                                                 00348000
*                                                                       00349000
*    Note: When (and if) a second aggregate bucket is defined, then     00350000
*          define it here and remove this note.                         00351000
*  ------------------------------------------------------------------   00352000
*  ------------------------------------------------------------------   00353000
*    Exceptional Job Sections                                           00354000
*                                                                       00355000
*    The exception job sections consist of two structures:              00356000
*    - Job Index - a list of the "most" exceptional activities for      00357000
*      each of the Cpu Type, Job Priority, and Job Size combinations    00358000
*                                                                       00359000
*    - Job List - a list of the jobs (identified by their ASID and      00360000
*      jobname) that contain the "most" exceptional activity for a      00361000
*      given activity.                                                  00362000
*  ------------------------------------------------------------------   00363000
*  ------------------------------------------------------------------   00364000
*   Third triplet                                                       00365000
*    Job Index - Asynchronous (FICON) I/O                               00366000
*  ------------------------------------------------------------------   00367000
*                                                                       00368000
*                                                                       00369000
         AIF   ('&DSECT' EQ 'YES').L0010                                00370000
SMF98_3_JobIdx DS 0H     Job index data area                            00371000
         AGO   .L0011                                                   00372000
.L0010   ANOP                                                           00373000
SMF98_3_JobIdx DSECT     Job index data area                            00374000
.L0011   ANOP                                                           00375000
SMF98_3_JobIdxHdr DS CL6 Job index header                               00376000
         ORG   SMF98_3_JobIdxHdr                                        00377000
SMF98_3_JobIdx_CpuType DS H CPU type, can be one of: Value: Meaning:   *00378000
                         Constant: 0 CP PSAProcClass_CP 4 zIIP         *00379000
                         PSAProcClass_zIIP                              00380000
SMF98_3_JobIdx_PriorityBucket DS H Priority bucket. Can be one of:     *00381000
                         FFFF kSMF98_3_PriorityBucket_All, 1           *00382000
                         SVT_kHiPriorityBucketIndex, 2                 *00383000
                         SVT_kMedPriorityBucketIndex, 3                *00384000
                         SVT_kLowPriorityBucketIndex, 4                *00385000
                         SVT_kDiscPriorityBucketIndex                   00386000
SMF98_3_JobIdx_JobSizeBucket DS H Job Size buckets are separated by    *00387000
                         the aggregate dispatch time of this processor *00388000
                         class and priority bucket. Address space data *00389000
                         is grouped by percentage of time used versus  *00390000
                         the aggregate. Can be one of: value -         *00391000
                         SMF98_kConsume_ (% CpuType CPU Time), FFFF -  *00392000
                         SubBucket_All (0-100%), 1 - SubBucket_1       *00393000
                         (SVT_SubBucket_Ran ges(1)-100%), 2 -          *00394000
                         SubBucket_2 (SVT_SubBucket_Ranges(2)-...(1    *00395000
                         )), 3 - SubBucket_3 (SVT_SubBu                 00396000
*                        cket_Ranges(3)-...(2)), 4 - SubBucket_4       *00397000
                         (0%-SVT_SubBucket_Ranges(3)) -----------------*00398000
                         ----------------------------------------------*00399000
                         --- Job Index - Asynchronous (FICON) I/O      *00400000
                         Section - Read -------------------------------*00401000
                         -----------------------------------            00402000
SMF98_3_JobIdx_Read DS CL8                                              00403000
         ORG   SMF98_3_JobIdx_Read                                      00404000
SMF98_3_JobIdx_TopIOIRead DS H Job index of the job with the highest   *00405000
                         read I/O intensity. See SMF98_3_JobList with  *00406000
                         the matching index for details                 00407000
SMF98_3_JobIdx_TopTotalIORead DS H Job index of the job with the       *00408000
                         highest total read I/Os. See SMF98_3_JobList  *00409000
                         with the matching index for details            00410000
SMF98_3_JobIdx_TopAvgRspTimeRead DS H Job index of the job with the    *00411000
                         highest average read response time. See       *00412000
                         SMF98_3_JobList with the matching index for   *00413000
                         details                                        00414000
SMF98_3_JobIdx_TopMaxRspTimeRead DS H Job index of the job with the    *00415000
                         highest maximum read response time. See       *00416000
                         SMF98_3_JobList with the matching index for   *00417000
                         details --------------------------------------*00418000
                         ---------------------------- Job Index -      *00419000
                         Asynchronous (FICON) I/O Section - Write -----*00420000
                         ----------------------------------------------*00421000
                         ---------------                                00422000
SMF98_3_JobIdx_Write DS CL8                                             00423000
         ORG   SMF98_3_JobIdx_Write                                     00424000
SMF98_3_JobIdx_TopIOIWrite DS H Job index of the job with the highest  *00425000
                         write I/O intensity. See SMF98_3_JobList with *00426000
                         the matching index for details                 00427000
SMF98_3_JobIdx_TopTotalIOWrite DS H Job index of the job with the      *00428000
                         highest total write I/Os. See SMF98_3_JobList *00429000
                         with the matching index for details            00430000
SMF98_3_JobIdx_TopAvgRspTimeWrite DS H Job index of the job with the   *00431000
                         highest average write response time. See      *00432000
                         SMF98_3_JobList with the matching index for   *00433000
                         details                                        00434000
SMF98_3_JobIdx_TopMaxRspTimeWrite DS H Job index of the job with the   *00435000
                         highest maximum write response time. See      *00436000
                         SMF98_3_JobList with the matching index for   *00437000
                         details                                        00438000
SMF98_3_JobIdx_Len EQU *-SMF98_3_JobIdx                                 00439000
.L000E   ANOP                                                           00440000
         AIF   ('&SMF98_3_JobList' EQ 'NO').L0012                       00441000
         AIF   ('&DSECT' EQ 'YES').L0013                                00442000
         AIF   ('&SMF98_3_JobList' NE 'YES').L0012                      00443000
.L0013   ANOP                                                           00444000
*                                                                       00445000
*  ------------------------------------------------------------------   00446000
*   Fourth triplet                                                      00447000
*    Job List - Asynchronous (FICON) I/O                                00448000
*  ------------------------------------------------------------------   00449000
*                                                                       00450000
*                                                                       00451000
         AIF   ('&DSECT' EQ 'YES').L0014                                00452000
SMF98_3_JobList DS 0F    Sample WIC Job information                     00453000
         AGO   .L0015                                                   00454000
.L0014   ANOP                                                           00455000
SMF98_3_JobList DSECT    Sample WIC Job information                     00456000
.L0015   ANOP                                                           00457000
SMF98_3_JobList_Hdr DS CL12 Job list header                             00458000
         ORG   SMF98_3_JobList_Hdr                                      00459000
SMF98_3_JobList_ID DS H  Address Space ID number                        00460000
SMF98_3_JobList_Name DS CL8 Name of address space                       00461000
         DS    CL2       Reserved -------------------------------------*00462000
                         ----------------------------- Job list data - *00463000
                         Asynch (FICON) Section -----------------------*00464000
                         -------------------------------------------    00465000
SMF98_3_JobList_Data DS CL32 Job list activity area - Asynch ----------*00466000
                         ----------------------------------------------*00467000
                         ---------- Job list data - Asynch (FICON) I/O *00468000
                         Section - Read -------------------------------*00469000
                         -----------------------------------            00470000
         ORG   SMF98_3_JobList_Data                                     00471000
SMF98_3_JobList_Read DS CL16                                            00472000
         ORG   SMF98_3_JobList_Read                                     00473000
SMF98_3_JobList_IOIRead DS F The read I/O intensity during this        *00474000
                         interval                                       00475000
SMF98_3_JobList_TotalIORead DS F Total read I/Os during this interval   00476000
SMF98_3_JobList_AvgRspTimeRead DS F Average read response time in      *00477000
                         microseconds during this interval              00478000
SMF98_3_JobList_MaxRspTimeRead DS F Maximum read response time in      *00479000
                         microseconds during this interval ------------*00480000
                         ----------------------------------------------*00481000
                         -------- Job list data - Asynch (FICON) I/O   *00482000
                         Section - Write ------------------------------*00483000
                         ------------------------------------           00484000
SMF98_3_JobList_Write DS CL16                                           00485000
         ORG   SMF98_3_JobList_Write                                    00486000
SMF98_3_JobList_IOIWrite DS F The write I/O intensity during this      *00487000
                         interval                                       00488000
SMF98_3_JobList_TotalIOWrite DS F Total write I/Os during this         *00489000
                         interval                                       00490000
SMF98_3_JobList_AvgRspTimeWrite DS F Average write response time in    *00491000
                         microseconds during this interval              00492000
SMF98_3_JobList_MaxRspTimeWrite DS F Maximum write response time in    *00493000
                         microseconds during this interval ------------*00494000
                         ----------------------------------------------*00495000
                         -------- Job list data - Additional Asynch    *00496000
                         (FICON) I/O Section --------------------------*00497000
                         ----------------------------------------       00498000
SMF98_3_JobList_AdtlAsycnh DS CL32 Job list activity area - additional *00499000
                         Asynch ---------------------------------------*00500000
                         --------------------------- Job list data -   *00501000
                         Additional Asynch I/O Section - Read ---------*00502000
                         ----------------------------------------------*00503000
                         -----------                                    00504000
         ORG   SMF98_3_JobList_AdtlAsycnh                               00505000
SMF98_3_JobList_AdtlAsynch_Read DS CL16                                 00506000
         ORG   SMF98_3_JobList_AdtlAsynch_Read                          00507000
SMF98_3_JobList_AA_AvgRspTimeComps_Read DS CL4 Read Average Response   *00508000
                         Time Components                                00509000
         ORG   SMF98_3_JobList_AA_AvgRspTimeComps_Read                  00510000
SMF98_3_JobList_AA_ARTC_IOSQTimePctRead DS X IOS Queue time percentage *00511000
                         of the average read response time              00512000
SMF98_3_JobList_AA_ARTC_ConnTimePctRead DS X Connect time percentage   *00513000
                         of the average read response time              00514000
SMF98_3_JobList_AA_ARTC_PendTimePctRead DS X Pending time percentage   *00515000
                         of the average read response time              00516000
SMF98_3_JobList_AA_ARTC_DiscTimePctRead DS X Disconnect time           *00517000
                         percentage of the average read response time   00518000
SMF98_3_JobList_AA_MaxRspTimeComps_Read DS CL12 Read Maximum Response  *00519000
                         Time Components                                00520000
         ORG   SMF98_3_JobList_AA_MaxRspTimeComps_Read                  00521000
SMF98_3_JobList_AA_MRTC_IOSQTimePctRead DS X IOS Queue time percentage *00522000
                         of the maximum read response time              00523000
SMF98_3_JobList_AA_MRTC_ConnTimePctRead DS X Connect time percentage   *00524000
                         of the maximum read response time              00525000
SMF98_3_JobList_AA_MRTC_PendTimePctRead DS X Pending time percentage   *00526000
                         of the maximum read response time              00527000
SMF98_3_JobList_AA_MRTC_DiscTimePctRead DS X Disconnect time           *00528000
                         percentage of the maximum read response time   00529000
SMF98_3_JobList_AA_MRTC_ICMRTimePctRead DS X Initial Command Response  *00530000
                         time percentage of the maximum read response  *00531000
                         time                                           00532000
SMF98_3_JobList_AA_MRTC_CUQTimePctRead DS X Control Unit Queueing time *00533000
                         percentage of the maximum read response time   00534000
SMF98_3_JobList_AA_MRTC_DBTimePctRead DS X Device Busy time percentage *00535000
                         of the maximum read response time              00536000
         DS    CL2       Reserved                                       00537000
SMF98_3_JobList_AA_DeviceRead DS FL3 Subchannel set id and device      *00538000
                         number of the device with the maximum read    *00539000
                         response time ,11 SMF98_3_JobList_AA_SSIDRead *00540000
                         Fixed(8) Subchannel set id of the device with *00541000
                         maximum read response time ,11                *00542000
                         SMF98_3_JobList_AA_DevNumRead Fixed(16)       *00543000
                         Device number of the device with maximum read *00544000
                         response time --------------------------------*00545000
                         ---------------------------------- Job list   *00546000
                         data - Additional Asynch I/O Section - Write - 00547000
*                        ----------------------------------------------*00548000
                         -------------------                            00549000
SMF98_3_JobList_AdtlAsynch_Write DS CL16                                00550000
         ORG   SMF98_3_JobList_AdtlAsynch_Write                         00551000
SMF98_3_JobList_AA_AvgRspTimeComps_Write DS CL4 Write Average Response *00552000
                         Time Components                                00553000
         ORG   SMF98_3_JobList_AA_AvgRspTimeComps_Write                 00554000
SMF98_3_JobList_AA_ARTC_IOSQTimePctWrite DS X IOS Queue time           *00555000
                         percentage of the average write response time  00556000
SMF98_3_JobList_AA_ARTC_ConnTimePctWrite DS X Connect time percentage  *00557000
                         of the average write response time             00558000
SMF98_3_JobList_AA_ARTC_PendTimePctWrite DS X Pending time percentage  *00559000
                         of the average write response time             00560000
SMF98_3_JobList_AA_ARTC_DiscTimePctWrite DS X Disconnect time          *00561000
                         percentage of the average write response time  00562000
SMF98_3_JobList_AA_MaxRspTimeComps_Write DS CL12 Write Maximum         *00563000
                         Response Time Components                       00564000
         ORG   SMF98_3_JobList_AA_MaxRspTimeComps_Write                 00565000
SMF98_3_JobList_AA_MRTC_IOSQTimePctWrite DS X IOS Queue time           *00566000
                         percentage of the maximum write response time  00567000
SMF98_3_JobList_AA_MRTC_ConnTimePctWrite DS X Connect time percentage  *00568000
                         of the maximum write response time             00569000
SMF98_3_JobList_AA_MRTC_PendTimePctWrite DS X Pending time percentage  *00570000
                         of the maximum write response time             00571000
SMF98_3_JobList_AA_MRTC_DiscTimePctWrite DS X Disconnect time          *00572000
                         percentage of the maximum write response time  00573000
SMF98_3_JobList_AA_MRTC_ICMRTimePctWrite DS X Initial Command Response *00574000
                         time percentage of the maximum write response *00575000
                         time                                           00576000
SMF98_3_JobList_AA_MRTC_CUQTimePctWrite DS X Control Unit Queueing     *00577000
                         time percentage of the maximum write response *00578000
                         time                                           00579000
SMF98_3_JobList_AA_MRTC_DBTimePctWrite DS X Device Busy time           *00580000
                         percentage of the maximum write response time  00581000
         DS    CL2       Reserved                                       00582000
SMF98_3_JobList_AA_DeviceWrite DS FL3 Subchannel set id and device     *00583000
                         number of the device with the maximum read    *00584000
                         response time ,11                             *00585000
                         SMF98_3_JobList_AA_SSIDWrite Fixed(8)         *00586000
                         Subchannel set id of the device with maximum  *00587000
                         write response time ,11                       *00588000
                         SMF98_3_JobList_AA_DevNumWrite Fixed(16)      *00589000
                         Device number of the device with maximum      *00590000
                         write response time                            00591000
SMF98_3_JobList_Len EQU *-SMF98_3_JobList                               00592000
.L0012   ANOP                                                           00593000
         AIF   ('&ZCBPRINT' EQ 'NO').P3                                 00594000
         AIF   ('&LIST' EQ 'YES').P4                                    00595000
.P3      ANOP                                                           00596000
         POP   PRINT                                                    00597000
.P4      ANOP                                                           00598000
.P_EXIT  ANOP                                                           00599000
         MEND                                                           00600000
**/ ;                                                                   00601000
* %IOSDS983_INCLUDED = 'YES';                                           00602000
* %DCL ZCBPRINT CHAR EXT;                                               00603000
* %DEACTIVATE ZCBPRINT;                                                 00604000
* %DCL IOSDS983_LIST CHAR EXT;                                          00605000
* %DEACTIVATE IOSDS983_LIST;                                            00606000
* %IF IOSDS983_LIST = 'NO' !                                            00607000
*    ZCBPRINT = 'NO' %THEN                                              00608000
* %DO;                                                                  00609000
*   @LIST PUSH NOECHO;                                                  00610000
*   @LIST NOASSEMBLE NOECHO;                                            00611000
*   @LIST OFF C NOECHO;                                                 00612000
* %END;                                                                 00613000
*/* Start of PL/X Source                                             */ 00614000
*/*------------------------------------------------------------------*/ 00615000
*/*  Data Section for IOSAS WIC data (subtype 3)                     */ 00616000
*/*                                                                  */ 00617000
*/*  Its location in the SMF record is calculated by (Address of     */ 00618000
*/*  SMFR98 record + offset value in SMF98DOF).                      */ 00619000
*/*------------------------------------------------------------------*/ 00620000
*Dcl                                                                    00621000
* 1 SMF98_3_DAT Based(Addr(SMFR98)+SMF98DOF)   /* Subtype 3 record      00622000
*                                      control data                  */ 00623000
* ,3 SMF98_3_DataTripletsNum Fixed(31) /* Number of data triplets that  00624000
*                                      follows                       */ 00625000
* ,3 SMF98_3_DataTripletsLen Fixed(31) /*                               00626000
*                                      Length of data triplets area     00627000
*                                      SMF98_3_DataTripletsArea      */ 00628000
* ,3 SMF98_3_DataTripletsArea       /*                                  00629000
*                                      Data triplets area            */ 00630000
*                                                                       00631000
*/*------------------------------------------------------------------*/ 00632000
*/*  Start of IOS buckets                                            */ 00633000
*/*                                                                  */ 00634000
*/*  The location in the SMF record is calculated by (Address of     */ 00635000
*/*  SMFR98 record + offset value in SMF98DOF).                      */ 00636000
*/*                                                                  */ 00637000
*/*  SMF98DOF located in IHAHR098 is the offset of the data section  */ 00638000
*/*  from the beginning of the SMF98 record mapping.                 */ 00639000
*/*                                                                  */ 00640000
*/*  --------------------------------------------------------------  */ 00641000
*/*                                                                  */ 00642000
*/*  The "buckets" in general consist of                             */ 00643000
*/*  - 2 Aggregate buckets                                           */ 00644000
*/*    - Aggregate bucket 1 consists of general activities not tied  */ 00645000
*/*      to CPU-specific activities                                  */ 00646000
*/*    - Aggregate bucket 2 consists of CPU-specific activities      */ 00647000
*/*                                                                  */ 00648000
*/*  - 1 Exceptional job bucket                                      */ 00649000
*/*    - Job index section that consists of maximum job information  */ 00650000
*/*      for each recorded activity                                  */ 00651000
*/*    - Job list section that consists of unique ASIDs and jobnames */ 00652000
*/*                                                                  */ 00653000
*/*  --------------------------------------------------------------  */ 00654000
*/*                                                                  */ 00655000
*/*  Note: For the asynchronous (FICON) data, only one aggregate     */ 00656000
*/*        bucket is used.                                           */ 00657000
*/*                                                                  */ 00658000
*/*------------------------------------------------------------------*/ 00659000
*                                                                       00660000
*                                                                       00661000
*/*------------------------------------------------------------------*/ 00662000
*/* First Triplet                                                    */ 00663000
*/*  Aggregate bucket 1 data triplet area (DTA)                      */ 00664000
*/*------------------------------------------------------------------*/ 00665000
*  ,5 SMF98_3_DTA_AggBkt1                                               00666000
*   ,7 SMF98_3_DTA_AggBkt1OF Fixed(31) /*                               00667000
*                                      Offset to Bucket1 sections.      00668000
*                                      Data mapped by:                  00669000
*                                        SMF98_3_AggBkt1             */ 00670000
*   ,7 SMF98_3_DTA_AggBkt1LN Fixed(15) /*                               00671000
*                                      Length of first aggregate bucket 00672000
*                                                                    */ 00673000
*   ,7 SMF98_3_DTA_AggBkt1ON Fixed(15) /*                               00674000
*                                      Number of first aggregate bucket 00675000
*                                      sections                      */ 00676000
*                                                                       00677000
*                                                                       00678000
*/*------------------------------------------------------------------*/ 00679000
*/* Second Triplet                                                   */ 00680000
*/*  Aggregate bucket 2 data triplet area (DTA) - Unused and not     */ 00681000
*/*  declared.  Reserved for IBM use only.                           */ 00682000
*/*                                                                  */ 00683000
*/*  Note: When (and if) a second aggregate bucket is defined, copy  */ 00684000
*/*        and paste the declarations for the first aggregate bucket */ 00685000
*/*        then changes the names to protect the innocent.  Remember */ 00686000
*/*        to delete the declare below.                              */ 00687000
*/*------------------------------------------------------------------*/ 00688000
*  ,5 * Char(8)                        /* Aggregate bucket 2 triplet */ 00689000
*                                                                       00690000
*                                                                       00691000
*/*------------------------------------------------------------------*/ 00692000
*/* Third Triplet                                                    */ 00693000
*/*  Exceptional Job bucket - Job index data triplet area (DTA)      */ 00694000
*/*------------------------------------------------------------------*/ 00695000
*  ,5 SMF98_3_DTA_JobIdx                                                00696000
*   ,7 SMF98_3_DTA_JobIdxOF Fixed(31)  /*                               00697000
*                                      Offset to consumption sections.  00698000
*                                      Data mapped by:                  00699000
*                                        SMF98_3_JobIdx              */ 00700000
*   ,7 SMF98_3_DTA_JobIdxLN Fixed(15)  /*                               00701000
*                                      Length of Job Index section   */ 00702000
*   ,7 SMF98_3_DTA_JobIdxON Fixed(15)  /*                               00703000
*                                      Number of Job Index sections  */ 00704000
*                                                                       00705000
*/*------------------------------------------------------------------*/ 00706000
*/* Fourth Triplet                                                   */ 00707000
*/*  Exceptional Job bucket - Job list data triplet area (DTA)       */ 00708000
*/*------------------------------------------------------------------*/ 00709000
*  ,5 SMF98_3_DTA_JobList                                               00710000
*   ,7 SMF98_3_DTA_JobListOF Fixed(31)   /*                             00711000
*                                      Job sections mapped by:          00712000
*                                        SMF98_3_JobList             */ 00713000
*   ,7 SMF98_3_DTA_JobListLN Fixed(15)   /*                             00714000
*                                      Length of Job List section    */ 00715000
*   ,7 SMF98_3_DTA_JobListON Fixed(15)   /*                             00716000
*                                      Number of Job List sections   */ 00717000
*                                                                       00718000
*                                                                       00719000
* ,3 * Char(0)                      /*                               */ 00720000
* ;                                                                     00721000
*                                                                       00722000
*                                                                       00723000
*                                                                       00724000
*/*------------------------------------------------------------------*/ 00725000
*/* Constants                                                        */ 00726000
*/*------------------------------------------------------------------*/ 00727000
*Dcl SMF98_3_kReleaseIndex Fixed(16) Constant(1) /*                     00728000
*                                      Current release index value.     00729000
*                                      When this constant is the same   00730000
*                                      as the previous release and      00731000
*                                      this macro introduces new data   00732000
*                                      which does not exist at the      00733000
*                                      previous release, increment      00734000
*                                      SMF98_3_kReleaseIndex . Last     00735000
*                                      release constant changed:        00736000
*                                      HBB77D0                          00737000
*                                                                    */ 00738000
*   ,SMF98_3_kWithinReleaseIndex Fixed(16) Constant(0) /*               00739000
*                                      Current within-release index     00740000
*                                      value                            00741000
*                                                                    */ 00742000
*   ,SMF98_3_kPrototypeIndex Fixed(16) Constant(0) /*                   00743000
*                                      Current prototype index value    00744000
*                                                                    */ 00745000
* ;                                                                     00746000
*                                                                       00747000
*                                                                       00748000
*/*------------------------------------------------------------------*/ 00749000
*/* First triplet                                                    */ 00750000
*/*  Aggregate Bucket 1                                              */ 00751000
*/*------------------------------------------------------------------*/ 00752000
*Dcl                                                                    00753000
* 1 SMF98_3_AggBkt1  Type /* Asynchronous (FICON) I/O section           00754000
*                                                                    */ 00755000
*                                                                       00756000
*/*------------------------------------------------------------------*/ 00757000
*/*  Aggregate Bucket 1 Header - Asynchronous (FICON) I/O            */ 00758000
*/*------------------------------------------------------------------*/ 00759000
* ,3 SMF98_3_AggBkt1Header Bdy(Word)                                    00760000
*  ,5 SMF98_3_AggBkt1_CpuType Fixed(15) Unsigned /* CPU Type            00761000
*                                      of this output. Can be one of:   00762000
*                 Value: Meaning: Constant:                             00763000
*                 0      CP       PSAProcClass_CP                       00764000
*                 4      zIIP     PSAProcClass_zIIP                     00765000
*                                                                    */ 00766000
*  ,5 SMF98_3_AggBkt1_JobPriority Fixed(16) /* Job priority, can        00767000
*                                      be one of:                       00768000
*                 Value: Meaning:      Constant:                        00769000
*                 FFFF   All           SMF98_kPriorityBucket_All        00770000
*                 1      Critical      SMF98_kPriorityBucket_1          00771000
*                 2      High          SMF98_kPriorityBucket_2          00772000
*                 3      Low           SMF98_kPriorityBucket_3          00773000
*                 4      Discretionary SMF98_kPriorityBucket_4          00774000
*                                                                    */ 00775000
*  ,5 SMF98_3_AggBkt1_JobSize Fixed(16) /* Job Size relative to         00776000
*                                      other jobs in the system for     00777000
*                                      this CPU type, can be one of:    00778000
*                 Value: Meaning:      Constant:                        00779000
*                 FFFF   All           SMF98_kConsume_SubBucket_All     00780000
*                 1      Large         SMF98_kConsume_SubBucket_1       00781000
*                 2      Medium        SMF98_kConsume_SubBucket_2       00782000
*                 3      Small         SMF98_kConsume_SubBucket_3       00783000
*                 4      Tiny          SMF98_kConsume_SubBucket_4       00784000
*                                                                    */ 00785000
* ,3 SMF98_3_AggBkt1_ExpArea Bdy(Word,3)                                00786000
*                                   /* Aggregate bucket 1 exploiter     00787000
*                                      area, contains number of         00788000
*                                      contributors and activity data   00789000
*                                                                    */ 00790000
* %IF IBM_CBGEN ^= 'YES' & IBM_CBGENC ^= 'YES' %Then                    00791000
* %Do;                                                                  00792000
*  ,5 SMF98_3_AggBkt1_ExpArea_Data isa(SMF98_3_AggBkt1Data)             00793000
*            bdy(word,3)                                                00794000
* %End;                                                                 00795000
* %Else %Do;                                                            00796000
*  ,5 SMF98_3_AggBkt1_ExpArea_Data Bdy(word,3)                          00797000
*     Char(Size(SMF98_3_AggBkt1Data))  /* Mapped by                     00798000
*                                         SMF98_3_AggBkt1Data           00799000
*                                                                    */ 00800000
* %End;                                                                 00801000
* ,3 * Char(0)                     /*                                */ 00802000
* ;                                                                     00803000
*                                                                       00804000
*/*------------------------------------------------------------------*/ 00805000
*/*  Aggregate Bucket 1 Data - Asynchronous (FICON) I/O              */ 00806000
*/*------------------------------------------------------------------*/ 00807000
*Dcl                                                                    00808000
* 1 SMF98_3_AggBkt1Data Type Bdy(Word,3)                                00809000
* ,3 SMF98_3_AggBkt1_Contributors Fixed(16) /* Number of                00810000
*                                      address spaces in this analysis  00811000
*                                                                    */ 00812000
*                                                                       00813000
*/*------------------------------------------------------------------*/ 00814000
*/* Aggregate bucket 1 data - Asynch (FICON) I/O Section             */ 00815000
*/*------------------------------------------------------------------*/ 00816000
* ,3 SMF98_3_AggBkt1_Data Bdy(Word)                                     00817000
*                                                                       00818000
*/*------------------------------------------------------------------*/ 00819000
*/* Aggregate bucket 1 data - Asynch I/O Section - Read              */ 00820000
*/*------------------------------------------------------------------*/ 00821000
*  ,5 SMF98_3_AggBkt1_Read                                              00822000
*   ,7 SMF98_3_AggBkt1_IOIRead         Fixed(32)                        00823000
*                                   /* The read I/O intensity during    00824000
*                                      this interval                    00825000
*                                                                    */ 00826000
*   ,7 SMF98_3_AggBkt1_TotalIORead     Fixed(32)                        00827000
*                                   /* Total number of read I/Os during 00828000
*                                      this interval                    00829000
*                                                                    */ 00830000
*   ,7 SMF98_3_AggBkt1_AvgRspTimeRead  Fixed(32)                        00831000
*                                   /* Average read response time in    00832000
*                                      microseconds during this         00833000
*                                      interval                         00834000
*                                                                    */ 00835000
*   ,7 SMF98_3_AggBkt1_MaxRspTimeRead  Fixed(32)                        00836000
*                                   /* Maximum read response time in    00837000
*                                      microseconds during this         00838000
*                                      interval                         00839000
*                                                                    */ 00840000
*/*------------------------------------------------------------------*/ 00841000
*/* Aggregate bucket 1 data - Asynch I/O Section - Write             */ 00842000
*/*------------------------------------------------------------------*/ 00843000
*  ,5 SMF98_3_AggBkt1_Write                                             00844000
*   ,7 SMF98_3_AggBkt1_IOIWrite        Fixed(32)                        00845000
*                                   /* The write I/O intensity during   00846000
*                                      this interval                    00847000
*                                                                    */ 00848000
*   ,7 SMF98_3_AggBkt1_TotalIOWrite    Fixed(32)                        00849000
*                                   /* Total number of write I/Os       00850000
*                                      during this interval             00851000
*                                                                    */ 00852000
*   ,7 SMF98_3_AggBkt1_AvgRspTimeWrite Fixed(32)                        00853000
*                                   /* Average write response time in   00854000
*                                      microseconds during this         00855000
*                                      interval                         00856000
*                                                                    */ 00857000
*   ,7 SMF98_3_AggBkt1_MaxRspTimeWrite Fixed(32)                        00858000
*                                   /* Maximum write response time in   00859000
*                                      microseconds during this         00860000
*                                      interval                         00861000
*                                                                    */ 00862000
* ,3 * Char(0)                      /*                               */ 00863000
* ;                                 /* End SMF98_3_AggBkt1Data       */ 00864000
*                                                                       00865000
*                                                                       00866000
*                                                                       00867000
*/*------------------------------------------------------------------*/ 00868000
*/* Second triplet                                                   */ 00869000
*/*  Aggregate Bucket 2                                              */ 00870000
*/*                                                                  */ 00871000
*/*  Note: When (and if) a second aggregate bucket is defined, then  */ 00872000
*/*        define it here and remove this note.                      */ 00873000
*/*------------------------------------------------------------------*/ 00874000
*                                                                       00875000
*                                                                       00876000
*/*------------------------------------------------------------------*/ 00877000
*/*  Exceptional Job Sections                                        */ 00878000
*/*                                                                  */ 00879000
*/*  The exception job sections consist of two structures:           */ 00880000
*/*  - Job Index - a list of the "most" exceptional activities for   */ 00881000
*/*    each of the Cpu Type, Job Priority, and Job Size combinations */ 00882000
*/*                                                                  */ 00883000
*/*  - Job List - a list of the jobs (identified by their ASID and   */ 00884000
*/*    jobname) that contain the "most" exceptional activity for a   */ 00885000
*/*    given activity.                                               */ 00886000
*/*------------------------------------------------------------------*/ 00887000
*                                                                       00888000
*                                                                       00889000
*/*------------------------------------------------------------------*/ 00890000
*/* Third triplet                                                    */ 00891000
*/*  Job Index - Asynchronous (FICON) I/O                            */ 00892000
*/*------------------------------------------------------------------*/ 00893000
*Dcl                                                                    00894000
* 1 SMF98_3_JobIdx Type              /* Job index data area          */ 00895000
* ,3 SMF98_3_JobIdxHdr               /* Job index header             */ 00896000
*  ,5 SMF98_3_JobIdx_CpuType Fixed(15) Unsigned /* CPU type, can be     00897000
*                                      one of:                          00898000
*                 Value: Meaning: Constant:                             00899000
*                 0      CP       PSAProcClass_CP                       00900000
*                 4      zIIP     PSAProcClass_zIIP                     00901000
*                                                                    */ 00902000
*  ,5 SMF98_3_JobIdx_PriorityBucket Fixed(16) /* Priority               00903000
*                                      bucket. Can be one of:           00904000
*                                   FFFF kSMF98_3_PriorityBucket_All,   00905000
*                                      1 SVT_kHiPriorityBucketIndex,    00906000
*                                      2 SVT_kMedPriorityBucketIndex,   00907000
*                                      3 SVT_kLowPriorityBucketIndex,   00908000
*                                      4 SVT_kDiscPriorityBucketIndex   00909000
*                                                                    */ 00910000
*  ,5 SMF98_3_JobIdx_JobSizeBucket Fixed(16) /* Job Size buckets        00911000
*                                      are separated by the aggregate   00912000
*                                      dispatch time of this processor  00913000
*                                      class and priority bucket.       00914000
*                                      Address space data is grouped    00915000
*                                      by percentage of time used       00916000
*                                      versus the aggregate.  Can be    00917000
*                                      one of:                          00918000
*         value - SMF98_kConsume_ (% CpuType CPU Time),                 00919000
*          FFFF - SubBucket_All      (0-100%),                          00920000
*             1 - SubBucket_1        (SVT_SubBucket_Ranges(1)-100%),    00921000
*             2 - SubBucket_2        (SVT_SubBucket_Ranges(2)-...(1)),  00922000
*             3 - SubBucket_3        (SVT_SubBucket_Ranges(3)-...(2)),  00923000
*             4 - SubBucket_4        (0%-SVT_SubBucket_Ranges(3))       00924000
*                                                                    */ 00925000
*                                                                       00926000
*/*------------------------------------------------------------------*/ 00927000
*/* Job Index - Asynchronous (FICON) I/O Section - Read              */ 00928000
*/*------------------------------------------------------------------*/ 00929000
* ,3 SMF98_3_JobIdx_Read                                                00930000
*  ,5 SMF98_3_JobIdx_TopIOIRead        Fixed(16) /*                     00931000
*                                      Job index of the job with the    00932000
*                                      highest read I/O intensity.      00933000
*                                      See SMF98_3_JobList with         00934000
*                                      the matching index for details   00935000
*                                                                    */ 00936000
*  ,5 SMF98_3_JobIdx_TopTotalIORead    Fixed(16) /*                     00937000
*                                      Job index of the job with the    00938000
*                                      highest total read I/Os.         00939000
*                                      See SMF98_3_JobList with the     00940000
*                                      matching index for details       00941000
*                                                                    */ 00942000
*  ,5 SMF98_3_JobIdx_TopAvgRspTimeRead Fixed(16) /*                     00943000
*                                      Job index of the job with the    00944000
*                                      highest average read response    00945000
*                                      time.                            00946000
*                                      See SMF98_3_JobList with the     00947000
*                                      matching index for details       00948000
*                                                                    */ 00949000
*  ,5 SMF98_3_JobIdx_TopMaxRspTimeRead Fixed(16) /*                     00950000
*                                      Job index of the job with the    00951000
*                                      highest maximum read response    00952000
*                                      time.                            00953000
*                                      See SMF98_3_JobList with         00954000
*                                      the matching index for details   00955000
*                                                                    */ 00956000
*                                                                       00957000
*                                                                       00958000
*/*------------------------------------------------------------------*/ 00959000
*/* Job Index - Asynchronous (FICON) I/O Section - Write             */ 00960000
*/*------------------------------------------------------------------*/ 00961000
* ,3 SMF98_3_JobIdx_Write                                               00962000
*  ,5 SMF98_3_JobIdx_TopIOIWrite       Fixed(16) /*                     00963000
*                                      Job index of the job with the    00964000
*                                      highest write I/O intensity.     00965000
*                                      See SMF98_3_JobList with         00966000
*                                      the matching index for details   00967000
*                                                                    */ 00968000
*  ,5 SMF98_3_JobIdx_TopTotalIOWrite   Fixed(16) /*                     00969000
*                                      Job index of the job with the    00970000
*                                      highest total write I/Os.        00971000
*                                      See SMF98_3_JobList with the     00972000
*                                      matching index for details       00973000
*                                                                    */ 00974000
*  ,5 SMF98_3_JobIdx_TopAvgRspTimeWrite Fixed(16) /*                    00975000
*                                      Job index of the job with the    00976000
*                                      highest average write response   00977000
*                                      time.                            00978000
*                                      See SMF98_3_JobList with the     00979000
*                                      matching index for details       00980000
*                                                                    */ 00981000
*  ,5 SMF98_3_JobIdx_TopMaxRspTimeWrite Fixed(16) /*                    00982000
*                                      Job index of the job with the    00983000
*                                      highest maximum write response   00984000
*                                      time.                            00985000
*                                      See SMF98_3_JobList with         00986000
*                                      the matching index for details   00987000
*                                                                    */ 00988000
* ;                                                                     00989000
*                                                                       00990000
*/*------------------------------------------------------------------*/ 00991000
*/* Fourth triplet                                                   */ 00992000
*/*  Job List - Asynchronous (FICON) I/O                             */ 00993000
*/*------------------------------------------------------------------*/ 00994000
*Dcl                                                                    00995000
* 1 SMF98_3_JobList Type            /* Sample WIC Job information    */ 00996000
* ,3 SMF98_3_JobList_Hdr            /* Job list header               */ 00997000
*  ,5 SMF98_3_JobList_ID Fixed(16)  /* Address Space ID number          00998000
*                                                                    */ 00999000
*  ,5 SMF98_3_JobList_Name Char(8)  /* Name of address space            01000000
*                                                                    */ 01001000
*  ,5 * Char(2)                     /* Reserved                      */ 01002000
*                                                                       01003000
*/*------------------------------------------------------------------*/ 01004000
*/* Job list data - Asynch (FICON) Section                           */ 01005000
*/*------------------------------------------------------------------*/ 01006000
* ,3 SMF98_3_JobList_Data           /* Job list activity area - Asynch  01007000
*                                                                    */ 01008000
*                                                                       01009000
*/*------------------------------------------------------------------*/ 01010000
*/* Job list data - Asynch (FICON) I/O Section - Read                */ 01011000
*/*------------------------------------------------------------------*/ 01012000
*  ,5 SMF98_3_JobList_Read                                              01013000
*   ,7 SMF98_3_JobList_IOIRead         Fixed(32) /*                     01014000
*                                      The read I/O intensity during    01015000
*                                      this interval                    01016000
*                                                                    */ 01017000
*                                                                       01018000
*   ,7 SMF98_3_JobList_TotalIORead     Fixed(32) /*                     01019000
*                                      Total read I/Os during this      01020000
*                                      interval                         01021000
*                                                                    */ 01022000
*                                                                       01023000
*   ,7 SMF98_3_JobList_AvgRspTimeRead  Fixed(32) /*                     01024000
*                                      Average read response time in    01025000
*                                      microseconds during this         01026000
*                                      interval                         01027000
*                                                                    */ 01028000
*                                                                       01029000
*   ,7 SMF98_3_JobList_MaxRspTimeRead  Fixed(32) /*                     01030000
*                                      Maximum read response time in    01031000
*                                      microseconds during this         01032000
*                                      interval                         01033000
*                                                                    */ 01034000
*                                                                       01035000
*                                                                       01036000
*/*------------------------------------------------------------------*/ 01037000
*/* Job list data - Asynch (FICON) I/O Section - Write               */ 01038000
*/*------------------------------------------------------------------*/ 01039000
*  ,5 SMF98_3_JobList_Write                                             01040000
*   ,7 SMF98_3_JobList_IOIWrite        Fixed(32) /*                     01041000
*                                      The write I/O intensity during   01042000
*                                      this interval                    01043000
*                                                                    */ 01044000
*                                                                       01045000
*   ,7 SMF98_3_JobList_TotalIOWrite    Fixed(32) /*                     01046000
*                                      Total write I/Os during this     01047000
*                                      interval                         01048000
*                                                                    */ 01049000
*                                                                       01050000
*   ,7 SMF98_3_JobList_AvgRspTimeWrite Fixed(32) /*                     01051000
*                                      Average write response time in   01052000
*                                      microseconds during this         01053000
*                                      interval                         01054000
*                                                                    */ 01055000
*                                                                       01056000
*   ,7 SMF98_3_JobList_MaxRspTimeWrite Fixed(32) /*                     01057000
*                                      Maximum write response time in   01058000
*                                      microseconds during this         01059000
*                                      interval                         01060000
*                                                                    */ 01061000
*                                                                       01062000
*                                                                       01063000
*/*------------------------------------------------------------------*/ 01064000
*/* Job list data - Additional Asynch (FICON) I/O Section            */ 01065000
*/*------------------------------------------------------------------*/ 01066000
* ,3 SMF98_3_JobList_AdtlAsycnh    /* Job list activity area -          01067000
*                                     additional Asynch              */ 01068000
*                                                                       01069000
*/*------------------------------------------------------------------*/ 01070000
*/* Job list data - Additional Asynch I/O Section - Read             */ 01071000
*/*------------------------------------------------------------------*/ 01072000
*  ,5 SMF98_3_JobList_AdtlAsynch_Read                                   01073000
*   ,7 SMF98_3_JobList_AA_AvgRspTimeComps_Read  /*                      01074000
*                                      Read Average Response Time       01075000
*                                      Components                    */ 01076000
*    ,9 SMF98_3_JobList_AA_ARTC_IOSQTimePctRead Fixed(8) /*             01077000
*                                      IOS Queue time percentage of the 01078000
*                                      average read response time       01079000
*                                                                    */ 01080000
*                                                                       01081000
*    ,9 SMF98_3_JobList_AA_ARTC_ConnTimePctRead Fixed(8) /*             01082000
*                                      Connect time percentage of the   01083000
*                                      average read response time       01084000
*                                                                    */ 01085000
*                                                                       01086000
*    ,9 SMF98_3_JobList_AA_ARTC_PendTimePctRead Fixed(8) /*             01087000
*                                      Pending time percentage of the   01088000
*                                      average read response time       01089000
*                                                                    */ 01090000
*                                                                       01091000
*    ,9 SMF98_3_JobList_AA_ARTC_DiscTimePctRead Fixed(8)  /*            01092000
*                                      Disconnect time percentage of    01093000
*                                      the average read response time   01094000
*                                                                    */ 01095000
*                                                                       01096000
*   ,7 SMF98_3_JobList_AA_MaxRspTimeComps_Read /*                       01097000
*                                      Read Maximum Response Time       01098000
*                                      Components                    */ 01099000
*    ,9 SMF98_3_JobList_AA_MRTC_IOSQTimePctRead Fixed(8) /*             01100000
*                                      IOS Queue time percentage of the 01101000
*                                      maximum read response time       01102000
*                                                                    */ 01103000
*                                                                       01104000
*    ,9 SMF98_3_JobList_AA_MRTC_ConnTimePctRead Fixed(8) /*             01105000
*                                      Connect time percentage of the   01106000
*                                      maximum read response time       01107000
*                                                                    */ 01108000
*                                                                       01109000
*    ,9 SMF98_3_JobList_AA_MRTC_PendTimePctRead Fixed(8) /*             01110000
*                                      Pending time percentage of the   01111000
*                                      maximum read response time       01112000
*                                                                    */ 01113000
*                                                                       01114000
*    ,9 SMF98_3_JobList_AA_MRTC_DiscTimePctRead Fixed(8)  /*            01115000
*                                      Disconnect time percentage of    01116000
*                                      the maximum read response time   01117000
*                                                                    */ 01118000
*                                                                       01119000
*    ,9 SMF98_3_JobList_AA_MRTC_ICMRTimePctRead Fixed(8)  /*            01120000
*                                      Initial Command Response time    01121000
*                                      percentage of the maximum read   01122000
*                                      response time                    01123000
*                                                                    */ 01124000
*                                                                       01125000
*    ,9 SMF98_3_JobList_AA_MRTC_CUQTimePctRead Fixed(8)  /*             01126000
*                                      Control Unit Queueing time       01127000
*                                      percentage of the maximum read   01128000
*                                      response time                    01129000
*                                                                    */ 01130000
*                                                                       01131000
*    ,9 SMF98_3_JobList_AA_MRTC_DBTimePctRead Fixed(8)  /*              01132000
*                                      Device Busy time percentage of   01133000
*                                      the maximum read response time   01134000
*                                                                    */ 01135000
*                                                                       01136000
*    ,9 * Char(2)                   /* Reserved                      */ 01137000
*                                                                       01138000
*    ,9 SMF98_3_JobList_AA_DeviceRead Fixed(24) /*                      01139000
*                                      Subchannel set id and device     01140000
*                                      number of the device with the    01141000
*                                      maximum read response time       01142000
*                                                                    */ 01143000
* /*  ,11 SMF98_3_JobList_AA_SSIDRead       Fixed(8)                    01144000
*                                      Subchannel set id of the device  01145000
*                                      with maximum read response       01146000
*                                      time                          */ 01147000
*                                                                       01148000
* /*  ,11 SMF98_3_JobList_AA_DevNumRead     Fixed(16)                   01149000
*                                      Device number of the device      01150000
*                                      with maximum read response       01151000
*                                      time                          */ 01152000
*                                                                       01153000
*                                                                       01154000
*/*------------------------------------------------------------------*/ 01155000
*/* Job list data - Additional Asynch I/O Section - Write            */ 01156000
*/*------------------------------------------------------------------*/ 01157000
*  ,5 SMF98_3_JobList_AdtlAsynch_Write                                  01158000
*   ,7 SMF98_3_JobList_AA_AvgRspTimeComps_Write  /*                     01159000
*                                      Write Average Response Time      01160000
*                                      Components                    */ 01161000
*    ,9 SMF98_3_JobList_AA_ARTC_IOSQTimePctWrite Fixed(8) /*            01162000
*                                      IOS Queue time percentage of the 01163000
*                                      average write response time      01164000
*                                                                    */ 01165000
*                                                                       01166000
*    ,9 SMF98_3_JobList_AA_ARTC_ConnTimePctWrite Fixed(8) /*            01167000
*                                      Connect time percentage of the   01168000
*                                      average write response time      01169000
*                                                                    */ 01170000
*                                                                       01171000
*    ,9 SMF98_3_JobList_AA_ARTC_PendTimePctWrite Fixed(8) /*            01172000
*                                      Pending time percentage of the   01173000
*                                      average write response time      01174000
*                                                                    */ 01175000
*                                                                       01176000
*    ,9 SMF98_3_JobList_AA_ARTC_DiscTimePctWrite Fixed(8)  /*           01177000
*                                      Disconnect time percentage of    01178000
*                                      the average write response time  01179000
*                                                                    */ 01180000
*                                                                       01181000
*   ,7 SMF98_3_JobList_AA_MaxRspTimeComps_Write /*                      01182000
*                                      Write Maximum Response Time      01183000
*                                      Components                    */ 01184000
*    ,9 SMF98_3_JobList_AA_MRTC_IOSQTimePctWrite Fixed(8) /*            01185000
*                                      IOS Queue time percentage of the 01186000
*                                      maximum write response time      01187000
*                                                                    */ 01188000
*                                                                       01189000
*    ,9 SMF98_3_JobList_AA_MRTC_ConnTimePctWrite Fixed(8) /*            01190000
*                                      Connect time percentage of the   01191000
*                                      maximum write response time      01192000
*                                                                    */ 01193000
*                                                                       01194000
*    ,9 SMF98_3_JobList_AA_MRTC_PendTimePctWrite Fixed(8) /*            01195000
*                                      Pending time percentage of the   01196000
*                                      maximum write response time      01197000
*                                                                    */ 01198000
*                                                                       01199000
*    ,9 SMF98_3_JobList_AA_MRTC_DiscTimePctWrite Fixed(8)  /*           01200000
*                                      Disconnect time percentage of    01201000
*                                      the maximum write response time  01202000
*                                                                    */ 01203000
*                                                                       01204000
*    ,9 SMF98_3_JobList_AA_MRTC_ICMRTimePctWrite Fixed(8)  /*           01205000
*                                      Initial Command Response time    01206000
*                                      percentage of the maximum write  01207000
*                                      response time                    01208000
*                                                                    */ 01209000
*                                                                       01210000
*    ,9 SMF98_3_JobList_AA_MRTC_CUQTimePctWrite Fixed(8)  /*            01211000
*                                      Control Unit Queueing time       01212000
*                                      percentage of the maximum write  01213000
*                                      response time                    01214000
*                                                                    */ 01215000
*                                                                       01216000
*    ,9 SMF98_3_JobList_AA_MRTC_DBTimePctWrite Fixed(8)  /*             01217000
*                                      Device Busy time percentage of   01218000
*                                      the maximum write response time  01219000
*                                                                    */ 01220000
*                                                                       01221000
*    ,9 * Char(2)                   /* Reserved                      */ 01222000
*                                                                       01223000
*    ,9 SMF98_3_JobList_AA_DeviceWrite Fixed(24) /*                     01224000
*                                      Subchannel set id and device     01225000
*                                      number of the device with the    01226000
*                                      maximum read response time       01227000
*                                                                    */ 01228000
* /*  ,11 SMF98_3_JobList_AA_SSIDWrite      Fixed(8)                    01229000
*                                      Subchannel set id of the device  01230000
*                                      with maximum write response      01231000
*                                      time                             01232000
*                                                                    */ 01233000
*                                                                       01234000
* /*  ,11 SMF98_3_JobList_AA_DevNumWrite     Fixed(16)                  01235000
*                                      Device number of the device      01236000
*                                      with maximum write response      01237000
*                                      time                             01238000
*                                                                    */ 01239000
* ;                                                                     01240000
*                                                                       01241000
*                                                                       01242000
*                                                                       01243000
*/*------------------------------------------------------------------*/ 01244000
*/* Structure for manipulating device number                         */ 01245000
*/*------------------------------------------------------------------*/ 01246000
* %IF IBM_CBGEN ^= 'YES' & IBM_CBGENC ^= 'YES' %Then                    01247000
* %Do;                                                                  01248000
*Dcl                                                                    01249000
* 1 SMF98_3_DevNum         Fixed(24)                                    01250000
* ,3 SMF98_3_DevNum_SSID   Fixed(8)                                     01251000
* ,3 SMF98_3_DevNum_DevNum Fixed(16)                                    01252000
* ;                                                                     01253000
* %End;                                                                 01254000
* %Else %Do;                                                            01255000
* %End;                                                                 01256000
*/* End of PL/X Source                                               */ 01257000
* %IF IOSDS983_LIST = 'NO' !                                            01258000
*    ZCBPRINT = 'NO' %THEN                                              01259000
* %DO;                                                                  01260000
*   @LIST POP NOECHO;                                                   01261000
* %END;                                                                 01262000
* %END;                                                                 01263000
